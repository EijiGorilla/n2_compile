"use strict";(self.webpackChunkn2_compile=self.webpackChunkn2_compile||[]).push([[3638],{43638:(e,t,n)=>{n.r(t),n.d(t,{default:()=>S});var i=n(72791),r=n(80849),a=n(93510),l=n(18661),o=n(21149),s=n(36801),c=n(59181),p=n(97304),d=n(70565),u=n(69110),h=n(12657),f=n(66817),v=n(95494),m=n(56343),g=n(44323),w=n(71570),x=n(52633),y=n(51155),A=n(38487),b=n(39286),T=n(97873),C=n(80659),L=n(91934),E=(n(35738),n(85580)),j=(n(93508),n(44520)),k=n(26877),I=n(80184);function _(e){s.S6(c.i_.rootElements,(function(t){t.dom.id===e&&t.dispose()}))}const S=e=>{const t=(0,i.useRef)({}),[n,s]=(0,i.useState)([]),c="utility-point-bar",S=(0,i.useRef)({}),[Z,X]=(0,i.useState)([]),F="utility-line-bar",[N,R]=(0,i.useState)([]),$="1=1",z="CP = '"+e.contractp+"'";"All"===e.contractp?(a.yv.definitionExpression=$,a.rU.definitionExpression=$,a.L.definitionExpression=$,a.jK.definitionExpression=$):(a.yv.definitionExpression=z,a.rU.definitionExpression=z,a.L.definitionExpression=z,a.jK.definitionExpression=z),(0,i.useEffect)((()=>{(0,j.WH)().then((e=>{s(e)})),(0,j.B0)().then((e=>{X(e)})),(0,j.cD)(e.contractp).then((e=>{R(e)}))}),[e.contractp]);const B="#'%'",O="0.8vw",P="0.8vw",U="#0070ff",Y="#000000",D="#00c5ff";return(0,i.useEffect)((()=>{var i;_(c);var s=p.f.new(c);s.container.children.clear(),null===(i=s._logo)||void 0===i||i.dispose(),s.setThemes([C.Z.new(s),L.Z.new(s)]);var E=s.container.children.push(g.z.new(s,{panX:!1,panY:!1,layout:s.verticalLayout,marginTop:0,marginLeft:0,marginRight:0,marginBottom:0,paddingTop:10,paddingLeft:5,paddingRight:5,paddingBottom:0,scale:1,height:d.aQ(100)}));t.current=E;var k=w.j.new(s,{inversed:!0}),I=E.yAxes.push(x.$.new(s,{categoryField:"category",renderer:k,bullet:function(e,t,n){return y._.new(e,{location:.5,sprite:u.t.new(e,{width:35,height:35,centerY:d.CI,centerX:d.CI,x:-21,src:n.dataContext.icon})})},tooltip:h.u.new(s,{})}));k.labels.template.setAll({paddingRight:45}),k.grid.template.setAll({location:1}),I.get("renderer").labels.template.setAll({oversizedBehavior:"wrap",textAlign:"center",fill:f.$_("#ffffff"),fontSize:O}),I.data.setAll(n);var S=E.xAxes.push(A.m.new(s,{min:0,max:100,strictMinMax:!0,numberFormat:B,calculateTotals:!0,renderer:b.n.new(s,{strokeOpacity:0,strokeWidth:1,stroke:f.$_("#ffffff")})}));function Z(t,i){var c=E.series.push(T.d.new(s,{name:t,stacked:!0,xAxis:S,yAxis:I,baseAxis:I,valueXField:i,valueXShow:"valueXTotalPercent",categoryYField:"category",fill:"incomp"===i?f.$_(Y):f.$_(U),stroke:f.$_(D)}));c.columns.template.setAll({tooltipText:"{name}: {valueX}",tooltipY:d.aQ(90),fillOpacity:"incomp"===i?0:1,strokeWidth:.4}),c.data.setAll(n),c.appear(),c.bullets.push((function(){return v.g.new(s,{sprite:m._.new(s,{text:0===i?"":"{valueXTotalPercent.formatNumber('#.')}%",fill:s.interfaceColors.get("alternativeText"),opacity:"incomp"===i?0:1,fontSize:"1vw",centerY:d.CI,centerX:d.CI,populateText:!0})})})),c.columns.template.events.on("click",(t=>{var n;const s=(null===(n=t.target.dataItem)||void 0===n?void 0:n.dataContext).category,c=j.mZ.find((e=>e.category===s)),p=null===c||void 0===c?void 0:c.value,d="incomp"===i?0:1,u="1=1",h="CP = '"+e.contractp+"' AND UtilType = "+p+" AND Status = "+d;var f=a.yv.createQuery();let v;f.where="All"===e.contractp?u:h,r.ei.when((()=>{r.ei.whenLayerView(a.yv).then((t=>{a.yv.queryFeatures(f).then((e=>{const n=e.features.length;let i=[];for(var s=0;s<n;s++){var c=e.features[s].attributes.OBJECTID;i.push(c)}var p=new o.Z({objectIds:i});a.yv.queryExtent(p).then((e=>{e.extent&&r.ei.goTo(e.extent)})),v&&v.remove(),v=t.highlight(i),r.ei.on("click",(()=>{t.filter=new l.Z({where:void 0}),v.remove()}))})),t.filter=new l.Z({where:"All"===e.contractp?u:h})}));var t=a.yv.createQuery();t.where="All"===e.contractp?u:h,r.ei.whenLayerView(a.rU).then((n=>{a.rU.queryFeatures(t).then((e=>{const t=e.features.length;let i=[];for(var s=0;s<t;s++){var c=e.features[s].attributes.OBJECTID;i.push(c)}var p=new o.Z({objectIds:i});a.rU.queryExtent(p).then((e=>{e.extent&&r.ei.goTo(e.extent)})),v&&v.remove(),v=n.highlight(i),r.ei.on("click",(()=>{n.filter=new l.Z({where:void 0}),v.remove()}))})),n.filter=new l.Z({where:"All"===e.contractp?u:h})}))}))}))}return S.get("renderer").labels.template.setAll({textAlign:"center",fill:f.$_("#ffffff"),fontSize:P}),Z("Complete","comp"),Z("Incomplete","incomp"),E.appear(1e3,100),()=>{s.dispose()}})),(0,i.useEffect)((()=>{var t;_(F);var n=p.f.new(F);n.container.children.clear(),null===(t=n._logo)||void 0===t||t.dispose(),n.setThemes([C.Z.new(n),L.Z.new(n)]);var i=n.container.children.push(g.z.new(n,{panX:!1,panY:!1,layout:n.verticalLayout,marginTop:0,marginLeft:0,marginRight:0,marginBottom:0,paddingTop:10,paddingLeft:5,paddingRight:5,paddingBottom:0,scale:1,height:d.aQ(100)}));S.current=i;var s=w.j.new(n,{inversed:!0}),c=i.yAxes.push(x.$.new(n,{categoryField:"category",renderer:s,bullet:function(e,t,n){return y._.new(e,{location:.5,sprite:u.t.new(e,{width:35,height:35,centerY:d.CI,centerX:d.CI,x:-21,src:n.dataContext.icon})})},tooltip:h.u.new(n,{})}));s.labels.template.setAll({paddingRight:45}),s.grid.template.setAll({location:1}),c.get("renderer").labels.template.setAll({oversizedBehavior:"wrap",textAlign:"center",fill:f.$_("#ffffff"),fontSize:O}),c.data.setAll(Z);var E=i.xAxes.push(A.m.new(n,{min:0,max:100,strictMinMax:!0,numberFormat:B,calculateTotals:!0,renderer:b.n.new(n,{strokeOpacity:0,strokeWidth:1,stroke:f.$_("#ffffff")})}));function k(t,s){var p=i.series.push(T.d.new(n,{name:t,stacked:!0,xAxis:E,yAxis:c,baseAxis:c,valueXField:s,valueXShow:"valueXTotalPercent",categoryYField:"category",fill:"incomp"===s?f.$_(Y):f.$_(U),stroke:f.$_(D)}));p.columns.template.setAll({tooltipText:"{name}: {valueX}",tooltipY:d.aQ(90),fillOpacity:"incomp"===s?0:1,strokeWidth:.4}),p.data.setAll(Z),p.appear(),p.bullets.push((function(){return v.g.new(n,{sprite:m._.new(n,{text:0===s?"":"{valueXTotalPercent.formatNumber('#.')}%",fill:n.interfaceColors.get("alternativeText"),opacity:"incomp"===s?0:1,fontSize:"1vw",centerY:d.CI,centerX:d.CI,populateText:!0})})})),p.columns.template.events.on("click",(t=>{var n;const i=(null===(n=t.target.dataItem)||void 0===n?void 0:n.dataContext).category,c=j.mZ.find((e=>e.category===i)),p=null===c||void 0===c?void 0:c.value,d="incomp"===s?0:1,u="1=1",h="CP = '"+e.contractp+"' AND UtilType = "+p+" AND Status = "+d;var f=a.L.createQuery();let v;f.where="All"===e.contractp?u:h,r.ei.when((()=>{r.ei.whenLayerView(a.L).then((t=>{a.L.queryFeatures(f).then((e=>{const n=e.features.length;let i=[];for(var s=0;s<n;s++){var c=e.features[s].attributes.OBJECTID;i.push(c)}var p=new o.Z({objectIds:i});a.L.queryExtent(p).then((e=>{e.extent&&r.ei.goTo(e.extent)})),v&&v.remove(),v=t.highlight(i),r.ei.on("click",(()=>{t.filter=new l.Z({where:void 0}),v.remove()}))})),t.filter=new l.Z({where:"All"===e.contractp?u:h})}));var t=a.L.createQuery();t.where="All"===e.contractp?u:h,r.ei.whenLayerView(a.jK).then((n=>{a.jK.queryFeatures(t).then((e=>{const t=e.features.length;let i=[];for(var s=0;s<t;s++){var c=e.features[s].attributes.OBJECTID;i.push(c)}var p=new o.Z({objectIds:i});a.jK.queryExtent(p).then((e=>{e.extent&&r.ei.goTo(e.extent)})),v&&v.remove(),v=n.highlight(i),r.ei.on("click",(()=>{n.filter=new l.Z({where:void 0}),v.remove()}))})),n.filter=new l.Z({where:"All"===e.contractp?u:h})}))}))}))}return E.get("renderer").labels.template.setAll({textAlign:"center",fill:f.$_("#ffffff"),fontSize:P}),k("Complete","comp"),k("Incomplete","incomp"),i.appear(1e3,100),()=>{n.dispose()}})),(0,I.jsxs)("div",{children:[(0,I.jsx)("div",{style:{color:k.X7,fontSize:"1.2rem",marginLeft:"13px",marginTop:"10px"},children:"TOTAL PROGRESS"}),(0,I.jsx)(E.ZK,{layout:"inline",children:(0,I.jsxs)("b",{className:"totalLotsNumber",style:{color:k.u8},children:[(0,I.jsx)("div",{style:{color:k.u8,fontSize:"2rem",fontWeight:"bold",fontFamily:"calibri",lineHeight:"1.2",marginLeft:"15px"},children:(0,I.jsxs)("b",{className:"totalLotsNumber",style:{color:k.u8},children:[(0,j.oc)(N[1])," %"," ",(0,I.jsxs)("div",{className:"totalLotsNumber2",children:["(",(0,j.oc)(N[0]),")"]})]})}),(0,I.jsx)("img",{src:"https://EijiGorilla.github.io/Symbols/Utility_Logo.png",alt:"Land Logo",height:"75px",width:"75px",style:{marginLeft:"260px",display:"flex",marginTop:"-90px"}})]})}),(0,I.jsx)("div",{id:"utilityPointChartTitle",style:{marginTop:"10px"},children:"POINT FEATURE"}),(0,I.jsx)("div",{id:c,style:{width:"23vw",height:"33vh",backgroundColor:"rgb(0,0,0,0)",color:"white",marginRight:"10px"}}),(0,I.jsx)("div",{id:"utilityLineChartTitle",children:"LINE FEATURE"}),(0,I.jsx)("div",{id:F,style:{width:"23vw",height:"33vh",backgroundColor:"rgb(0,0,0,0)",color:"white",marginRight:"10px"}})]})}}}]);
//# sourceMappingURL=3638.ee034de8.chunk.js.map