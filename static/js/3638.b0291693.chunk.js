"use strict";(self.webpackChunkn2_compile=self.webpackChunkn2_compile||[]).push([[3638],{43638:(e,t,i)=>{i.r(t),i.d(t,{default:()=>O});var r=i(72791),a=i(52740),s=i(93510),n=i(18661),l=i(21149),o=i(36801),c=i(59181),h=i(97304),d=i(70565),p=i(69110),u=i(12657),f=i(66817),g=i(95494),v=i(56343),m=i(44323),w=i(71570),y=i(52633),x=i(51155),b=i(38487),_=i(39286),A=i(97873),j=i(80659),T=i(91934),C=(i(93508),i(44520)),E=i(80184);function k(e){o.S6(c.i_.rootElements,(function(t){t.dom.id===e&&t.dispose()}))}const O=e=>{const t=(0,r.useRef)({}),[i,o]=(0,r.useState)([]),c="utility-point-bar",O=(0,r.useRef)({}),[I,L]=(0,r.useState)([]),D="utility-line-bar",[N,S]=(0,r.useState)([]),P="1=1",X="CP = '"+e.contractp+"'";"All"===e.contractp?(s.yv.definitionExpression=P,s.rU.definitionExpression=P,s.L.definitionExpression=P,s.jK.definitionExpression=P):(s.yv.definitionExpression=X,s.rU.definitionExpression=X,s.L.definitionExpression=X,s.jK.definitionExpression=X),(0,r.useEffect)((()=>{(0,C.WH)().then((e=>{o(e)})),(0,C.B0)().then((e=>{L(e)})),(0,C.cD)(e.contractp).then((e=>{S(e)}))}),[e.contractp]);const Z="#'%'",B="0.8vw",F="0.8vw",R="#0070ff",$="#000000",z="#00c5ff";return(0,r.useEffect)((()=>{var r;k(c);var o=h.f.new(c);o.container.children.clear(),null===(r=o._logo)||void 0===r||r.dispose(),o.setThemes([j.Z.new(o),T.Z.new(o)]);var E=o.container.children.push(m.z.new(o,{panX:!1,panY:!1,layout:o.verticalLayout,marginTop:0,marginLeft:0,marginRight:0,marginBottom:0,paddingTop:10,paddingLeft:5,paddingRight:5,paddingBottom:0,scale:1,height:d.aQ(100)}));t.current=E;var O=w.j.new(o,{inversed:!0}),I=E.yAxes.push(y.$.new(o,{categoryField:"category",renderer:O,bullet:function(e,t,i){return x._.new(e,{location:.5,sprite:p.t.new(e,{width:35,height:35,centerY:d.CI,centerX:d.CI,x:-21,src:i.dataContext.icon})})},tooltip:u.u.new(o,{})}));O.labels.template.setAll({paddingRight:45}),O.grid.template.setAll({location:1}),I.get("renderer").labels.template.setAll({oversizedBehavior:"wrap",textAlign:"center",fill:f.$_("#ffffff"),fontSize:B}),I.data.setAll(i);var L=E.xAxes.push(b.m.new(o,{min:0,max:100,strictMinMax:!0,numberFormat:Z,calculateTotals:!0,renderer:_.n.new(o,{strokeOpacity:0,strokeWidth:1,stroke:f.$_("#ffffff")})}));function D(t,r){var c=E.series.push(A.d.new(o,{name:t,stacked:!0,xAxis:L,yAxis:I,baseAxis:I,valueXField:r,valueXShow:"valueXTotalPercent",categoryYField:"category",fill:"incomp"===r?f.$_($):f.$_(R),stroke:f.$_(z)}));c.columns.template.setAll({tooltipText:"{name}: {valueX}",tooltipY:d.aQ(90),fillOpacity:"incomp"===r?0:1,strokeWidth:.4}),c.data.setAll(i),c.appear(),c.bullets.push((function(){return g.g.new(o,{sprite:v._.new(o,{text:0===r?"":"{valueXTotalPercent.formatNumber('#.')}%",fill:o.interfaceColors.get("alternativeText"),opacity:"incomp"===r?0:1,fontSize:"1vw",centerY:d.CI,centerX:d.CI,populateText:!0})})})),c.columns.template.events.on("click",(t=>{var i;const o=(null===(i=t.target.dataItem)||void 0===i?void 0:i.dataContext).category,c=C.mZ.find((e=>e.category===o)),h=null===c||void 0===c?void 0:c.value,d="incomp"===r?0:1,p="1=1",u="CP = '"+e.contractp+"' AND UtilType = "+h+" AND Status = "+d;var f=s.yv.createQuery();let g;f.where="All"===e.contractp?p:u,a.ei.when((()=>{a.ei.whenLayerView(s.yv).then((t=>{s.yv.queryFeatures(f).then((e=>{const i=e.features.length;let r=[];for(var o=0;o<i;o++){var c=e.features[o].attributes.OBJECTID;r.push(c)}var h=new l.Z({objectIds:r});s.yv.queryExtent(h).then((e=>{e.extent&&a.ei.goTo(e.extent)})),g&&g.remove(),g=t.highlight(r),a.ei.on("click",(()=>{t.filter=new n.Z({where:void 0}),g.remove()}))})),t.filter=new n.Z({where:"All"===e.contractp?p:u})}));var t=s.yv.createQuery();t.where="All"===e.contractp?p:u,a.ei.whenLayerView(s.rU).then((i=>{s.rU.queryFeatures(t).then((e=>{const t=e.features.length;let r=[];for(var o=0;o<t;o++){var c=e.features[o].attributes.OBJECTID;r.push(c)}var h=new l.Z({objectIds:r});s.rU.queryExtent(h).then((e=>{e.extent&&a.ei.goTo(e.extent)})),g&&g.remove(),g=i.highlight(r),a.ei.on("click",(()=>{i.filter=new n.Z({where:void 0}),g.remove()}))})),i.filter=new n.Z({where:"All"===e.contractp?p:u})}))}))}))}return L.get("renderer").labels.template.setAll({textAlign:"center",fill:f.$_("#ffffff"),fontSize:F}),D("Complete","comp"),D("Incomplete","incomp"),E.appear(1e3,100),()=>{o.dispose()}})),(0,r.useEffect)((()=>{var t;k(D);var i=h.f.new(D);i.container.children.clear(),null===(t=i._logo)||void 0===t||t.dispose(),i.setThemes([j.Z.new(i),T.Z.new(i)]);var r=i.container.children.push(m.z.new(i,{panX:!1,panY:!1,layout:i.verticalLayout,marginTop:0,marginLeft:0,marginRight:0,marginBottom:0,paddingTop:10,paddingLeft:5,paddingRight:5,paddingBottom:0,scale:1,height:d.aQ(100)}));O.current=r;var o=w.j.new(i,{inversed:!0}),c=r.yAxes.push(y.$.new(i,{categoryField:"category",renderer:o,bullet:function(e,t,i){return x._.new(e,{location:.5,sprite:p.t.new(e,{width:35,height:35,centerY:d.CI,centerX:d.CI,x:-21,src:i.dataContext.icon})})},tooltip:u.u.new(i,{})}));o.labels.template.setAll({paddingRight:45}),o.grid.template.setAll({location:1}),c.get("renderer").labels.template.setAll({oversizedBehavior:"wrap",textAlign:"center",fill:f.$_("#ffffff"),fontSize:B}),c.data.setAll(I);var E=r.xAxes.push(b.m.new(i,{min:0,max:100,strictMinMax:!0,numberFormat:Z,calculateTotals:!0,renderer:_.n.new(i,{strokeOpacity:0,strokeWidth:1,stroke:f.$_("#ffffff")})}));function L(t,o){var h=r.series.push(A.d.new(i,{name:t,stacked:!0,xAxis:E,yAxis:c,baseAxis:c,valueXField:o,valueXShow:"valueXTotalPercent",categoryYField:"category",fill:"incomp"===o?f.$_($):f.$_(R),stroke:f.$_(z)}));h.columns.template.setAll({tooltipText:"{name}: {valueX}",tooltipY:d.aQ(90),fillOpacity:"incomp"===o?0:1,strokeWidth:.4}),h.data.setAll(I),h.appear(),h.bullets.push((function(){return g.g.new(i,{sprite:v._.new(i,{text:0===o?"":"{valueXTotalPercent.formatNumber('#.')}%",fill:i.interfaceColors.get("alternativeText"),opacity:"incomp"===o?0:1,fontSize:"1vw",centerY:d.CI,centerX:d.CI,populateText:!0})})})),h.columns.template.events.on("click",(t=>{var i;const r=(null===(i=t.target.dataItem)||void 0===i?void 0:i.dataContext).category,c=C.mZ.find((e=>e.category===r)),h=null===c||void 0===c?void 0:c.value,d="incomp"===o?0:1,p="1=1",u="CP = '"+e.contractp+"' AND UtilType = "+h+" AND Status = "+d;var f=s.L.createQuery();let g;f.where="All"===e.contractp?p:u,a.ei.when((()=>{a.ei.whenLayerView(s.L).then((t=>{s.L.queryFeatures(f).then((e=>{const i=e.features.length;let r=[];for(var o=0;o<i;o++){var c=e.features[o].attributes.OBJECTID;r.push(c)}var h=new l.Z({objectIds:r});s.L.queryExtent(h).then((e=>{e.extent&&a.ei.goTo(e.extent)})),g&&g.remove(),g=t.highlight(r),a.ei.on("click",(()=>{t.filter=new n.Z({where:void 0}),g.remove()}))})),t.filter=new n.Z({where:"All"===e.contractp?p:u})}));var t=s.L.createQuery();t.where="All"===e.contractp?p:u,a.ei.whenLayerView(s.jK).then((i=>{s.jK.queryFeatures(t).then((e=>{const t=e.features.length;let r=[];for(var o=0;o<t;o++){var c=e.features[o].attributes.OBJECTID;r.push(c)}var h=new l.Z({objectIds:r});s.jK.queryExtent(h).then((e=>{e.extent&&a.ei.goTo(e.extent)})),g&&g.remove(),g=i.highlight(r),a.ei.on("click",(()=>{i.filter=new n.Z({where:void 0}),g.remove()}))})),i.filter=new n.Z({where:"All"===e.contractp?p:u})}))}))}))}return E.get("renderer").labels.template.setAll({textAlign:"center",fill:f.$_("#ffffff"),fontSize:F}),L("Complete","comp"),L("Incomplete","incomp"),r.appear(1e3,100),()=>{i.dispose()}})),(0,E.jsxs)("div",{children:[(0,E.jsxs)("div",{className:"lotNumberImage",children:[(0,E.jsxs)("div",{children:[(0,E.jsx)("div",{className:"totalLotsLabel",children:"TOTAL PROGRESS"}),(0,E.jsx)("br",{}),(0,E.jsx)("br",{}),(0,E.jsxs)("b",{className:"totalLotsNumber",children:[(0,C.oc)(N[1])," %"," ",(0,E.jsxs)("div",{className:"totalLotsNumber2",children:["(",(0,C.oc)(N[0]),")"]})]})]}),(0,E.jsx)("img",{src:"https://EijiGorilla.github.io/Symbols/Utility_Logo.png",alt:"Utility Logo",height:"25%",width:"25%",style:{padding:"10px",margin:"auto"}})]}),(0,E.jsx)("div",{id:"utilityPointChartTitle",children:"POINT FEATURE"}),(0,E.jsx)("div",{id:c,style:{width:"23vw",height:"33vh",backgroundColor:"rgb(0,0,0,0)",color:"white",marginRight:"10px"}}),(0,E.jsx)("div",{id:"utilityLineChartTitle",children:"LINE FEATURE"}),(0,E.jsx)("div",{id:D,style:{width:"23vw",height:"33vh",backgroundColor:"rgb(0,0,0,0)",color:"white",marginRight:"10px"}})]})}},51155:(e,t,i)=>{i.d(t,{_:()=>s});var r=i(48505),a=i(74753);class s extends r.JH{constructor(){super(...arguments),Object.defineProperty(this,"axis",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_beforeChanged(){super._beforeChanged();const e=this.get("sprite");if(this.isDirty("sprite")&&e&&(e.setAll({position:"absolute",role:"figure"}),this._disposers.push(e)),this.isDirty("location")){const t=e.dataItem;this.axis&&e&&t&&this.axis._prepareDataItem(t)}}dispose(){const e=this.axis;e&&a.S6(e._bullets,((t,i)=>{i.uid==this.uid&&delete e._bullets[t]})),super.dispose()}}Object.defineProperty(s,"className",{enumerable:!0,configurable:!0,writable:!0,value:"AxisBullet"}),Object.defineProperty(s,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:r.JH.classNames.concat([s.className])})},69110:(e,t,i)=>{i.d(t,{t:()=>s});var r=i(3453),a=i(66683);class s extends r.j{constructor(){super(...arguments),Object.defineProperty(this,"_display",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makePicture(void 0)})}_changed(){if(super._changed(),this.isDirty("width")){const e=this.get("width");this._display.width=a.hj(e)?e:void 0}if(this.isDirty("height")){const e=this.get("height");this._display.height=a.hj(e)?e:void 0}if(this.isDirty("shadowColor")){this._display.clear();const e=this.get("shadowColor");this._display.shadowColor=null==e?void 0:e}this.isDirty("shadowBlur")&&(this._display.clear(),this._display.shadowBlur=this.get("shadowBlur")),this.isDirty("shadowOffsetX")&&(this._display.clear(),this._display.shadowOffsetX=this.get("shadowOffsetX")),this.isDirty("shadowOffsetY")&&(this._display.clear(),this._display.shadowOffsetY=this.get("shadowOffsetY")),this.isDirty("shadowOpacity")&&(this._display.clear(),this._display.shadowOpacity=this.get("shadowOpacity")),(this.isDirty("src")||this.isDirty("cors"))&&(this._display.clear(),this._load())}_load(){const e=this.get("src");if(e){let t="loaded";const i=new Image;i.crossOrigin=this.get("cors","anonymous"),i.src=e,i.decode().then((()=>{this._display.image=i,this._updateSize()})).catch((e=>{t="loaderror"})),this.events.isEnabled(t)&&this.events.dispatch(t,{type:t,target:this})}}_updateSize(){super._updateSize();const e=this._display.image;if(e){let t=this.getPrivate("width",this.get("width")),i=this.getPrivate("height",this.get("height"));const r=e.width&&e.height?e.width/e.height:0;a.hj(t)&&a.hj(i)?(this._display.width=t,this._display.height=i):a.hj(t)&&r?i=t/r:a.hj(i)&&r?t=i*r:(t=e.width,i=e.height),a.hj(t)&&(this._display.width=t),a.hj(i)&&(this._display.height=i),this.markDirtyBounds(),this.markDirty()}}}Object.defineProperty(s,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Picture"}),Object.defineProperty(s,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:r.j.classNames.concat([s.className])})}}]);
//# sourceMappingURL=3638.b0291693.chunk.js.map