{"version":3,"file":"static/js/60795.66132bcf.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec4f32.js","../node_modules/@arcgis/core/layers/support/floorFilterUtils.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/ExtendedLineVisualElement.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/ParallelLineVisualElement.js","../node_modules/@arcgis/core/views/3d/interactive/SnappingVisualizer3D.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/dragEventPipeline3D.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/DrapedVisualElementResources.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/VisualElementResources.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/EngineVisualElement.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/RightAngleQuadVisualElement.js","../node_modules/@arcgis/core/views/interactive/snapping/FeatureSnappingLayerSource.js","../node_modules/@arcgis/core/views/interactive/snapping/SnappingOptions.js","../node_modules/@arcgis/core/views/interactive/snapping/FeatureSnappingSourceInfo.js","../node_modules/@arcgis/core/views/interactive/snapping/candidates/RightAngleSnappingCandidate.js","../node_modules/@arcgis/core/views/interactive/snapping/FeatureSnappingEngine.js","../node_modules/@arcgis/core/views/interactive/snapping/SnappingAlgorithm.js","../node_modules/@arcgis/core/views/interactive/snapping/candidates/LineSnappingCandidate.js","../node_modules/@arcgis/core/views/interactive/snapping/LineSnapper.js","../node_modules/@arcgis/core/views/interactive/snapping/candidates/ParallelLineSnappingCandidate.js","../node_modules/@arcgis/core/views/interactive/snapping/ParallelLineSnapper.js","../node_modules/@arcgis/core/views/interactive/snapping/RightAngleSnapper.js","../node_modules/@arcgis/core/views/interactive/snapping/candidates/RightAngleTriangleSnappingCandidate.js","../node_modules/@arcgis/core/views/interactive/snapping/RightAngleTriangleSnapper.js","../node_modules/@arcgis/core/views/interactive/snapping/SelfSnappingEngine.js","../node_modules/@arcgis/core/views/interactive/snapping/snappingFactory.js","../node_modules/@arcgis/core/views/interactive/snapping/candidates/IntersectionSnappingCandidate.js","../node_modules/@arcgis/core/views/interactive/snapping/SnappingManager.js","../node_modules/@arcgis/core/views/interactive/snapping/SceneSnappingManagerPool.js","../node_modules/@arcgis/core/views/interactive/snapping/allLayerSnapping.js","../node_modules/@arcgis/core/views/interactive/snapping/candidates/DrapedEdgeSnappingCandidate.js","../node_modules/@arcgis/core/views/interactive/snapping/candidates/EdgeSnappingCandidate.js","../node_modules/@arcgis/core/views/interactive/snapping/candidates/FeatureSnappingCandidate.js","../node_modules/@arcgis/core/views/interactive/snapping/candidates/SnappingCandidate.js","../node_modules/@arcgis/core/views/interactive/support/viewUtils.js","../node_modules/@arcgis/core/geometry/projection/projectPolylineToWGS84ComparableLonLat.js","../node_modules/@arcgis/core/views/support/geodesicLengthMeasurementUtils.js","../node_modules/@arcgis/core/views/support/geodesicMeasurementUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nfunction n(){return new Float32Array(4)}function t(n){const t=new Float32Array(4);return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t}function r(n,t,r,e){const o=new Float32Array(4);return o[0]=n,o[1]=t,o[2]=r,o[3]=e,o}function e(n,t){return new Float32Array(n,t,4)}function o(){return n()}function u(){return r(1,1,1,1)}function c(){return r(1,0,0,0)}function i(){return r(0,1,0,0)}function a(){return r(0,0,1,0)}function f(){return r(0,0,0,1)}const l=o(),_=u(),s=c(),y=i(),w=a(),N=f(),T=Object.freeze(Object.defineProperty({__proto__:null,ONES:_,UNIT_W:N,UNIT_X:s,UNIT_Y:y,UNIT_Z:w,ZEROS:l,clone:t,create:n,createView:e,fromValues:r,ones:u,unitW:f,unitX:c,unitY:i,unitZ:a,zeros:o},Symbol.toStringTag,{value:\"Module\"}));export{_ as ONES,N as UNIT_W,s as UNIT_X,y as UNIT_Y,w as UNIT_Z,l as ZEROS,t as clone,n as create,e as createView,r as fromValues,u as ones,f as unitW,c as unitX,i as unitY,a as unitZ,T as v,o as zeros};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nfunction o(o){const n=o.layer;if(\"floorInfo\"in n&&n.floorInfo?.floorField&&\"floors\"in o.view){return l(o.view.floors,n.floorInfo.floorField)}return null}function n(o,n){return\"floorInfo\"in n&&n.floorInfo?.floorField?l(o,n.floorInfo.floorField):null}function l(o,n){if(!o?.length)return null;const l=o.filter((o=>\"\"!==o)).map((o=>`'${o}'`));return l.push(\"''\"),`${n} IN (${l.join(\",\")}) OR ${n} IS NULL`}export{o as getFloorFilterClause,n as getLayerFloorFilterClause};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import{c as e,f as t,j as r,F as s}from\"../../../../chunks/vec32.js\";import{create as i,fromValues as n}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{a,c as o}from\"../../../../chunks/vec42.js\";import{fromValues as l,clone as h}from\"../../../../core/libs/gl-matrix-2/factories/vec4f32.js\";import{create as d,fromRay as _,getStart as c,getEnd as p}from\"../../../../geometry/support/clipRay.js\";import{intersectClipRay as u}from\"../../../../geometry/support/frustum.js\";import{create as f,fromPoints as m,pointAt as y}from\"../../../../geometry/support/lineSegment.js\";import{create as g,fromPoints as b}from\"../../../../geometry/support/ray.js\";import{EngineVisualElement as D}from\"./EngineVisualElement.js\";import{LaserlineVisualElement as O}from\"./LaserlineVisualElement.js\";import{drapedZ as w}from\"../../terrain/OverlayRenderer.js\";import{createPolylineGeometry as E}from\"../../webgl-engine/lib/GeometryUtil.js\";import{RenderOccludedFlag as R}from\"../../webgl-engine/lib/Material.js\";import{RenderGeometry as j}from\"../../webgl-engine/lib/RenderGeometry.js\";import{VertexAttribute as A}from\"../../webgl-engine/lib/VertexAttribute.js\";import{RibbonLineMaterial as x}from\"../../webgl-engine/materials/RibbonLineMaterial.js\";class C extends D{constructor(e){super(e),this._ray=g(),this._isWorldDown=!1,this._start=i(),this._end=n(1,0,0),this._width=1,this._color=l(1,0,1,1),this._polygonOffset=!1,this._writeDepthEnabled=!0,this._innerWidth=0,this._innerColor=l(1,1,1,1),this._stipplePattern=null,this._stippleOffColor=null,this._stipplePreferContinuous=!0,this._falloff=0,this._extensionType=V.LINE,this._laserlineStyle=null,this._laserlineEnabled=!1,this._renderOccluded=R.OccludeAndTransparent,this._fadedExtensions=T,this._laserline=new O({view:this.view,isDecoration:e.isDecoration}),this.applyProperties(e)}destroy(){this._laserline.destroy(),super.destroy()}createObject3DResourceFactory(e){return{view:e,createResources:e=>this._createObject3DResources(e),destroyResources:e=>this._destroyExternalResources(e),recreateGeometry:(e,t)=>this._recreateObject3DGeometry(e,t),cameraChanged:()=>this._updateGeometry()}}createDrapedResourceFactory(e){return{view:e,createResources:()=>this._createDrapedResources(),destroyResources:e=>this._destroyExternalResources(e),recreateGeometry:e=>this._recreateDrapedGeometry(e)}}updateVisibility(e){super.updateVisibility(e),this._laserline.visible=e}onAttachedChange(){this._laserline.attached=this._laserlineAttached}setStartEndFromWorldDownAtLocation(r){this._isWorldDown=!0,e(this._start,r),this.view.renderCoordsHelper.worldUpAtPosition(r,this._end),t(this._end,r,this._end),b(this._start,this._end,this._ray),this._updateGeometry()}get start(){return this._start}set start(t){this._isWorldDown=!1,r(this._start,t)||(e(this._start,t),b(this._start,this._end,this._ray),this._updateGeometry())}get end(){return this._end}set end(t){this._isWorldDown=!1,r(this._end,t)||(e(this._end,t),b(this._start,this._end,this._ray),this._updateGeometry())}get width(){return this._width}set width(e){e!==this._width&&(this._width=e,this._updateMaterial())}get color(){return this._color}set color(e){a(e,this._color)||(o(this._color,e),this._updateMaterial())}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){e!==this._polygonOffset&&(this._polygonOffset=e,this._updateMaterial())}get writeDepthEnabled(){return this._writeDepthEnabled}set writeDepthEnabled(e){this._writeDepthEnabled!==e&&(this._writeDepthEnabled=e,this._updateMaterial())}get innerWidth(){return this._innerWidth}set innerWidth(e){e!==this._innerWidth&&(this._innerWidth=e,this._updateMaterial())}get innerColor(){return this._innerColor}set innerColor(e){a(e,this._innerColor)||(o(this._innerColor,e),this._updateMaterial())}get stipplePattern(){return this._stipplePattern}set stipplePattern(e){const t=null!=e!=(null!=this._stipplePattern);this._stipplePattern=e,t?this.recreate():this._updateMaterial()}get stippleOffColor(){return this._stippleOffColor}set stippleOffColor(e){null!=e&&null!=this._stippleOffColor&&a(e,this._stippleOffColor)||(this._stippleOffColor=null!=e?h(e):null,this._updateMaterial())}get stipplePreferContinuous(){return this._stipplePreferContinuous}set stipplePreferContinuous(e){e!==this._stipplePreferContinuous&&(this._stipplePreferContinuous=e,this._updateMaterial())}get falloff(){return this._falloff}set falloff(e){e!==this._falloff&&(this._falloff=e,this._updateMaterial())}get extensionType(){return this._extensionType}set extensionType(e){e!==this._extensionType&&(this._extensionType=e,this.recreateGeometry())}get _laserlineAttached(){return this._laserlineEnabled&&null!=this._laserlineStyle&&this.attached&&!this.isDraped}get laserlineStyle(){return this._laserlineStyle}set laserlineStyle(e){this._laserlineStyle=e,this._laserline.attached=this._laserlineAttached,null!=e&&(this._laserline.style=e)}get laserlineEnabled(){return this._laserlineEnabled}set laserlineEnabled(e){this._laserlineEnabled!==e&&(this._laserlineEnabled=e,this._laserline.attached=this._laserlineAttached)}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this._updateMaterial())}get _normalizedRenderOccluded(){return this.isDraped&&this._renderOccluded===R.OccludeAndTransparentStencil?R.OccludeAndTransparent:this._renderOccluded}get fadedExtensions(){return this._fadedExtensions}set fadedExtensions(e){this._fadedExtensions=e??T,this.recreateGeometry()}_updateMaterial(){const{materialParameters:e}=this;this.object3dResources.resources?.material.setParameters(e),this.drapedResources.resources?.material.setParameters(e)}get materialParameters(){return{width:this._width,color:this._color,stippleOffColor:this._stippleOffColor,stipplePattern:this._stipplePattern,stipplePreferContinuous:this._stipplePreferContinuous,innerWidth:this._innerWidth,innerColor:this._innerColor,falloff:this._falloff,hasPolygonOffset:this._polygonOffset,renderOccluded:this._normalizedRenderOccluded,isDecoration:this.isDecoration,writeDepth:this._writeDepthEnabled}}_createObject3DResources(e){const t=new x(this.materialParameters),r=new Array;return this._createObject3DGeometry(t,e,r),{material:t,geometries:r,forEach:e=>{e(t),r.forEach(e)}}}_destroyExternalResources(e){e.geometries=[]}_recreateObject3DGeometry(e,t){e.geometries.length=0,this._createObject3DGeometry(e.material,t,e.geometries)}_createObject3DGeometry(e,t,r){const s=this._createGeometry(e);r.push(s),t.addGeometry(s),this._updateVerticesObject3D(t)}_createDrapedResources(){const e=new x(this.materialParameters);return{material:e,geometries:[this._createDrapedGeometry(e)]}}_recreateDrapedGeometry(e){e.geometries=[this._createDrapedGeometry(e.material)]}_createDrapedGeometry(e){const t=this._createGeometry(e);return this._updateVerticesDraped(t),new j(t)}_createGeometry(e){const t=this.extensionType===V.FADED,r=t?[i(),i(),i(),i()]:[i(),i()];return E(e,r,null,t?[1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,0]:null)}_updateGeometry(){if(this.isDraped)this.drapedResources.recreateGeometry();else{const e=this.object3dResources.object;e&&this._updateVerticesObject3D(e)}}_updateVerticesObject3D(e){const t=this._lineSegment;this._updateVertexAttributesObject3D(e,t),this._laserline.intersectsLine=t}_updateVerticesDraped(e){this._updateVertexAttributesDraped(e,this._lineSegment)}get _lineSegment(){return this._extensionType===V.FADED?this._updateLineSegmentFinite(S):this._updateLineSegmentInfinite(this._extensionType,S)}_updateLineSegmentFinite(e){return m(this._start,this._end,e)}_updateLineSegmentInfinite(e,t){const r=this.view.state.camera;switch(_(this._ray,G),e){case V.LINE:G.c0=-Number.MAX_VALUE;break;case V.RAY:case V.GROUND_RAY:{const e=this._ray.origin,t=this.view.elevationProvider.getElevation(e[0],e[1],e[2],this.view.renderCoordsHelper.spatialReference,\"ground\")??0,r=this.view.renderCoordsHelper.getAltitude(e);this._isWorldDown&&r<t&&s(G.ray.direction,G.ray.direction),this._extensionType===V.GROUND_RAY&&null!=t&&(G.c1=Math.abs(r-t));break}}if(!u(r.frustum,G))return this._updateLineSegmentFinite(t);const i=c(G,P),n=p(G,v);return m(i,n,t)}_updateVertexAttributesObject3D(e,t){const r=e.geometries[0].getMutableAttribute(A.POSITION)?.data;if(!r)return;let s=0;for(const i of this._lineVertices(t))r[s++]=i[0],r[s++]=i[1],r[s++]=i[2];e.geometryVertexAttributeUpdated(e.geometries[0],A.POSITION)}_updateVertexAttributesDraped(e,t){const r=e.getMutableAttribute(A.POSITION)?.data;if(!r)return;let s=0;for(const i of this._lineVertices(t))r[s++]=i[0],r[s++]=i[1],r[s++]=w;e.invalidateBoundingInfo()}*_lineVertices(e){this.extensionType===V.FADED?(yield y(e,-this.fadedExtensions.start,P),yield y(e,0,P),yield y(e,1,P),yield y(e,1+this.fadedExtensions.end,P)):(yield y(e,0,P),yield y(e,1,P))}}const G=d(),P=i(),v=i(),S=f();var V;!function(e){e[e.LINE=0]=\"LINE\",e[e.RAY=1]=\"RAY\",e[e.GROUND_RAY=2]=\"GROUND_RAY\",e[e.FADED=3]=\"FADED\"}(V||(V={}));const M=1/3,T={start:M,end:M};export{C as ExtendedLineVisualElement,V as ExtensionType};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{watch as e}from\"../../../../core/reactiveUtils.js\";import{castScreenPointArray as t,createScreenPointArray as r}from\"../../../../core/screenUtils.js\";import{normalize as s,subtract as i,scale as o,set as a,add as c}from\"../../../../core/libs/gl-matrix-2/math/vec2.js\";import{create as n}from\"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{j as d,c as h,n as m,f as l,g as u}from\"../../../../chunks/vec32.js\";import{create as p,fromValues as _}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{a as g,c as b}from\"../../../../chunks/vec42.js\";import{fromValues as f}from\"../../../../core/libs/gl-matrix-2/factories/vec4f32.js\";import{makeDehydratedPoint as y}from\"../../../../layers/graphics/dehydratedPoint.js\";import{EngineVisualElement as j}from\"./EngineVisualElement.js\";import{drapedZ as D}from\"../../terrain/OverlayRenderer.js\";import{createPolylineGeometry as O}from\"../../webgl-engine/lib/GeometryUtil.js\";import{RenderOccludedFlag as G}from\"../../webgl-engine/lib/Material.js\";import{RenderGeometry as R}from\"../../webgl-engine/lib/RenderGeometry.js\";import{VertexAttribute as w}from\"../../webgl-engine/lib/VertexAttribute.js\";import{RibbonLineMaterial as x}from\"../../webgl-engine/materials/RibbonLineMaterial.js\";class v extends j{constructor(e){super(e),this._location=p(),this._direction=_(1,0,0),this._width=1,this._offset=1,this._length=18,this._color=f(1,0,1,1),this._renderOccluded=G.OccludeAndTransparent,this.applyProperties(e)}createObject3DResourceFactory(e){return{view:e,createResources:e=>this._createObject3DResources(e),destroyResources:e=>this._destroyObject3DResources(e),recreateGeometry:(e,t)=>this._recreateObject3DGeometry(e,t),cameraChanged:()=>this._updateGeometry()}}createDrapedResourceFactory(e){return{view:e,createResources:()=>this._createDrapedResources(),destroyResources:e=>this._destroyDrapedResources(e),recreateGeometry:e=>this._recreateDrapedGeometry(e)}}get location(){return this._location}set location(e){d(this._location,e)||(h(this._location,e),this._updateGeometry())}get direction(){return this._direction}set direction(e){d(this._direction,e)||(h(this._direction,e),this._updateGeometry())}setDirectionFromPoints(e,t){m(this._direction,l(this._direction,t,e)),this._updateGeometry()}get width(){return this._width}set width(e){e!==this._width&&(this._width=e,this._updateMaterial())}get offset(){return this._offset}set offset(e){e!==this._offset&&(this._offset=e,this._updateGeometry())}get length(){return this._length}set length(e){e!==this._length&&(this._length=e,this._updateGeometry())}get color(){return this._color}set color(e){g(e,this._color)||(b(this._color,e),this._updateMaterial())}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this._updateMaterial())}_createObject3DResources(e){const t=new x(this.materialParameters),r=new Array;return this._createObject3DGeometry(t,e,r),{material:t,geometries:r,forEach:e=>{e(t),r.forEach(e)}}}_destroyObject3DResources(e){e.geometries.length=0}_recreateObject3DGeometry(e,t){e.geometries.length=0,this._createObject3DGeometry(e.material,t,e.geometries)}_createObject3DGeometry(e,t,r){const[s,i]=this._createGeometries(e);t.addGeometry(s),t.addGeometry(i),r.push(s),r.push(i),this._updateVerticesObject3D(t)}_createDrapedResources(){const t=new x(this.materialParameters),r=e((()=>this.view.state.contentPixelRatio),(()=>{this.drapedResources.recreateGeometry()}));return{material:t,geometries:this._createDrapedGeometry(t),pixelRatioHandle:r}}_destroyDrapedResources(e){e.pixelRatioHandle.remove(),e.geometries=[]}_recreateDrapedGeometry(e){e.geometries=this._createDrapedGeometry(e.material)}_createDrapedGeometry(e){const t=this._createGeometries(e);return this._updateVerticesDraped(t),t.map((e=>new R(e)))}_createGeometries(e){return[O(e,[p(),p()]),O(e,[p(),p()])]}_updateMaterial(){const{materialParameters:e}=this;this.object3dResources.resources?.material.setParameters(e),this.drapedResources.resources?.material.setParameters(e)}get materialParameters(){return{width:this._width,color:this._color,renderOccluded:this._renderOccluded,isDecoration:this.isDecoration}}_updateGeometry(){if(this.isDraped)this.drapedResources.recreateGeometry();else{const e=this.object3dResources.object;e&&this._updateVerticesObject3D(e)}}_updateVerticesObject3D(e){const t=this.view.state.camera;t.projectToScreen(this.location,M),u(P,this.location,this.direction),t.projectToScreen(P,I),s(I,i(I,I,M)),this._updateVertexAttributesObject3D(t,e,0,M,I,1),this._updateVertexAttributesObject3D(t,e,1,M,I,-1)}_updateVertexAttributesObject3D(e,r,s,i,o,a){const c=r.geometries[s],n=c.getMutableAttribute(w.POSITION)?.data;if(!n)return;const{start:d,end:h}=this._computeStartEnd(o,i,a,this.offset,this.width,this.length);e.unprojectFromScreen(t(d),P),n[0]=P[0],n[1]=P[1],n[2]=P[2],e.unprojectFromScreen(t(h),P),n[3]=P[0],n[4]=P[1],n[5]=P[2],r.geometryVertexAttributeUpdated(c,w.POSITION)}_updateVerticesDraped(e){const{view:{basemapTerrain:{overlayManager:t},state:{contentPixelRatio:r}}}=this,{location:s,width:i,length:o,offset:a}=this,c=E;c.spatialReference=t.renderer.spatialReference,c.x=s[0],c.y=s[1];const n=this.view.overlayPixelSizeInMapUnits(c)*r,d=i*n,h=o*n,m=a*n;this._updateVertexAttributesDraped(e[0],d,h,m,-1),this._updateVertexAttributesDraped(e[1],d,h,m,1)}_updateVertexAttributesDraped(e,t,r,s,i){const o=e.getMutableAttribute(w.POSITION)?.data;if(!o)return;const{location:a,direction:c}=this,{start:n,end:d}=this._computeStartEnd(c,a,i,s,t,r);o[0]=n[0],o[1]=n[1],o[2]=D,o[3]=d[0],o[4]=d[1],o[5]=D,e.invalidateBoundingInfo()}_computeStartEnd(e,t,r,s,i,n){const d=o(V,a(V,e[1]*r,e[0]*-r),s+i/2),h=c(A,c(A,c(A,t,o(A,e,n/2)),d),d);return{start:h,end:c(S,h,o(S,e,-n))}}}const P=p(),V=n(),A=n(),S=n(),M=r(),I=r(),E=y(0,0,void 0,null);export{v as ParallelLineVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport e from\"../../../Color.js\";import{multiplyOpacity as n}from\"../../../core/colorUtils.js\";import\"../../../core/has.js\";import{destroyHandle as i}from\"../../../core/handleUtils.js\";import{m as t}from\"../../../chunks/vec32.js\";import{create as r}from\"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{projectVectorToVector as o}from\"../../../geometry/projection/projectVectorToVector.js\";import{onTheGroundElevationInfo as a,absoluteHeightElevationInfo as l}from\"../../../support/elevationInfoUtils.js\";import{ExtendedLineVisualElement as s,ExtensionType as c}from\"./visualElements/ExtendedLineVisualElement.js\";import{ParallelLineVisualElement as p}from\"./visualElements/ParallelLineVisualElement.js\";import{PointVisualElement as d}from\"./visualElements/PointVisualElement.js\";import{RightAngleQuadVisualElement as m}from\"./visualElements/RightAngleQuadVisualElement.js\";import{DrapedRenderGroup as u}from\"../layers/interfaces.js\";import{RenderOccludedFlag as f}from\"../webgl-engine/lib/Material.js\";import{toDehydratedPoint as g,create as v}from\"../../interactive/sketch/normalizedPoint.js\";import{defaults as h}from\"../../interactive/snapping/Settings.js\";import{SnappingDomain as E}from\"../../interactive/snapping/SnappingDomain.js\";import{LineSegmentHintType as C}from\"../../interactive/snapping/snappingUtils.js\";import{SnappingVisualizer as S}from\"../../interactive/snapping/SnappingVisualizer.js\";import{LineSnappingHint as j}from\"../../interactive/snapping/hints/LineSnappingHint.js\";import{vectorToRender as w}from\"../../interactive/support/viewUtils.js\";class O extends S{sortUniqueHints(e){return e.sort(((e,n)=>(n instanceof j?n.length:0)-(e instanceof j?e.length:0)))}visualizeIntersectionPoint(e,n){const{spatialReference:t,view:r}=n,o=D(n);return i(new d({view:r,primitive:\"circle\",geometry:g(e.intersectionPoint,t),elevationInfo:e.isDraped?a:l,size:20,outlineSize:2,color:o.intersectionPointColor,outlineColor:o.intersectionPointOutlineColor,pixelSnappingEnabled:!1,isDecoration:!0,attached:!0}))}visualizePoint(e,n){const{view:t,spatialReference:r}=n,o=D(n),a=R(e.point,e.domain,n);return i(new d({view:t,primitive:\"circle\",geometry:g(a,r),elevationInfo:x(e,n),size:20,outlineSize:2,color:o.pointColor,outlineColor:o.pointOutlineColor,pixelSnappingEnabled:!1,isDecoration:!0,attached:!0}))}visualizeLine(e,n){const{view:t,spatialReference:r}=n,o=D(n),a=R(e.lineStart,e.domain,n),l=R(e.lineEnd,e.domain,n);return i(this._createLineSegmentHint(e.type,a,l,r,x(e,n),t,o,e.isDraped,e.fadeLeft,e.fadeRight))}visualizeParallelSign(e,n){const{view:r,spatialReference:o}=n,a=D(n),{isDraped:l}=e,s=x(e,n),c=R(e.lineStart,e.domain,n),d=R(e.lineEnd,e.domain,n),m=H(c,o,s,r,l),g=H(d,o,s,r,l),v=t(g,m,g,.5),E=new p({view:r,attached:!1,offset:h.parallelLineHintOffset,length:h.parallelLineHintLength,width:h.parallelLineHintWidth,color:a.parallelSignColor,location:v,renderOccluded:l?f.OccludeAndTransparent:f.Opaque,isDraped:l,renderGroup:u.SnappingHint,isDecoration:!0});return E.setDirectionFromPoints(m,v),E.attached=!0,i(E)}visualizeRightAngleQuad(e,n){const{view:t,spatialReference:r}=n,o=D(n),a=x(e,n),{isDraped:l}=e,s=R(e.previousVertex,e.domain,n),c=R(e.centerVertex,e.domain,n),p=R(e.nextVertex,e.domain,n),d=H(s,r,a,t,l),g=H(c,r,a,t,l),v=H(p,r,a,t,l);return i(new m({view:t,attached:!0,color:l?o.rightAngleColorDraped:o.rightAngleColor,renderOccluded:l?f.OccludeAndTransparent:f.Transparent,outlineRenderOccluded:l?f.OccludeAndTransparent:f.Opaque,outlineColor:o.rightAngleOutlineColor,outlineSize:h.rightAngleHintOutlineSize,size:h.rightAngleHintSize,isDraped:l,geometry:{previous:d,center:g,next:v},renderGroup:u.SnappingHint,isDecoration:!0}))}_createLineSegmentHint(e,n,i,t,r,o,a,l=!1,p=!0,d=!0){const m=H(n,t,r,o,l),g=H(i,t,r,o,l),v=new s({view:o,extensionType:c.FADED,start:m,end:g,isDraped:l,color:a.lineColor,renderOccluded:l?f.OccludeAndTransparent:f.Opaque,renderGroup:u.SnappingHint,isDecoration:!0});switch(e){case C.TARGET:v.width=h.lineHintWidthTarget,v.fadedExtensions={start:0,end:h.lineHintFadedExtensions};break;case C.REFERENCE_EXTENSION:v.width=h.lineHintWidthReference,v.fadedExtensions={start:0,end:0};break;case C.REFERENCE:v.width=h.lineHintWidthReference,v.fadedExtensions={start:p?h.lineHintFadedExtensions:0,end:d?h.lineHintFadedExtensions:0}}return v.attached=!0,v}}function D(i){const{effectiveTheme:t}=i.view,r=e.toUnitRGBA(t.accentColor),o=[0,0,0,0];return{intersectionPointColor:o,intersectionPointOutlineColor:r,pointColor:o,pointOutlineColor:r,lineColor:r,lineOutlineColor:void 0,parallelSignColor:r,rightAngleColor:r,rightAngleColorDraped:e.toUnitRGBA(n(t.accentColor,.5)),rightAngleOutlineColor:r}}function R(e,n,i){const t=A(n,i);return null==t?e:v(e[0],e[1],t)}function x(e,n){return null!=A(e.domain,n)?n.selfSnappingZ.elevationInfo:e.isDraped?a:l}function A(e,{selfSnappingZ:n}){return e===E.SELF&&null!=n?n.value:null}function H(e,n,i,t,a){const l=r();if(a){const i=t.basemapTerrain.overlayManager.renderer.spatialReference;o(e,n,l,i)}else w(e,n,i,t,l);return l}export{O as SnappingVisualizer3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport\"../../../../geometry.js\";import{screenPointObjectToArray as e,castScreenPointArray as n,createScreenPointArray as r}from\"../../../../core/screenUtils.js\";import{l as t,c as o,b as l,f as s,k as c,h as i,g as a}from\"../../../../chunks/vec32.js\";import{create as u}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{projectPoint as p}from\"../../../../geometry/projection.js\";import{intersectRay as m,create as d,getNormal as f,fromPositionAndNormal as g}from\"../../../../geometry/support/plane.js\";import{create as y}from\"../../../../geometry/support/ray.js\";import{projectPoint as E}from\"../../../../geometry/support/vector.js\";import{sv2d as S}from\"../../../../geometry/support/vectorStacks.js\";import{getZForElevationMode as j,getGraphicEffectiveElevationInfo as R}from\"../../../../support/elevationInfoUtils.js\";import{fromScreen as v}from\"../../support/geometryUtils/ray.js\";import{newIntersector as x}from\"../../webgl-engine/lib/Intersector.js\";import{StoreResults as b,IntersectorType as w}from\"../../webgl-engine/lib/IntersectorInterfaces.js\";import{terrainId as I}from\"../../webgl-engine/lib/verticalOffsetUtils.js\";import{EventPipeline as H}from\"../../../interactive/dragEventPipeline.js\";import U from\"../../../../geometry/Point.js\";function O(e,n){return P(e,(()=>n))}function C(e){return P(e,(e=>e.plane))}function P(r,t){const o=u(),l=u();let s=!1;return c=>{const i=t(c);if(\"start\"===c.action){const t=e(c.screenStart,n(S.get())),l=v(r.state.camera,t,K);null!=l&&(s=m(i,l,o))}if(!s)return null;const a=e(c.screenEnd,n(S.get())),u=v(r.state.camera,a,K);return null==u?null:m(i,u,l)?{...c,renderStart:o,renderEnd:l,plane:i,ray:u}:null}}function T(e,n,t=0,o=null,l=null){let s=null;return c=>{if(\"start\"===c.action&&(s=e.sceneIntersectionHelper.intersectElevationFromScreen(r(c.screenStart.x,c.screenStart.y),n,t,l),null!=s&&null!=o&&!p(s,s,o)))return null;if(null==s)return null;const i=e.sceneIntersectionHelper.intersectElevationFromScreen(r(c.screenEnd.x,c.screenEnd.y),n,t,l);return null!=i&&(null==o||p(i,i,o))?{...c,mapStart:s,mapEnd:i}:null}}function D(e,n,r,t=null,o=null){return T(e,r,j(n,e,r),t,o)}function M(e,n,r,t=null,o=null){return D(e,r,R(n),t,o)}function N(e,n,r,t){const o=n.toMap(e.screenStart,{include:[r]});return null!=o?M(n,r,o,t):null}function h(e,n){const r=B,t=J,o=d();e.renderCoordsHelper.worldUpAtPosition(n,r);const c=l(f(o),r,s(t,n,e.state.camera.eye));return l(c,c,r),g(n,c,o)}function k(e,n,r){let t=null;const o=new H;return o.next(O(e,h(e,n))).next(G(e,n)).next(A(e,r)).next((e=>{e.mapEnd.x=e.mapStart.x,e.mapEnd.y=e.mapStart.y,t=e})),e=>(t=null,o.execute(e),t)}function G(e,n){const r=u(),l=t(n);e.renderCoordsHelper.worldUpAtPosition(n,r);const p=u(),m=u(),d=o=>{if(s(o,o,n),E(r,o,o),\"global\"===e.viewingMode){t(o)*Math.sign(c(r,o))<.001-l&&s(o,i(o,r,.001),n)}return a(o,o,n),o};return e=>(e.renderStart=d(o(p,e.renderStart)),e.renderEnd=d(o(m,e.renderEnd)),e)}function A(e,n){const r=e.renderCoordsHelper;return e=>{const t=r.fromRenderCoords(e.renderStart,new U({spatialReference:n})),o=r.fromRenderCoords(e.renderEnd,new U({spatialReference:n}));return null!=t&&null!=o?{...e,mapStart:t,mapEnd:o}:null}}var F;function q(e){let n=null;return r=>{switch(r.action){case\"start\":n=e.disableDisplay();break;case\"end\":case\"cancel\":null!=n&&(n.remove(),n=null)}return r}}function z(n,t=null){const o=x(n.state.viewingMode);o.options.selectionMode=!0,o.options.store=b.MIN,o.options.hud=!1;const l=r(),s={requiresGroundFeedback:!0,enableDraped:!0,exclude:new Set},c=u(),i=t??n.spatialReference,a=r=>{n.map.ground&&n.map.ground.opacity<1?s.exclude.add(I):s.exclude.delete(I),n.sceneIntersectionHelper.intersectIntersectorScreen(e(r,l),o,s);const t=o.results.min;let a;if(t.getIntersectionPoint(c))a=t.intersector===w.TERRAIN?F.GROUND:F.OTHER;else{if(!o.results.ground.getIntersectionPoint(c))return null;a=F.GROUND}return{location:n.renderCoordsHelper.fromRenderCoords(c,new U({spatialReference:i})),surfaceType:a}};let p;return e=>{if(\"start\"===e.action){const n=a(e.screenStart);p=null!=n?n.location:null}if(null==p)return null;const n=a(e.screenEnd);return null!=n?.location?{...e,mapStart:p,mapEnd:n.location,surfaceType:n.surfaceType}:null}}!function(e){e[e.GROUND=0]=\"GROUND\",e[e.OTHER=1]=\"OTHER\"}(F||(F={}));const B=u(),J=u(),K=y();export{F as SurfaceType,A as convertToMapCoordinates,q as hideManipulatorWhileDragging,G as projectToWorldUp,z as screenToMap3D,D as screenToMapXYAtLocation,N as screenToMapXYForGraphic,M as screenToMapXYForGraphicAtLocation,O as screenToRenderPlane,C as screenToRenderPlaneFromEvent,k as screenToZConstrained};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import r from\"../../../../core/Accessor.js\";import{IdentifiableMixin as s}from\"../../../../core/Identifiable.js\";import{property as t}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as o}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{DrapeSourceType as i,DrapedRenderGroup as c}from\"../../layers/interfaces.js\";import{DirtyOperation as u}from\"../../webgl-engine/lib/ModelDirtyTypes.js\";import{UpdatePolicy as d}from\"../../webgl-engine/lib/UpdatePolicy.js\";class n{constructor(e){this._resourceFactory=e,this._resources=null,this._visible=!0,this._attached=!1,this._renderGroup=c.Outline}destroy(){this._destroyResources()}get resources(){return null!=this._resources?this._resources.external:null}get visible(){return this._visible}set visible(e){e!==this._visible&&(this._visible=e,this._syncGeometriesToRenderer())}get attached(){return this._attached}set attached(e){e!==this._attached&&(this._attached=e,this._createOrDestroyResources())}get renderGroup(){return this._renderGroup}set renderGroup(e){this._renderGroup=e;const r=this._resources?.layerView;r&&(r.renderGroup=e)}recreate(){this.attached&&this._createResources()}recreateGeometry(){this._resourceFactory.recreateGeometry?null!=this._resources&&(this._ensureRenderGeometriesRemoved(),this._resourceFactory.recreateGeometry(this._resources.external),this._syncGeometriesToRenderer()):this.recreate()}_createOrDestroyResources(){this._attached?null==this._resources&&this._createResources():this._destroyResources()}_createResources(){this._destroyResources();const e=this._resourceFactory.createResources(),r=new a({view:this._resourceFactory.view,renderGroup:this._renderGroup}),s=this._resourceFactory.view.basemapTerrain?.overlayManager;this._resources={layerView:new a({view:this._resourceFactory.view,renderGroup:this._renderGroup}),external:e,geometriesAdded:!1},s&&(this._resources.drapeSourceRenderer=s.registerGeometryDrapeSource(r)),this._syncGeometriesToRenderer()}_destroyResources(){if(null==this._resources)return;this._ensureRenderGeometriesRemoved();const e=this._resourceFactory.view.basemapTerrain?.overlayManager;e&&e.unregisterDrapeSource(this._resources.layerView),this._resourceFactory.destroyResources(this._resources.external),this._resources=null}_syncGeometriesToRenderer(){this._visible?this._ensureRenderGeometriesAdded():this._ensureRenderGeometriesRemoved()}_ensureRenderGeometriesRemoved(){if(null==this._resources?.drapeSourceRenderer)return;if(!this._resources.geometriesAdded)return;this._resources.drapeSourceRenderer.removeGeometries(this._resources.external.geometries,u.UPDATE),this._resources.geometriesAdded=!1}_ensureRenderGeometriesAdded(){if(null==this._resources?.drapeSourceRenderer)return;if(this._resources.geometriesAdded)return;this._resources.drapeSourceRenderer.addGeometries(this._resources.external.geometries,u.UPDATE),this._resources.geometriesAdded=!0}}let a=class extends(s(r)){constructor(e){super(e),this.drapeSourceType=i.Features,this.updatePolicy=d.SYNC,this.renderGroup=c.Outline}};e([t({constructOnly:!0})],a.prototype,\"view\",void 0),e([t({readOnly:!0})],a.prototype,\"drapeSourceType\",void 0),e([t()],a.prototype,\"renderGroup\",void 0),a=e([o(\"DrapedVisualElementLayerView\")],a);export{n as DrapedVisualElementResources};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{watch as e,initial as s}from\"../../../../core/reactiveUtils.js\";import{ContentObjectType as r}from\"../../webgl-engine/lib/ContentObjectType.js\";import{Object3D as t}from\"../../webgl-engine/lib/Object3D.js\";import{UpdatePolicy as o}from\"../../webgl-engine/lib/UpdatePolicy.js\";import{WebGLLayer as i}from\"../../webgl-engine/lib/WebGLLayer.js\";class c{constructor(e){this._resourceFactory=e,this._resources=null,this._visible=!0,this._attached=!1}destroy(){this._destroyResources()}get object(){return null!=this._resources?this._resources.object:null}get resources(){return null!=this._resources?this._resources.external:null}get visible(){return this._visible}set visible(e){e!==this._visible&&(this._visible=e,this._syncVisible())}get attached(){return this._attached}set attached(e){e!==this._attached&&(this._attached=e,this._createOrDestroyResources())}recreate(){this.attached&&this._createResources()}recreateGeometry(){if(!this._resourceFactory.recreateGeometry)return void this.recreate();const e=this._resourceFactory.view._stage;if(null==this._resources||!e)return;const s=this._resources.object;this._resources.external.forEach((s=>{s.type!==r.Mesh&&s.type!==r.Line&&s.type!==r.Point||e.remove(s)})),s.removeAllGeometries(),this._resourceFactory.recreateGeometry(this._resources.external,s,this._resources.layer),this._resources.external.forEach((s=>{s.type!==r.Mesh&&s.type!==r.Line&&s.type!==r.Point||e.add(s)}))}_createOrDestroyResources(){this._attached?this._resources||this._createResources():this._destroyResources()}_createResources(){this._destroyResources();const c=this._resourceFactory,a=c.view,h=a._stage;if(!h)return;const u=new i(h,{pickable:!1,updatePolicy:o.SYNC}),l=new t({castShadow:!1}),n=c.createResources(l,u);n.forEach((e=>{h.add(e),e.type===r.Texture&&e.load(h.renderView.renderingContext)})),h.add(l),u.add(l);const _=c.cameraChanged,y=_?e((()=>a.state.camera),(e=>_(e)),s):null;this._resources={layer:u,object:l,external:n,cameraHandle:y},this._syncVisible()}_destroyResources(){if(null==this._resources)return;const e=this._resourceFactory.view._stage;e&&(e.remove(this._resources.object),this._resources.layer.destroy(),this._resources.external.forEach((s=>{e.remove(s),s.type===r.Texture&&s.unload()}))),this._resources.object.dispose(),this._resources.cameraHandle?.remove(),this._resourceFactory.destroyResources(this._resources.external),this._resources=null}_syncVisible(){null!=this._resources&&(this._resources.object.visible=this._visible)}}export{c as VisualElementResources};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{DrapedVisualElementResources as e}from\"./DrapedVisualElementResources.js\";import{VisualElement as s}from\"./VisualElement.js\";import{VisualElementResources as r}from\"./VisualElementResources.js\";class t extends s{constructor(s){super(s),this._isDraped=!1,this.object3dResources=new r(this.createObject3DResourceFactory(s.view)),this.drapedResources=new e(this.createDrapedResourceFactory(s.view)),this.isDraped=s.isDraped??!1}get isDraped(){return this._isDraped}set isDraped(e){e!==this._isDraped&&(this._isDraped=e,this.object3dResources.attached=this.attached&&!e,this.drapedResources.attached=this.attached&&e)}get renderGroup(){return this.drapedResources.renderGroup}set renderGroup(e){this.drapedResources.renderGroup=e}createResources(){this.object3dResources.attached=!this._isDraped,this.drapedResources.attached=this._isDraped}destroyResources(){this.object3dResources.attached=!1,this.drapedResources.attached=!1}recreate(){this.object3dResources.recreate(),this.drapedResources.recreate()}recreateGeometry(){this.object3dResources.recreateGeometry(),this.drapedResources.recreateGeometry()}destroy(){this.object3dResources.destroy(),this.drapedResources.destroy(),super.destroy()}updateVisibility(e){this.object3dResources.visible=e,this.drapedResources.visible=e}}export{t as EngineVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{watch as e}from\"../../../../core/reactiveUtils.js\";import{fromTranslation as t,scale as r}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as i}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{q as s,n as a,f as o,c as n,j as c,g as l}from\"../../../../chunks/vec32.js\";import{create as u,ZEROS as d}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{c as h}from\"../../../../chunks/vec42.js\";import{fromValues as m}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{sv3d as _}from\"../../../../geometry/support/vectorStacks.js\";import{makeDehydratedPoint as p}from\"../../../../layers/graphics/dehydratedPoint.js\";import{EngineVisualElement as g}from\"./EngineVisualElement.js\";import{drapedZ as f}from\"../../terrain/OverlayRenderer.js\";import{Attribute as b}from\"../../webgl-engine/lib/Attribute.js\";import{Geometry as M}from\"../../webgl-engine/lib/Geometry.js\";import{createPolylineGeometry as O}from\"../../webgl-engine/lib/GeometryUtil.js\";import{RenderOccludedFlag as R}from\"../../webgl-engine/lib/Material.js\";import{RenderGeometry as j}from\"../../webgl-engine/lib/RenderGeometry.js\";import{VertexAttribute as y}from\"../../webgl-engine/lib/VertexAttribute.js\";import{ColorMaterial as D}from\"../../webgl-engine/materials/ColorMaterial.js\";import{RibbonLineMaterial as w}from\"../../webgl-engine/materials/RibbonLineMaterial.js\";class z extends g{constructor(e){super(e),this._maxSize=0,this._position=u(),this._up=u(),this._right=u(),this._renderOccluded=R.OccludeAndTransparent,this._color=m(1,0,0,1),this._outlineColor=m(0,0,0,1),this._outlineSize=0,this._size=32,this._outlineRenderOccluded=R.Opaque,this.applyProperties(e)}createObject3DResourceFactory(e){return{view:e,createResources:e=>this._createObject3DResources(e),destroyResources:()=>{},cameraChanged:()=>this._updateTransformObject3D()}}createDrapedResourceFactory(e){return{view:e,createResources:()=>this._createDrapedResources(),destroyResources:e=>this._destroyDrapedResources(e)}}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this._updateQuadMaterial())}get color(){return this._color}set color(e){h(this._color,e),this._updateQuadMaterial()}get outlineColor(){return this._outlineColor}set outlineColor(e){h(this._outlineColor,e),this._updateOutlineMaterial()}get outlineSize(){return this._outlineSize}set outlineSize(e){const t=0===this._outlineSize!=(0===e);this._outlineSize=e,t?this.recreateGeometry():this._updateOutlineMaterial()}get size(){return this._size}set size(e){e!==this._size&&(this._size=e,this._updateTransform())}get outlineRenderOccluded(){return this._outlineRenderOccluded}set outlineRenderOccluded(e){this._outlineRenderOccluded=e,this._updateOutlineMaterial()}set geometry({previous:e,center:t,next:r}){this._maxSize=Math.min(s(t,e),s(t,r))/3,a(this._up,o(this._up,e,t)),a(this._right,o(this._right,r,t)),n(this._position,t),this.recreateGeometry()}_createObject3DResources(e){const t=new D(this._quadMaterialParameters),r=0===this._outlineSize?void 0:new w(this._outlineMaterialParameters);return this._createObject3DGeometries(e,t,r),{quadMaterial:t,outlineMaterial:r,forEach:e=>{e(t),r&&e(r)}}}_createObject3DGeometries(e,t,r){if(c(this._up,d)&&c(this._right,d))return;const i=this._createGeometries(t,r);for(const s of i)e.addGeometry(s);this._updateTransformObject3D(e)}_createDrapedResources(){const t=new D(this._quadMaterialParameters),r=0===this._outlineSize?void 0:new w(this._outlineMaterialParameters),i=this._createGeometries(t,r).map((e=>new j(e)));this._setTransformDraped(i);return{quadMaterial:t,outlineMaterial:r,geometries:i,pixelRatioHandle:e((()=>this.view.state.contentPixelRatio),(()=>{this.drapedResources.recreateGeometry()}))}}_destroyDrapedResources(e){e.pixelRatioHandle.remove(),e.geometries=[]}_createGeometries(e,t){const{up:r,right:i,corner:s}=this._getVertices(),a=this._quadGeometryData(r,i,s,e);if(!t)return[a];return[a,O(t,[r,s,i])]}_getVertices(){let e=this._up,t=this._right;const r=l(_.get(),e,t);return this.isDraped&&(e=n(_.get(),e),t=n(_.get(),t),e[2]=0,t[2]=0,r[2]=0),{up:e,right:t,corner:r}}_updateTransform(){this.isDraped?this.drapedResources.recreateGeometry():this._updateTransformObject3D()}_updateTransformObject3D(e=this.object3dResources.object){if(!e)return;const i=this.view.state.camera,s=this._size*i.computeScreenPixelSizeAt(this._position),a=Math.min(this._maxSize,s);t(P,this._position),r(P,P,[a,a,a]),e.transformation=P}_setTransformDraped(e){if(0===e.length)return;const{view:{basemapTerrain:{overlayManager:i},state:{contentPixelRatio:s}}}=this,{_position:a,_size:o}=this,c=n(_.get(),a);c[2]=f;const l=v;l.spatialReference=i.renderer.spatialReference,l.x=c[0],l.y=c[1];const u=o*(this.view.overlayPixelSizeInMapUnits(l)*s),d=Math.min(this._maxSize,u);t(P,c),r(P,P,[d,d,1]);for(const t of e)t.transformation=P}_quadGeometryData(e,t,r,i){return new M(i,[[y.POSITION,new b([0,0,0,...t,...e,...r],[0,1,2,1,2,3],3,!0)]])}get _quadMaterialParameters(){return{color:this._color,forceTransparentMode:!0,writeDepth:!1,polygonOffset:!0,renderOccluded:this._renderOccluded,isDecoration:this.isDecoration}}_updateQuadMaterial(){this.object3dResources.resources?.quadMaterial.setParameters(this._quadMaterialParameters),this.drapedResources.resources?.quadMaterial.setParameters(this._quadMaterialParameters)}get _outlineMaterialParameters(){return{color:this._outlineColor,width:this._outlineSize,renderOccluded:this._outlineRenderOccluded,isDecoration:this.isDecoration}}_updateOutlineMaterial(){this.object3dResources.resources?.outlineMaterial?.setParameters(this._outlineMaterialParameters),this.drapedResources.resources?.outlineMaterial?.setParameters(this._outlineMaterialParameters)}}const P=i(),v=p(0,0,void 0,null);export{z as RightAngleQuadVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import r from\"../../../core/Accessor.js\";import e from\"../../../core/Collection.js\";import{property as t}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";let i=class extends r{constructor(o){super(o),this.layer=null,this.enabled=!0,this.updating=!1,this.availability=1,this.sublayerSources=new e}};o([t({constructOnly:!0})],i.prototype,\"layer\",void 0),o([t()],i.prototype,\"enabled\",void 0),o([t()],i.prototype,\"updating\",void 0),o([t()],i.prototype,\"availability\",void 0),o([t()],i.prototype,\"sublayerSources\",void 0),i=o([s(\"esri.views.interactive.snapping.FeatureSnappingLayerSource\")],i);const p=i;export{p as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Accessor.js\";import{difference as r}from\"../../../core/arrayUtils.js\";import o from\"../../../core/Collection.js\";import s from\"../../../core/Logger.js\";import{property as i}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import{subclass as a}from\"../../../core/accessorSupport/decorators/subclass.js\";import n from\"./FeatureSnappingLayerSource.js\";import{defaults as l}from\"./Settings.js\";let c=class extends t{constructor(e){super(e),this.enabled=!1,this.enabledToggled=!1,this.forceDisabled=!1,this.selfEnabled=!0,this.featureEnabled=!0,this.featureSources=new o,this.distance=l.distance,this.touchSensitivityMultiplier=l.touchSensitivityMultiplier,this.constraintsActive=!1}get effectiveEnabled(){return!this.forceDisabled&&(this.enabledToggled?!this.enabled:this.enabled)}get effectiveSelfEnabled(){return this.effectiveEnabled&&this.selfEnabled}get effectiveFeatureEnabled(){return this.effectiveEnabled&&this.featureEnabled}get _effectiveFeatureSources(){const e=this.featureSources;e.some(p)&&s.getLogger(this).warnOnce(\"Do not configure SubtypeGroupLayer sources in SnappingOptions.featureSources directly. Create a FeatureSnappingLayerSource for each SubtypeSublayer.\");const t=e.filter(d),i=this._get(\"_effectiveFeatureSources\")?.filter(p)??new o;for(const r of t){const e=i.find((e=>e.layer===r.layer.parent));if(e)e.sublayerSources.includes(r)||e.sublayerSources.add(r);else if(r.layer.parent){const e=new n({layer:r.layer.parent});e.sublayerSources.add(r),i.add(e)}}for(const r of i){const e=r.sublayerSources.filter((e=>!t.includes(e)));r.sublayerSources.removeMany(e)}i.removeMany(i.filter((e=>0===e.sublayerSources.length)));const a=e.filter(f),l=this._get(\"_effectiveFeatureSources\")??new o,{added:c,removed:u}=r(l.toArray(),[...a,...i]);return l.removeMany(u),l.addMany(c),l}};e([i()],c.prototype,\"enabled\",void 0),e([i()],c.prototype,\"enabledToggled\",void 0),e([i()],c.prototype,\"forceDisabled\",void 0),e([i()],c.prototype,\"selfEnabled\",void 0),e([i()],c.prototype,\"featureEnabled\",void 0),e([i({type:o.ofType(n)})],c.prototype,\"featureSources\",void 0),e([i()],c.prototype,\"distance\",void 0),e([i()],c.prototype,\"touchSensitivityMultiplier\",void 0),e([i()],c.prototype,\"constraintsActive\",void 0),e([i({readOnly:!0})],c.prototype,\"effectiveEnabled\",null),e([i({readOnly:!0})],c.prototype,\"effectiveSelfEnabled\",null),e([i({readOnly:!0})],c.prototype,\"effectiveFeatureEnabled\",null),e([i({readOnly:!0})],c.prototype,\"_effectiveFeatureSources\",null),c=e([a(\"esri.views.interactive.snapping.SnappingOptions\")],c);const u=c;function p(e){return\"subtype-group\"===e.layer.type}function f(e){return\"subtype-group\"!==e.layer.type}function d(e){return\"subtype-sublayer\"===e.layer.type}export{u as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import r from\"../../../core/Accessor.js\";import t from\"../../../core/Logger.js\";import{watch as i,syncAndInitial as l}from\"../../../core/reactiveUtils.js\";import{sqlAnd as s}from\"../../../core/sql.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/RandomLCG.js\";import{subclass as a}from\"../../../core/accessorSupport/decorators/subclass.js\";import n from\"../../../layers/support/FeatureFilter.js\";import{getFloorFilterClause as p}from\"../../../layers/support/floorFilterUtils.js\";import{isSubtypeGroupLayer as u,isFeatureLayer as y}from\"../../../layers/support/layerUtils.js\";import{isUtilityNetworkWebMap as c}from\"./snappingUtils.js\";import{scaleBoundsPredicate as d}from\"../../support/layerViewUtils.js\";let f=class extends r{get layerView(){return this.view?.allLayerViews?.find((e=>e.layer===this.layer))}get valid(){return this._valid}get subtypeFilter(){const{layer:e,snappingSource:r}=this;if(!u(e)||!e.subtypes?.length)return{mode:\"not-in-use\",filter:null};const t=r.layerSource.sublayerSources.filter((e=>e.enabled&&e.layer.visible&&d(this.view?.scale,e.layer.effectiveScaleRange.minScale,e.layer.effectiveScaleRange.maxScale))).map((e=>e.layer.subtypeCode));if(!t.length)return{mode:\"none-visible\",filter:null};if(t.length===e.subtypes.length)return{mode:\"all-visible\",filter:null};const i=e.fieldsIndex.get(e.subtypeField)?.name??e.subtypeField;return 1===t.length?{mode:\"in-use\",filter:`${i} = ${t.getItemAt(0)}`}:{mode:\"in-use\",filter:`${i} IN (${t.join(\", \")})`}}get floorFilter(){const{view:e,layer:r}=this;return e&&r?p({view:e,layer:r}):null}constructor(e){super(e),this.rulesTable=null,this._valid=!1}initialize(){if(!this.snappingSource||!this.layer)return;const{layer:e,snappingSource:r}=this;if(\"refresh\"in e){const t=e;this.addHandles(t.on(\"refresh\",(()=>r.refresh())))}this.loadRules(),this.addHandles([i((()=>r.updating),(e=>r.layerSource.updating=e),l),i((()=>r.availability),(e=>r.layerSource.availability=e),l)])}getFetchCandidatesParameters(e,r,t){if(!this.valid)return[];const{layer:i,layerView:l,floorFilter:o,rulesTable:a,subtypeFilter:p}=this,d={distance:t,mode:this.view?.type??\"2d\",point:e,coordinateHelper:r.coordinateHelper,...this._types,filter:l&&\"filter\"in l?l.filter:null};if(o&&(d.filter=h(d.filter,o)),\"not-in-use\"!==p.mode&&\"all-visible\"!==p.mode){if(\"none-visible\"===p.mode)return[];d.filter?d.filter.where=s(d.filter.where,p.mode):d.filter=new n({where:p.filter})}const f=r.feature,m=\"subtype-sublayer\"===f?.sourceLayer?.type?f.sourceLayer.parent:f?.sourceLayer;if(a&&f&&c(this.view?.map)&&(y(i)||u(i))&&i.layerId&&(y(m)||u(m))&&this.view.map.utilityNetworks?.find((e=>e.isUtilityLayer(m)))){if(\"loaded\"!==a.loadStatus)return[];const e=[],r=i.layerId,t=a.getFeatureSQL(m,f)?.[r];if(!t)return[];const l=t.anyVertex;let s=t.endVertex;return s&&l&&s===l&&(s=\"\"),s&&e.push({...d,returnEdge:!1,vertexMode:\"ends\",filter:h(d.filter,s)}),l&&e.push({...d,returnEdge:!1,vertexMode:\"all\",filter:h(d.filter,l)}),e}return[d]}async loadRules(){const{layer:e,view:r}=this;if(e&&r&&c(r?.map)&&(y(e)||u(e))){const l=r.map.utilityNetworks?.find((r=>r.isUtilityLayer(e)));if(l)try{this.rulesTable=await l.getRulesTable(),await(this.rulesTable?.load())}catch(i){return void t.getLogger(\"esri.views.interactive.snapping.FeatureSnappingSourceInfo\").error(\"Failed to load rules table for snapping source\",e.title)}}this._valid=!0}get _types(){return{returnEdge:!0,vertexMode:\"all\"}}remove(){this.destroy()}destroy(){this.snappingSource?.destroy()}};function h(e,r){return null==e?new n({where:r}):e.where?new n({where:s(e.where,r)}):new n({where:r})}e([o({constructOnly:!0})],f.prototype,\"layer\",void 0),e([o({constructOnly:!0})],f.prototype,\"snappingSource\",void 0),e([o({constructOnly:!0})],f.prototype,\"view\",void 0),e([o()],f.prototype,\"layerView\",null),e([o()],f.prototype,\"rulesTable\",void 0),e([o()],f.prototype,\"valid\",null),e([o()],f.prototype,\"subtypeFilter\",null),e([o()],f.prototype,\"floorFilter\",null),e([o()],f.prototype,\"_valid\",void 0),f=e([a(\"esri.views.interactive.snapping.FeatureSnappingSourceInfo\")],f);export{f as FeatureSnappingSourceInfo};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{SnappingDomain as t}from\"../SnappingDomain.js\";import{LineSegmentHintType as e}from\"../snappingUtils.js\";import{SnappingCandidate as i}from\"./SnappingCandidate.js\";import{LineSnappingHint as r}from\"../hints/LineSnappingHint.js\";import{RightAngleSnappingHint as s}from\"../hints/RightAngleSnappingHint.js\";class o extends i{constructor({targetPoint:e,constraint:i,previousVertex:r,otherVertex:s,otherVertexType:o,objectId:n,isDraped:h}){super(e,i,h,t.SELF),this.previousVertex=r,this.otherVertex=s,this.otherVertexType=o,this.objectId=n}get hints(){const t=this.previousVertex,i=this.otherVertexType===n.CENTER?this.otherVertex:this.targetPoint,o=this.otherVertexType===n.CENTER?this.targetPoint:this.otherVertex;return[new r(e.TARGET,i,o,this.isDraped,this.domain),new r(e.REFERENCE,t,i,this.isDraped,this.domain),new s(this.previousVertex,i,o,this.isDraped,this.domain)]}}var n;!function(t){t[t.NEXT=0]=\"NEXT\",t[t.CENTER=1]=\"CENTER\"}(n||(n={}));export{n as OtherVertexType,o as RightAngleSnappingCandidate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Accessor.js\";import{destroyHandle as r}from\"../../../core/handleUtils.js\";import{allSettledValues as n,throwIfAborted as a}from\"../../../core/promiseUtils.js\";import{mapCollectionAsync as s}from\"../../../core/reactiveUtils.js\";import{getMetersPerUnitForSR as i,getMetersPerVerticalUnitForSR as o}from\"../../../core/unitUtils.js\";import{property as c}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as u}from\"../../../core/accessorSupport/decorators/subclass.js\";import{squaredDistance as p}from\"../../../core/libs/gl-matrix-2/math/vec2.js\";import{a as l,c as d}from\"../../../chunks/vec32.js\";import{create as m}from\"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{getEpsilon as g}from\"../../../core/libs/gl-matrix-2/math/common.js\";import{UpdatingHandles as S}from\"../../../core/support/UpdatingHandles.js\";import{absoluteHeightElevationInfo as h}from\"../../../support/elevationInfoUtils.js\";import{VerticalHalfPlaneConstraint as f}from\"../sketch/constraints.js\";import{fromAnyMapPoint as y,asVec2 as _}from\"../sketch/normalizedPoint.js\";import{FeatureSnappingSourceInfo as v}from\"./FeatureSnappingSourceInfo.js\";import{SnappingDomain as w}from\"./SnappingDomain.js\";import{sortCandidatesInPlace as j,screenDistance as F}from\"./snappingUtils.js\";import{DrapedEdgeSnappingCandidate as x}from\"./candidates/DrapedEdgeSnappingCandidate.js\";import{EdgeSnappingCandidate as C}from\"./candidates/EdgeSnappingCandidate.js\";import{FeatureSnappingCandidate as b}from\"./candidates/FeatureSnappingCandidate.js\";import{RightAngleSnappingCandidate as R,OtherVertexType as L}from\"./candidates/RightAngleSnappingCandidate.js\";import{vectorToScreenPoint as M}from\"../support/viewUtils.js\";let I=class extends t{get updating(){return this._snappingSources.some((e=>null==e||e.valid&&e.snappingSource.updating))||this._updatingHandles.updating}constructor(e){super(e),this.options=null,this._domain=w.FEATURE,this._updatingHandles=new S,this._sourceModules={featureService:{module:null,loader:null},featureCollection:{module:null,loader:null},graphics:{module:null,loader:null},notes:{module:null,loader:null},scene:{module:null,loader:null}}}initialize(){const e=s((()=>this.options?._effectiveFeatureSources),((e,t)=>this._createSourceInfo(e,t)));this._snappingSources=e,this.addHandles(r(e))}destroy(){this._set(\"options\",null),this._updatingHandles.destroy()}async fetchCandidates(e,t,r,s){if(!(t&this._domain&&null!=this.options&&this.options.effectiveFeatureEnabled))return[];const i=[],o=this._computeScreenSizeDistanceParameters(e,r);for(const n of this._snappingSources){if(null==n||!n.valid||!n.snappingSource.layerSource.enabled||n.layerView?.suspended)continue;const t=n.getFetchCandidatesParameters(e,r,o);for(const e of t)i.push(n.snappingSource.fetchCandidates(e,s).then((e=>e.filter((e=>!this._candidateIsExcluded(n.snappingSource,e,r.excludeFeature))))))}const c=(await n(i)).flat();return this._addRightAngleCandidates(c,e,o,r),a(s),j(e,c),c}_addRightAngleCandidates(e,t,r,n){const a=null!=n.vertexHandle?n.vertexHandle.rightEdge?.rightVertex?.pos:null!=n.editGeometryOperations&&\"polygon\"===n.editGeometryOperations.data.type?n.editGeometryOperations.data.components[0]?.getFirstVertex()?.pos:null,s=null!=n.vertexHandle?n.vertexHandle.leftEdge?.leftVertex?.pos:null!=n.editGeometryOperations?n.editGeometryOperations.data.components[0]?.getLastVertex()?.pos:null,{view:i}=this,o=y(a,i,n),c=y(s,i,n),u=e.length;for(let p=0;p<u;p++)this._addRightAngleCandidate(e[p],c,t,r,e),this._addRightAngleCandidate(e[p],o,t,r,e)}_addRightAngleCandidate(e,t,r,n,a){if(null==t||!G(e))return;const s=e.constraint.closestTo(t),i=(s[0]-r[0])/n.x,o=(s[1]-r[1])/n.y,{start:c,end:u}=e.constraint;if(i*i+o*o<=1){const r=new R({targetPoint:s,otherVertex:t,otherVertexType:L.NEXT,previousVertex:p(_(s),_(c))>p(_(s),_(u))?c:u,constraint:new f(t,s),objectId:e.objectId,isDraped:e.isDraped});a.push(r)}}_computeScreenSizeDistanceParameters(e,t){let r=null!=this.options?this.options.distance*(\"touch\"===t.pointer?this.options.touchSensitivityMultiplier:1):0;return null==this.view?{x:r,y:r,z:r,distance:r}:\"2d\"===this.view.type?(r*=this.view.resolution,{x:r,y:r,z:r,distance:r}):this._computeScreenSizeDistanceParameters3D(e,r,this.view,t)}_computeScreenSizeDistanceParameters3D(e,t,r,n){const{spatialReference:a}=n;r.renderCoordsHelper.toRenderCoords(e,a,E);const s=r.state.camera.computeScreenPixelSizeAt(E),c=s*r.renderCoordsHelper.unitInMeters,u=c/i(a),p=c/o(a),l=t*u,d=t*p,m=M(e,a,h,r),g=m?P(m,e,u,0,0,r,n):0,S=m?P(m,e,0,u,0,r,n):0,f=m?P(m,e,0,0,p,r,n):0;return{x:0===g?0:l/g,y:0===S?0:l/S,z:0===f?0:d/f,distance:s*t}}_candidateIsExcluded(e,t,r){if(null==r)return!1;const n=this._getCandidateObjectId(t);if(null==n)return!1;const a=e.layerSource.layer;return\"graphics\"===a.type?r.uid===n:r.sourceLayer===a&&(!(!r.attributes||!(\"objectIdField\"in a))&&r.attributes[a.objectIdField]===n)}_getCandidateObjectId(e){return e instanceof b?e.objectId:null}async _createSourceInfo(e,t){const r=e.layer;r.loaded||(await r.load(),a(t));const{view:n}=this,s=await this._createFeatureSnappingSourceType(e);return a(t),new v(null==s?{}:{snappingSource:s,view:n,layer:r})}async _createFeatureSnappingSourceType(e){switch(e.layer.type){case\"feature\":case\"geojson\":case\"csv\":case\"oriented-imagery\":case\"subtype-group\":case\"wfs\":return this._createFeatureSnappingSourceFeatureLayer(e);case\"graphics\":return this._createFeatureSnappingSourceGraphicsLayer(e);case\"map-notes\":return this._createFeatureSnappingSourceMapNotesLayer(e);case\"scene\":case\"building-scene\":return this._createFeatureSnappingSourceSceneLayer(e)}return null}async _createFeatureSnappingSourceSceneLayer(e){const{view:t}=this;if(null==t||\"3d\"!==t.type)return null;return new((await this._getSourceModule(\"scene\")).SceneLayerSnappingSource)({layerSource:e,view:t})}async _createFeatureSnappingSourceFeatureLayer(e){switch(e.layer.source?.type){case\"feature-layer\":case\"oriented-imagery\":return new((await this._getSourceModule(\"featureService\")).FeatureServiceSnappingSource)({spatialReference:this.spatialReference,view:this.view,layerSource:e});case\"memory\":case\"csv\":case\"geojson\":case\"wfs\":if(\"mesh\"===e.layer.geometryType)return null;return new((await this._getSourceModule(\"featureCollection\")).FeatureCollectionSnappingSource)({layerSource:e,view:this.view})}return null}async _createFeatureSnappingSourceGraphicsLayer(e){return new((await this._getSourceModule(\"graphics\")).GraphicsSnappingSource)({getGraphicsLayers:()=>[e.layer],spatialReference:this.spatialReference,view:this.view,layerSource:e})}async _createFeatureSnappingSourceMapNotesLayer(e){return new((await this._getSourceModule(\"notes\")).GraphicsSnappingSource)({getGraphicsLayers:()=>e.layer.sublayers?.toArray()??[],spatialReference:this.spatialReference,view:this.view,layerSource:e})}async _getSourceModule(e){const t=this._sourceModules[e];if(null==t.loader){const t=this._loadSourceModule(e),r={module:null,loader:t};this._sourceModules[e]=r;const n=await t,a={module:n,loader:t};return this._sourceModules[e]=a,n}return null==t.module?t.loader:t.module}_loadSourceModule(e){const t=this._updatingHandles;switch(e){case\"featureService\":return t.addPromise(import(\"./featureSources/FeatureServiceSnappingSource.js\"));case\"featureCollection\":return t.addPromise(import(\"./featureSources/FeatureCollectionSnappingSource.js\"));case\"graphics\":case\"notes\":return t.addPromise(import(\"./featureSources/GraphicsSnappingSource.js\"));case\"scene\":return t.addPromise(import(\"./featureSources/SceneLayerSnappingSource.js\"))}}get test(){return{snappingSources:this._snappingSources}}};function G(e){return(e instanceof C||e instanceof x)&&!H(e)}function H({constraint:{start:e,end:t}}){const r=l(e,t),n=p(_(e),_(t));return r<g()||n/r<A}function P(e,t,r,n,a,s,{spatialReference:i}){const o=d(z,t);o[0]+=r,o[1]+=n,o[2]+=a;const c=M(o,i,h,s);return c?F(c,e):1/0}e([c({constructOnly:!0})],I.prototype,\"spatialReference\",void 0),e([c({constructOnly:!0})],I.prototype,\"view\",void 0),e([c()],I.prototype,\"options\",void 0),e([c({readOnly:!0})],I.prototype,\"updating\",null),e([c()],I.prototype,\"_snappingSources\",void 0),I=e([u(\"esri.views.interactive.snapping.FeatureSnappingEngine\")],I);const E=m(),z=m(),A=1e-4;export{I as FeatureSnappingEngine};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{getMetersPerUnitForSR as e}from\"../../../core/unitUtils.js\";import{distance as t}from\"../../../core/libs/gl-matrix-2/math/vec2.js\";import{absoluteHeightElevationInfo as r}from\"../../../support/elevationInfoUtils.js\";import{fromAnyMapPoint as s,asVec2 as i}from\"../sketch/normalizedPoint.js\";import{defaults as o}from\"./Settings.js\";import{squaredScreenDistance as h}from\"./snappingUtils.js\";import{vectorToScreenPoint as n}from\"../support/viewUtils.js\";class l{constructor(e,t){this.view=e,this.options=t,this.squaredShortLineThreshold=o.shortLineThreshold*o.shortLineThreshold}snap(e,t){return null!=t.vertexHandle?\"vertex\"!==t.vertexHandle.type?[]:this.snapExistingVertex(e,t):this.snapNewVertex(e,t)}edgeExceedsShortLineThreshold(e,t){return this.exceedsShortLineThreshold(s(e.leftVertex.pos,this.view,t),s(e.rightVertex.pos,this.view,t),t)}exceedsShortLineThreshold(e,t,{spatialReference:s}){return 0===this.squaredShortLineThreshold||h(n(t,s,r,this.view),n(e,s,r,this.view))>this.squaredShortLineThreshold}isVertical(r,s,{spatialReference:h}){const n=e(h);return t(i(r),i(s))*n<o.verticalLineThresholdMeters}squaredProximityThreshold(e){return\"touch\"===e?this._squaredTouchProximityThreshold:this._squaredMouseProximityThreshold}get _squaredMouseProximityThreshold(){return this.options.distance*this.options.distance}get _squaredTouchProximityThreshold(){const{distance:e,touchSensitivityMultiplier:t}=this.options,r=e*t;return r*r}}export{l as SnappingAlgorithm};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{VerticalPlaneConstraint as t}from\"../../sketch/constraints.js\";import{SnappingDomain as n}from\"../SnappingDomain.js\";import{LineSegmentHintType as i}from\"../snappingUtils.js\";import{SnappingCandidate as e}from\"./SnappingCandidate.js\";import{LineSnappingHint as s}from\"../hints/LineSnappingHint.js\";class r extends e{constructor({lineStart:e,lineEnd:r,targetPoint:o,isDraped:a}){super(o,new t(e,r),a,n.SELF),this._referenceLineHint=new s(i.REFERENCE_EXTENSION,e,r,a,this.domain)}get hints(){return[this._referenceLineHint,new s(i.TARGET,this._lineEndClosestToTarget(),this.targetPoint,this.isDraped,this.domain)]}_lineEndClosestToTarget(){return this.constraint.closestEndTo(this.targetPoint)}}export{r as LineSnappingCandidate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{cyclicalPI as e,cyclical2PI as t}from\"../../../core/Cyclical.js\";import{valueInUnit as r,createAngle as s}from\"../../../core/quantityUtils.js\";import{create as o}from\"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{absoluteHeightElevationInfo as i}from\"../../../support/elevationInfoUtils.js\";import{fromAnyMapPoint as n,fromVec3 as a}from\"../sketch/normalizedPoint.js\";import{SnappingAlgorithm as p}from\"./SnappingAlgorithm.js\";import{editEdgeToSnappingEdge as d,squaredScreenDistance as l}from\"./snappingUtils.js\";import{LineSnappingCandidate as h}from\"./candidates/LineSnappingCandidate.js\";import{vectorToScreenPoint as c}from\"../support/viewUtils.js\";import{radiansGeographicBetweenVec as g,pointFromDistanceAlongAzimuth as m}from\"../../support/angularMeasurementUtils.js\";import{geodesicDistance as f}from\"../../support/geodesicLengthMeasurementUtils.js\";import{projectPointToLineLike as u}from\"../../support/geometry3dUtils.js\";import{LineType as j}from\"../../support/geometry2dUtils.js\";class x extends p{snapNewVertex(e,t){const r=t.editGeometryOperations.data.components[0],s=r.edges.length,o=[];if(s<1)return o;const{spatialReference:n}=t,a=c(e,n,i,this.view),{view:p}=this,l=r.edges[s-1];let h=l;do{if(this.edgeExceedsShortLineThreshold(h,t)){const r=d(h,p,t);this._processCandidateProposal(r.left,r.right,e,a,t,o)}h=h.leftVertex.leftEdge}while(h&&h!==l);return o}snapExistingVertex(e,t){const r=[],s=t.vertexHandle,o=s.component;if(o.edges.length<2)return r;const{view:a}=this,{spatialReference:p}=t,l=c(e,p,i,a),h=s.leftEdge,g=s.rightEdge;h&&g&&this.edgeExceedsShortLineThreshold(h,t)&&this.edgeExceedsShortLineThreshold(g,t)&&this._processCandidateProposal(n(h.leftVertex.pos,a,t),n(g.rightVertex.pos,a,t),e,l,t,r);const m=o.edges[0];let f=m;do{if(f!==s.leftEdge&&f!==s.rightEdge&&this.edgeExceedsShortLineThreshold(f,t)){const s=d(f,a,t);this._processCandidateProposal(s.left,s.right,e,l,t,r)}f=f.rightVertex.rightEdge}while(f&&f!==m);return r}_processCandidateProposal(e,t,r,s,n,p){const{spatialReference:d,pointer:g}=n,m=o();this._projectedLine(m,e,t,r,n);const f=a(m);l(s,c(f,d,i,this.view))<this.squaredProximityThreshold(g)&&p.push(new h({lineStart:e,lineEnd:t,targetPoint:f,isDraped:\"on-the-ground\"===n.elevationInfo?.mode}))}_projectedLine(e,t,r,s,o){this._projectToLineGeodesic(e,t,r,s,o)||this._projectToLinePlanar(e,s,t,r)}_projectToLineGeodesic(o,i,n,a,{spatialReference:p}){const d=g(i,n,p,p);if(null==d)return!1;const l=g(n,a,p,p);if(null==l)return!1;const h=f(n,a,p);if(null==h)return!1;const c=Math.abs(e.shortestSignedDiff(d,l))>Math.PI/2?t.normalize(d+Math.PI):d;return m(o,n,p,r(h,\"meters\"),s(c,\"radians\",\"geographic\"),\"geodesic\"),o[2]=a[2],!0}_projectToLinePlanar(e,t,r,s){u(t,{start:r,end:s,type:j.LINE},e),e[2]=t[2]}}export{x as LineSnapper};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{f as e,g as t,j as i}from\"../../../../chunks/vec32.js\";import{clone as r}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{VerticalPlaneConstraint as s}from\"../../sketch/constraints.js\";import{fromVec3 as n}from\"../../sketch/normalizedPoint.js\";import{SnappingDomain as a}from\"../SnappingDomain.js\";import{LineSegmentHintType as f}from\"../snappingUtils.js\";import{SnappingCandidate as o}from\"./SnappingCandidate.js\";import{LineSnappingHint as d}from\"../hints/LineSnappingHint.js\";import{ParallelSnappingHint as h}from\"../hints/ParallelSnappingHint.js\";class g extends o{constructor({referenceLine:i,lineStart:f,targetPoint:o,isDraped:d}){const h=r(f),{left:g,right:p}=i;e(h,t(h,h,p),g),super(o,new s(f,n(h)),d,a.SELF),this._referenceLines=[{edge:i,fadeLeft:!0,fadeRight:!0}]}get hints(){return[new d(f.TARGET,this.constraint.start,this.targetPoint,this.isDraped,this.domain),new h(this.constraint.start,this.targetPoint,this.isDraped,this.domain),...this._referenceLines.map((e=>new d(f.REFERENCE,e.edge.left,e.edge.right,this.isDraped,this.domain,e.fadeLeft,e.fadeRight)))]}addReferenceLine(e){const t={edge:e,fadeLeft:!0,fadeRight:!0};this._referenceLines.forEach((r=>{i(e.right,r.edge.left)&&(r.fadeLeft=!1,t.fadeRight=!1),i(e.right,r.edge.right)&&(r.fadeRight=!1,t.fadeRight=!1),i(e.left,r.edge.right)&&(r.fadeRight=!1,t.fadeLeft=!1),i(e.left,r.edge.left)&&(r.fadeLeft=!1,t.fadeLeft=!1)})),this._referenceLines.push(t)}}export{g as ParallelLineSnappingCandidate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{squaredDistance as e}from\"../../../core/libs/gl-matrix-2/math/vec2.js\";import{create as t}from\"../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{absoluteHeightElevationInfo as r}from\"../../../support/elevationInfoUtils.js\";import{fromAnyMapPoint as i,asVec2 as s,fromValues as o}from\"../sketch/normalizedPoint.js\";import{defaults as n}from\"./Settings.js\";import{SnappingAlgorithm as l}from\"./SnappingAlgorithm.js\";import{editEdgeToSnappingEdge as a,squaredScreenDistance as c}from\"./snappingUtils.js\";import{ParallelLineSnappingCandidate as h}from\"./candidates/ParallelLineSnappingCandidate.js\";import{vectorToScreenPoint as d}from\"../support/viewUtils.js\";import{projectPointToLine as p}from\"../../support/geometry2dUtils.js\";class g extends l{snapNewVertex(e,t){const s=t.editGeometryOperations.data.components[0],o=s.edges.length,n=s.vertices.length,l=[];if(o<2)return l;const{view:c}=this,h=d(e,t.spatialReference,r,c),p=i(s.vertices[n-1].pos,c,t),g=i(s.vertices[0].pos,c,t),f=s.edges[o-1];let m=f;do{if(this.edgeExceedsShortLineThreshold(m,t)){const r=a(m,c,t);this._checkEdgeForParallelLines(r,p,e,h,t,l),this._checkEdgeForParallelLines(r,g,e,h,t,l)}m=m.leftVertex.leftEdge}while(m&&m!==f);return l}snapExistingVertex(e,t){const s=[],o=t.vertexHandle,n=o.component;if(n.edges.length<3)return s;const{view:l}=this,c=d(e,t.spatialReference,r,l),h=o.leftEdge,p=o.rightEdge,g=n.vertices[0],f=i(g.pos,l,t),m=n.vertices.length,u=n.vertices[m-1],v=i(u.pos,l,t),x=n.edges[0];let E=x;do{if(E!==h&&E!==p&&this.edgeExceedsShortLineThreshold(E,t)){const r=a(E,l,t);h&&this._checkEdgeForParallelLines(r,i(h.leftVertex.pos,l,t),e,c,t,s),p&&this._checkEdgeForParallelLines(r,i(p.rightVertex.pos,l,t),e,c,t,s),o===g?this._checkEdgeForParallelLines(r,v,e,c,t,s):o===u&&this._checkEdgeForParallelLines(r,f,e,c,t,s)}E=E.rightVertex.rightEdge}while(E&&E!==x);return s}_checkEdgeForParallelLines(t,i,l,a,g,m){const u=t.left,v=t.right;if(p(f,s(i),s(u),s(v)),e(f,s(i))<n.parallelLineThreshold)return;p(f,s(l),s(u),s(v),s(i));const{spatialReference:x,pointer:E}=g,L=o(f[0],f[1],l[2]);if(c(a,d(L,x,r,this.view))<this.squaredProximityThreshold(E)){if(this.isVertical(L,i,g)||this.isVertical(u,v,g))return;if(this._parallelToPreviousCandidate(t,m))return;m.push(new h({referenceLine:t,lineStart:i,targetPoint:L,isDraped:\"on-the-ground\"===g.elevationInfo?.mode}))}}_parallelToPreviousCandidate(t,r){const i=t.left,o=t.right;for(const l of r)if(p(f,s(o),s(l.constraint.start),s(l.constraint.end),s(i)),e(f,s(o))<n.parallelLineThreshold)return l.addReferenceLine(t),!0;return!1}}const f=t();export{g as ParallelLineSnapper};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{cyclical2PI as e}from\"../../../core/Cyclical.js\";import{createAngle as t,valueInUnit as r}from\"../../../core/quantityUtils.js\";import{subtract as i,dot as o,squaredLength as n,scaleAndAdd as s}from\"../../../core/libs/gl-matrix-2/math/vec2.js\";import{create as a}from\"../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{f as c,s as p,r as h}from\"../../../chunks/vec32.js\";import{create as d}from\"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{absoluteHeightElevationInfo as g}from\"../../../support/elevationInfoUtils.js\";import{VerticalHalfPlaneConstraint as l}from\"../sketch/constraints.js\";import{fromAnyMapPoint as f,asVec2 as m,fromValues as u,fromVec3 as x}from\"../sketch/normalizedPoint.js\";import{SnappingAlgorithm as j}from\"./SnappingAlgorithm.js\";import{squaredScreenDistance as v}from\"./snappingUtils.js\";import{RightAngleSnappingCandidate as V,OtherVertexType as _}from\"./candidates/RightAngleSnappingCandidate.js\";import{vectorToScreenPoint as E}from\"../support/viewUtils.js\";import{radiansGeographicBetweenVec as R,pointFromDistanceAlongAzimuth as y}from\"../../support/angularMeasurementUtils.js\";import{geodesicDistance as S}from\"../../support/geodesicLengthMeasurementUtils.js\";class k extends j{snapNewVertex(e,t){const r=t.editGeometryOperations.data.components[0],i=[];if(r.vertices.length<2)return i;const{view:o}=this,n=E(e,t.spatialReference,g,o),s=r.vertices.at(-1);this._checkForSnappingCandidate(i,s.leftEdge,s,s.leftEdge.leftVertex,e,n,t);const a=r.vertices[0];return this._checkForSnappingCandidate(i,a.rightEdge,a,a.rightEdge.rightVertex,e,n,t),i}snapExistingVertex(e,t){const r=[],i=t.vertexHandle;if(i.component.vertices.length<3)return r;const{view:o}=this,n=E(e,t.spatialReference,g,o),s=i.leftEdge,a=i.rightEdge;if(s?.leftVertex.leftEdge){const i=s.leftVertex.leftEdge;this._checkForSnappingCandidate(r,i,i.rightVertex,i.leftVertex,e,n,t)}if(a?.rightVertex.rightEdge){const i=a.rightVertex.rightEdge;this._checkForSnappingCandidate(r,i,i.leftVertex,i.rightVertex,e,n,t)}return r}_checkForSnappingCandidate(e,t,r,i,o,n,s){if(!this.edgeExceedsShortLineThreshold(t,s))return;const a=this.view,c=f(r.pos,a,s),p=f(i.pos,a,s);this._checkForSnappingCandidateNormalized(e,p,c,o,n,s)}_checkForSnappingCandidateNormalized(e,t,r,i,o,n){this._projectionRay(F,t,r,i,n),this._checkForSnappingCandidateAlongProjectedRay(e,t,r,F,i,o,n)}_projectionRay(e,t,r,i,o){this._projectionRayGeodesic(e,t,r,i,o)||this._projectionRayPlanar(e,t,r)}_projectionRayGeodesic(i,o,n,s,{spatialReference:a}){const p=R(o,n,a,a);if(null==p)return!1;const h=R(n,s,a,a);if(null==h)return!1;const g=Math.sign(e.shortestSignedDiff(p,h))*Math.PI*.5,l=t(p+g,\"radians\",\"geographic\"),f=d(),m=S(n,s,a);return null!=m&&(y(f,n,a,r(m,\"meters\"),l,\"geodesic\"),c(i,f,n),!0)}_projectionRayPlanar(e,t,r){const o=i(C,m(r),m(t));p(e,o[1],-o[0],0)}_checkForSnappingCandidateAlongProjectedRay(e,t,r,a,c,p,f){const{spatialReference:j,pointer:R}=f,y=i(C,m(c),m(r)),S=o(a,y)/n(a),k=s(C,m(r),a,S),F=u(k[0],k[1],c[2]);if(v(p,E(F,j,g,this.view))>this.squaredProximityThreshold(R)||this.isVertical(F,r,f)||this.isVertical(r,t,f))return;const w=h(d(),r,a,Math.sign(S));e.push(new V({targetPoint:F,constraint:new l(r,x(w)),previousVertex:t,otherVertex:r,otherVertexType:_.CENTER,isDraped:\"on-the-ground\"===f.elevationInfo?.mode}))}}const C=a(),F=d();export{k as RightAngleSnapper};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{distance as t}from\"../../../../core/libs/gl-matrix-2/math/vec2.js\";import{m as i}from\"../../../../chunks/vec32.js\";import{create as s}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{VerticalCylinderConstraint as r}from\"../../sketch/constraints.js\";import{fromVec3 as n,asVec2 as o}from\"../../sketch/normalizedPoint.js\";import{SnappingDomain as p}from\"../SnappingDomain.js\";import{LineSegmentHintType as e}from\"../snappingUtils.js\";import{SnappingCandidate as m}from\"./SnappingCandidate.js\";import{LineSnappingHint as a}from\"../hints/LineSnappingHint.js\";import{RightAngleSnappingHint as h}from\"../hints/RightAngleSnappingHint.js\";class g extends m{constructor({targetPoint:e,point1:m,point2:a,isDraped:h}){super(e,new r(n(i(s(),m,a,.5)),.5*t(o(m),o(a))),h,p.SELF),this._p1=m,this._p2=a}get hints(){return[new a(e.REFERENCE,this.targetPoint,this._p1,this.isDraped,this.domain),new a(e.REFERENCE,this.targetPoint,this._p2,this.isDraped,this.domain),new h(this._p1,this.targetPoint,this._p2,this.isDraped,this.domain)]}}export{g as RightAngleTriangleSnappingCandidate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{lerp as e,distance as t}from\"../../../core/libs/gl-matrix-2/math/vec2.js\";import{create as i}from\"../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{absoluteHeightElevationInfo as r}from\"../../../support/elevationInfoUtils.js\";import{fromAnyMapPoint as o,asVec2 as s,fromValues as n}from\"../sketch/normalizedPoint.js\";import{SnappingAlgorithm as p}from\"./SnappingAlgorithm.js\";import{squaredScreenDistance as a}from\"./snappingUtils.js\";import{RightAngleTriangleSnappingCandidate as d}from\"./candidates/RightAngleTriangleSnappingCandidate.js\";import{vectorToScreenPoint as l}from\"../support/viewUtils.js\";import{projectPointToCircle as m}from\"../../support/geometry2dUtils.js\";class c extends p{snapNewVertex(e,t){const i=t.editGeometryOperations.data.components[0],r=[],s=i.vertices.length;if(\"polygon\"!==t.editGeometryOperations.data.type||s<2)return r;const{view:n}=this,p=i.vertices[0],a=i.vertices[s-1],d=o(p.pos,n,t),l=o(a.pos,n,t);return this._processCandidateProposal(d,l,e,t,r),r}snapExistingVertex(e,t){const i=[],r=t.vertexHandle,s=r.component;if(s.edges.length<2)return i;if(\"polyline\"===t.editGeometryOperations.data.type&&(0===r.index||r.index===s.vertices.length-1))return i;const{view:n}=this,p=o(r.leftEdge.leftVertex.pos,n,t),a=o(r.rightEdge.rightVertex.pos,n,t);return this._processCandidateProposal(p,a,e,t,i),i}_processCandidateProposal(i,o,p,c,f){if(!this.exceedsShortLineThreshold(i,o,c))return;const g=e(h,s(i),s(o),.5),v=.5*t(s(i),s(o)),x=m(h,s(p),g,v),u=n(x[0],x[1],p[2]),{spatialReference:j,pointer:y}=c,w=l(p,j,r,this.view);if(a(w,l(u,j,r,this.view))<this.squaredProximityThreshold(y)){if(this.isVertical(i,u,c)||this.isVertical(u,o,c))return;f.push(new d({targetPoint:u,point1:i,point2:o,isDraped:\"on-the-ground\"===c.elevationInfo?.mode}))}}}const h=i();export{c as RightAngleTriangleSnapper};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import s from\"../../../core/Accessor.js\";import t from\"../../../core/Collection.js\";import{property as i}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as r}from\"../../../core/accessorSupport/decorators/subclass.js\";import{LineSnapper as e}from\"./LineSnapper.js\";import{ParallelLineSnapper as p}from\"./ParallelLineSnapper.js\";import{RightAngleSnapper as n}from\"./RightAngleSnapper.js\";import{RightAngleTriangleSnapper as a}from\"./RightAngleTriangleSnapper.js\";import{SnappingDomain as c}from\"./SnappingDomain.js\";import{sortCandidatesInPlace as m}from\"./snappingUtils.js\";let h=class extends s{constructor(o){super(o),this.updating=!1,this._snappers=new t,this._domain=c.SELF}initialize(){this._snappers.push(new p(this.view,this.options),new e(this.view,this.options),new n(this.view,this.options),new a(this.view,this.options))}set options(o){this._set(\"options\",o);for(const s of this._snappers)s.options=o}async fetchCandidates(o,s,t){if(!(s&this._domain&&this.options.effectiveSelfEnabled))return[];const i=[];for(const r of this._snappers.items)for(const s of r.snap(o,t))i.push(s);return m(o,i),i}};o([i({readOnly:!0})],h.prototype,\"updating\",void 0),o([i({constructOnly:!0})],h.prototype,\"view\",void 0),o([i()],h.prototype,\"options\",null),h=o([r(\"esri.views.interactive.snapping.SelfSnappingEngine\")],h);export{h as SelfSnappingEngine};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{FeatureSnappingEngine as e}from\"./FeatureSnappingEngine.js\";import{SelfSnappingEngine as n}from\"./SelfSnappingEngine.js\";function i(i,p){return[new n({view:i,options:p}),new e({view:i,options:p,spatialReference:i.spatialReference})]}export{i as defaultSnappingEnginesFactory};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{PointConstraint as t}from\"../../sketch/constraints.js\";import{SnappingDomain as i}from\"../SnappingDomain.js\";import{SnappingCandidate as s}from\"./SnappingCandidate.js\";import{IntersectionSnappingHint as n}from\"../hints/IntersectionSnappingHint.js\";class r extends s{constructor(s,n,r,o){super(s,new t(s),o,i.ALL),this.first=n,this.second=r}get hints(){return this.first.targetPoint=this.targetPoint,this.second.targetPoint=this.targetPoint,[...this.first.hints,...this.second.hints,new n(this.targetPoint,this.isDraped,this.domain)]}}export{r as IntersectionSnappingCandidate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import e from\"../../../core/Accessor.js\";import n from\"../../../core/Evented.js\";import{isAborted as i}from\"../../../core/promiseUtils.js\";import{watch as s,sync as r,syncAndInitial as a}from\"../../../core/reactiveUtils.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as d}from\"../../../core/accessorSupport/decorators/subclass.js\";import{project as p,initializeProjection as c}from\"../../../geometry/projection.js\";import{absoluteHeightElevationInfo as h}from\"../../../support/elevationInfoUtils.js\";import{fromPoint as l,toElevationAlignedDehydratedPoint as u}from\"../sketch/normalizedPoint.js\";import{defaults as f}from\"./Settings.js\";import{SnappingDomain as _}from\"./SnappingDomain.js\";import{defaultSnappingEnginesFactory as g}from\"./snappingFactory.js\";import m from\"./SnappingOptions.js\";import{sortCandidatesInPlace as S,squaredScreenDistance as v}from\"./snappingUtils.js\";import{EdgeSnappingCandidate as C}from\"./candidates/EdgeSnappingCandidate.js\";import{IntersectionSnappingCandidate as y}from\"./candidates/IntersectionSnappingCandidate.js\";import{LineSnappingCandidate as P}from\"./candidates/LineSnappingCandidate.js\";import{ParallelLineSnappingCandidate as E}from\"./candidates/ParallelLineSnappingCandidate.js\";import{RightAngleSnappingCandidate as w}from\"./candidates/RightAngleSnappingCandidate.js\";import{vectorToScreenPoint as T}from\"../support/viewUtils.js\";let j=class extends(n.EventedMixin(e)){constructor(t){super(t),this.options=new m,this.snappingEnginesFactory=g,this._engines=[],this._currentMainCandidate=null,this._currentOtherActiveCandidates=[],this._currentSnappedType=M.MAIN}initialize(){this.addHandles([s((()=>{const{effectiveFeatureEnabled:t,effectiveSelfEnabled:e,touchSensitivityMultiplier:n,distance:i,constraintsActive:s}=this.options;return{effectiveFeatureEnabled:t,effectiveSelfEnabled:e,touchSensitivityMultiplier:n,distance:i,constraintsActive:s}}),(()=>{this.doneSnapping(),this.emit(\"changed\")}),r),s((()=>this.options),(t=>{for(const e of this._engines)e.options=t}),r),s((()=>({viewReady:this.view.ready,viewSpatialReference:this.view.spatialReference,snappingEnginesFactory:this.snappingEnginesFactory})),(({viewReady:t,snappingEnginesFactory:e})=>this._recreateEngines(t,e)),a)])}destroy(){this._destroyEngines()}get updating(){return this._engines.some((t=>t.updating))}_recreateEngines(t,e){if(this._destroyEngines(),!t)return;const{view:n,options:i}=this;this._engines=e(n,i)}_destroyEngines(){for(const t of this._engines)t.destroy();this._engines=[]}get _squaredMouseProximityThreshold(){return this.options.distance*this.options.distance}get _squaredTouchProximityThreshold(){const{distance:t,touchSensitivityMultiplier:e}=this.options,n=t*e;return n*n}get _squaredSatisfiesConstraintThreshold(){return f.satisfiesConstraintScreenThreshold*f.satisfiesConstraintScreenThreshold}snap(t){return q(t)?this._snapMultiPoint(t):this._snapSinglePoint(t)}update(t){const{point:e,context:n}=t;this._removeVisualization();const i=this._currentMainCandidate;if(null==i)return e;const s=this._selectUpdateInput(t);if(null==s)return e;const{spatialReference:r}=n,a=p(s,r);if(null==a)return e;const{view:o}=this,{elevationInfo:d,visualizer:c}=n,h=[],f=l(a,o,d),_=i.constraint.closestTo(f);if(!this._arePointsWithinScreenThreshold(f,_,n))return this._resetSnappingState(),e;i.targetPoint=_,h.push(...i.hints);for(const p of this._currentOtherActiveCandidates)p.targetPoint=_,h.push(...p.hints);return null!=c&&this.addHandles(c.draw(h,{spatialReference:r,elevationInfo:x(n),view:o,selfSnappingZ:n.selfSnappingZ}),I),u(_,o,e,n)}doneSnapping(){this._removeVisualization(),this._resetSnappingState()}_selectUpdateInput({point:t,scenePoint:e}){switch(this._currentSnappedType){case M.MAIN:return t;case M.SCENE:return e}}_resetSnappingState(){this._currentMainCandidate=null,this._currentOtherActiveCandidates=[],this._currentSnappedType=M.MAIN}_removeVisualization(){this.removeHandles(I)}async _snapSinglePoint({point:t,context:e,signal:n}){const{view:i}=this,{elevationInfo:s}=e,r=l(t,i,s),a=await this._fetchCandidates(r,_.ALL,e,n);return this._createSnapResult(r,M.MAIN,a,i,t,e,n)}async _snapMultiPoint({point:t,scenePoint:e,context:n,signal:i}){const{view:s}=this,{coordinateHelper:r,elevationInfo:a,spatialReference:o}=n;await c(e.spatialReference,o);const d=p(e,o),h=l(d,s,a),u=await this._fetchCandidates(h,_.FEATURE,n,i);if(u.length>0){const t=await this._fetchCandidates(h,_.SELF,n,i);return this._createSnapResult(h,M.SCENE,[...u,...t],s,d,n,i)}const f=l(t,s,a),g=await this._fetchCandidates(f,_.SELF,n,i);return this._createSnapResult(f,M.MAIN,g,s,{z:r.hasZ()&&t.hasZ?t.z??0:void 0,m:r.hasM()&&t.hasM?t.m??0:void 0},n,i)}async _fetchCandidates(t,e,n,i){return(await Promise.all(this._engines.map((s=>s.fetchCandidates(t,e,n,i))))).flat()}_createSnapResult(t,e,n,s,r,a,o){return{get valid(){return!i(o)},apply:()=>{const{spatialReference:i}=a,{snappedPoint:o,hints:d}=this._processCandidates(t,e,n,a);return this._removeVisualization(),null!=a.visualizer&&this.addHandles(a.visualizer.draw(d,{spatialReference:i,elevationInfo:h,view:s,selfSnappingZ:a.selfSnappingZ}),I),u(o,s,r,a)}}}_processCandidates(t,e,n,i){if(n.length<1)return this.doneSnapping(),{snappedPoint:t,hints:[]};this._currentSnappedType!==e&&this._resetSnappingState(),S(t,n);const s=this._currentMainCandidate;if(null!=s){const r=this._findOldConstraintInNewCandidates(s,n);if(r>=0){if(!(n[r]instanceof y))return this._intersectWithOtherCandidates(r,n,t,e,i);if(this._arePointsWithinScreenThreshold(t,s.targetPoint,i))return this._updateSnappingCandidate(s,e,n,i)}}return this._intersectWithOtherCandidates(0,n,t,e,i)}_findOldConstraintInNewCandidates(t,e){return t instanceof y?this._findOldCandidateIndex(e,t.first)>=0&&this._findOldCandidateIndex(e,t.second)>=0?0:-1:this._findOldCandidateIndex(e,t)}_intersectWithOtherCandidates(t,e,n,i,s){const{coordinateHelper:r}=s,a=e[t],o=[];for(let d=0;d<e.length;++d){if(d===t)continue;const i=e[d],s=a.constraint.intersect(i.constraint);if(s)for(const t of s.closestPoints(a.targetPoint))o.push([new y(t,a,i,i.isDraped),this._squaredScreenDistance(n,t,r)])}return o.length>0&&(o.sort(((t,e)=>t[1]-e[1])),o[0][1]<this._squaredPointProximityThreshold(s.pointer))?this._updateSnappingCandidate(o[0][0],i,e,s):this.options.constraintsActive&&(a instanceof P||a instanceof C||a instanceof w||a instanceof E)?{snappedPoint:n,hints:[]}:this._updateSnappingCandidate(a,i,e,s)}_updateSnappingCandidate(t,e,n,i){this.doneSnapping(),this._currentMainCandidate=t,this._currentSnappedType=e;const s=this._currentMainCandidate.targetPoint,r=[];r.push(...t.hints);for(const a of n){if(t instanceof y){if(a.constraint.equals(t.first.constraint)||a.constraint.equals(t.second.constraint))continue}else if(a.constraint.equals(t.constraint))continue;const e=a.constraint.closestTo(s);this._squaredScreenDistance(e,s,i.coordinateHelper)<this._squaredSatisfiesConstraintThreshold&&(a.targetPoint=s,this._currentOtherActiveCandidates.push(a),r.push(...a.hints))}return{snappedPoint:s,hints:r}}_squaredPointProximityThreshold(t){return\"touch\"===t?this._squaredTouchProximityThreshold:this._squaredMouseProximityThreshold}_arePointsWithinScreenThreshold(t,e,n){return this._squaredScreenDistance(t,e,n.coordinateHelper)<this._squaredPointProximityThreshold(n.pointer)}_squaredScreenDistance(t,e,n){return v(this._toScreen(t,n),this._toScreen(e,n))}_toScreen(t,e){return T(t,e.spatialReference,h,this.view)}_findOldCandidateIndex(t,e){let n=-1;for(let i=0;i<t.length;++i)if(e.constraint.equals(t[i].constraint)){n=i;break}return n}get test(){return{visualizationsActive:this.hasHandles(I),engines:this._engines}}};var M;t([o({constructOnly:!0})],j.prototype,\"view\",void 0),t([o()],j.prototype,\"options\",void 0),t([o({readOnly:!0})],j.prototype,\"updating\",null),t([o()],j.prototype,\"snappingEnginesFactory\",void 0),t([o()],j.prototype,\"_engines\",void 0),t([o()],j.prototype,\"_squaredMouseProximityThreshold\",null),t([o()],j.prototype,\"_squaredTouchProximityThreshold\",null),t([o()],j.prototype,\"_squaredSatisfiesConstraintThreshold\",null),j=t([d(\"esri.views.interactive.snapping.SnappingManager\")],j),function(t){t[t.MAIN=0]=\"MAIN\",t[t.SCENE=1]=\"SCENE\"}(M||(M={}));const I=\"visualization-handle\";function q(t){return null!=t.scenePoint}function x({coordinateHelper:t,elevationInfo:e}){return t.hasZ()?h:e}export{j as SnappingManager};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{makeHandle as e}from\"../../../core/handleUtils.js\";import{nextTick as n}from\"../../../core/nextTick.js\";import{makeAllLayerSnappingOptions as r}from\"./allLayerSnapping.js\";import{FeatureSnappingEngine as o}from\"./FeatureSnappingEngine.js\";import{SnappingManager as t}from\"./SnappingManager.js\";const i=new Map;function a(n){if(!i.has(n)){const e=r(n,{distance:10}),o=s(n,e.options);i.set(n,{referenceCount:0,snappingManager:o,remove:()=>{e.remove(),o.destroy()}})}const o=i.get(n);o.referenceCount++;const t=e((()=>p(n,o)));return{snappingManager:o.snappingManager,...t}}function p(e,r){r.referenceCount--,r.referenceCount>0||n((()=>{0===r.referenceCount&&(r.remove(),i.delete(e))}))}function s(e,n){return new t({view:e,options:n,snappingEnginesFactory:(n,r)=>[new o({view:e,spatialReference:e.spatialReference,options:r})]})}export{a as acquire};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Collection.js\";import{watch as t,initial as i}from\"../../../core/reactiveUtils.js\";import r from\"./FeatureSnappingLayerSource.js\";import{defaults as o}from\"./Settings.js\";import n from\"./SnappingOptions.js\";function a(a,s){const l=new n({enabled:!0,selfEnabled:!1,featureEnabled:!0,distance:s?.distance??o.distance,touchSensitivityMultiplier:s?.touchSensitivityMultiplier??o.touchSensitivityMultiplier});return{...t((()=>a.map?.allLayers?.toArray()??[]),(t=>{l.featureSources=new e(t.map((e=>new r({layer:e,enabled:!0}))))}),i),options:l}}export{a as makeAllLayerSnappingOptions};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{DrapedLineConstraint as t}from\"../../sketch/constraints.js\";import{LineSegmentHintType as n}from\"../snappingUtils.js\";import{FeatureSnappingCandidate as s}from\"./FeatureSnappingCandidate.js\";import{LineSnappingHint as i}from\"../hints/LineSnappingHint.js\";class r extends s{constructor(n){super({...n,isDraped:!0,constraint:new t(n.edgeStart,n.edgeEnd,n.getGroundElevation)})}get hints(){return[new i(n.REFERENCE,this.constraint.start,this.constraint.end,this.isDraped,this.domain)]}}export{r as DrapedEdgeSnappingCandidate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{LineConstraint as t}from\"../../sketch/constraints.js\";import{LineSegmentHintType as n}from\"../snappingUtils.js\";import{FeatureSnappingCandidate as s}from\"./FeatureSnappingCandidate.js\";import{LineSnappingHint as i}from\"../hints/LineSnappingHint.js\";class r extends s{constructor(n){super({...n,constraint:new t(n.edgeStart,n.edgeEnd)})}get hints(){return[new i(n.REFERENCE,this.constraint.start,this.constraint.end,this.isDraped,this.domain)]}}export{r as EdgeSnappingCandidate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{SnappingDomain as t}from\"../SnappingDomain.js\";import{SnappingCandidate as o}from\"./SnappingCandidate.js\";class n extends o{constructor({targetPoint:o,objectId:n,constraint:r,isDraped:i}){super(o,r,i,t.FEATURE),this.objectId=n}}export{n as FeatureSnappingCandidate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nclass t{constructor(t,s,i,o){this.targetPoint=t,this.constraint=s,this.isDraped=i,this.domain=o}}export{t as SnappingCandidate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{createScreenPoint as e,createRenderScreenPointArray as r,createScreenPointArray as o}from\"../../../core/screenUtils.js\";import{subtract as t,normalize as n}from\"../../../core/libs/gl-matrix-2/math/vec2.js\";import{c}from\"../../../chunks/vec32.js\";import{create as s}from\"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{makeDehydratedPoint as i}from\"../../../layers/graphics/dehydratedPoint.js\";import{getConvertedElevationFromVector as a}from\"../../../support/elevationInfoUtils.js\";function p(e,r,o,c){o.projectToRenderScreen(e,R),o.projectToRenderScreen(r,h),t(c,h,R),n(c,c)}function f(e,r,o,t,n=s()){const c=r.toXYZ(e);return c[2]=a(t,c,r.spatialReference,o)||0,t.renderCoordsHelper.toRenderCoords(c,r.spatialReference,n),n}function l(e,r,o,t,n=s()){const i=c(j,e);return i[2]=a(t,i,r,o)||0,t.renderCoordsHelper.toRenderCoords(i,r,n),n}function m(e,r,o,t){return d(r.toXYZ(e),r.spatialReference,o,t)}function d(r,o,t,n){return\"2d\"===n.type?(u.x=r[0],u.y=r[1],u.spatialReference=o,n.toScreen(u)):(l(r,o,t,n,j),n.state.camera.projectToScreen(j,v),e(v[0],v[1]))}const u=i(0,0,0,null),j=s(),R=r(),h=r(),v=o();export{f as anyMapPointToRender,m as anyMapPointToScreenPoint,p as renderScreenSpaceTangent,l as vectorToRender,d as vectorToScreenPoint};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{s as o}from\"../../chunks/vec32.js\";import{create as s}from\"../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{getWGS84ComparableLonLatProjector as r}from\"./projectors.js\";function t({hasZ:s,spatialReference:t,paths:n},e,f=0){const i=r(t);if(null==i)return!1;const p=s?o=>o:s=>o(c,s[0],s[1],f);for(const o of n){const s=[];for(const r of o){const o=[0,0,f];i(p(r),0,o,0),s.push(o)}e.push(s)}return!0}const c=s();export{t as projectPolylineToWGS84ComparableLonLat};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport\"../../geometry.js\";import{createLength as e}from\"../../core/quantityUtils.js\";import{create as t}from\"../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{geodesicLength as r}from\"../../geometry/geometryEngine.js\";import{projectPolylineToWGS84ComparableLonLat as o}from\"../../geometry/projection/projectPolylineToWGS84ComparableLonLat.js\";import{projectVectorToWGS84ComparableLonLat as n}from\"../../geometry/projection/projectVectorToWGS84ComparableLonLat.js\";import{inverseGeodeticSolver as s,geodesicLengths as i,InverseGeodeticSolverResult as m}from\"../../geometry/support/geodesicUtils.js\";import{equals as c}from\"../../geometry/support/spatialReferenceUtils.js\";import{geodesicMeasure as f}from\"./geodesicMeasurementUtils.js\";import a from\"../../geometry/SpatialReference.js\";function p(e){const{spatialReference:t}=e;return f(t,R,d,h,e)}function l(e,t){if(!c(e.spatialReference,t.spatialReference))return null;const{spatialReference:r}=e;return x[0]=e.x,x[1]=e.y,x[2]=e.hasZ?e.z:0,G[0]=t.x,G[1]=t.y,G[2]=t.hasZ?t.z:0,u(x,G,r)}function u(e,t,r){return f(r,g,j,y,e,t,r)}function g(t,r,o){return e(s(S,t,r,o).distance,\"meters\")}function j(t,o,n){return e(r(L(t,o,n),\"meters\"),\"meters\")}function y(t,r,o){return n(t,o,U)&&n(r,o,W)?e(s(S,U,W,a.WGS84).distance,\"meters\"):null}function R(t){return e(i([t],\"meters\")[0],\"meters\")}function d(t){return e(r(t,\"meters\"),\"meters\")}function h(t){const r=[];if(!o(t,r))return null;let n=0;for(const e of r){let t=0;for(let r=1;r<e.length;++r)t+=s(S,e[r-1],e[r],a.WGS84).distance;n+=t}return e(n,\"meters\")}function L(e,t,r){return{type:\"polyline\",spatialReference:r,paths:[[[...e],[...t]]]}}const S=new m,x=t(),G=t(),U=t(),W=t();export{u as geodesicDistance,l as geodesicDistanceBetweenPoints,p as geodesicLength};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{isSupported as o}from\"../../geometry/support/geodesicUtils.js\";import{isGeographic as p,isWebMercator as e}from\"../../geometry/support/spatialReferenceUtils.js\";function t(t,r,i,s,...l){return p(t)&&o(t)?r.apply(void 0,l):e(t)?i.apply(void 0,l):s.apply(void 0,l)}const r=1e5;export{r as geodesicDistanceThreshold,t as geodesicMeasure};\n"],"names":["n","Float32Array","t","r","e","o","u","c","i","a","f","l","_","s","y","w","N","Object","freeze","defineProperty","__proto__","ONES","UNIT_W","UNIT_X","UNIT_Y","UNIT_Z","ZEROS","clone","create","createView","fromValues","ones","unitW","unitX","unitY","unitZ","zeros","Symbol","toStringTag","value","layer","floorInfo","floorField","view","floors","length","filter","map","push","join","C","D","constructor","super","this","_ray","g","_isWorldDown","_start","_end","_width","_color","_polygonOffset","_writeDepthEnabled","_innerWidth","_innerColor","_stipplePattern","_stippleOffColor","_stipplePreferContinuous","_falloff","_extensionType","V","LINE","_laserlineStyle","_laserlineEnabled","_renderOccluded","R","OccludeAndTransparent","_fadedExtensions","T","_laserline","O","isDecoration","applyProperties","destroy","createObject3DResourceFactory","createResources","_createObject3DResources","destroyResources","_destroyExternalResources","recreateGeometry","_recreateObject3DGeometry","cameraChanged","_updateGeometry","createDrapedResourceFactory","_createDrapedResources","_recreateDrapedGeometry","updateVisibility","visible","onAttachedChange","attached","_laserlineAttached","setStartEndFromWorldDownAtLocation","renderCoordsHelper","worldUpAtPosition","b","start","end","width","_updateMaterial","color","polygonOffset","writeDepthEnabled","innerWidth","innerColor","stipplePattern","recreate","stippleOffColor","h","stipplePreferContinuous","falloff","extensionType","isDraped","laserlineStyle","style","laserlineEnabled","renderOccluded","_normalizedRenderOccluded","OccludeAndTransparentStencil","fadedExtensions","materialParameters","object3dResources","resources","material","setParameters","drapedResources","hasPolygonOffset","writeDepth","x","Array","_createObject3DGeometry","geometries","forEach","_createGeometry","addGeometry","_updateVerticesObject3D","_createDrapedGeometry","_updateVerticesDraped","j","FADED","E","object","_lineSegment","_updateVertexAttributesObject3D","intersectsLine","_updateVertexAttributesDraped","_updateLineSegmentFinite","S","_updateLineSegmentInfinite","m","state","camera","G","c0","Number","MAX_VALUE","RAY","GROUND_RAY","origin","elevationProvider","getElevation","spatialReference","getAltitude","ray","direction","c1","Math","abs","frustum","P","p","v","getMutableAttribute","A","POSITION","data","_lineVertices","geometryVertexAttributeUpdated","invalidateBoundingInfo","d","M","_location","_direction","_offset","_length","_destroyObject3DResources","_destroyDrapedResources","location","setDirectionFromPoints","offset","_createGeometries","contentPixelRatio","pixelRatioHandle","remove","projectToScreen","I","_computeStartEnd","unprojectFromScreen","basemapTerrain","overlayManager","renderer","overlayPixelSizeInMapUnits","sortUniqueHints","sort","visualizeIntersectionPoint","primitive","geometry","intersectionPoint","elevationInfo","size","outlineSize","intersectionPointColor","outlineColor","intersectionPointOutlineColor","pixelSnappingEnabled","visualizePoint","point","domain","pointColor","pointOutlineColor","visualizeLine","lineStart","lineEnd","_createLineSegmentHint","type","fadeLeft","fadeRight","visualizeParallelSign","H","parallelLineHintOffset","parallelLineHintLength","parallelLineHintWidth","parallelSignColor","Opaque","renderGroup","SnappingHint","visualizeRightAngleQuad","previousVertex","centerVertex","nextVertex","rightAngleColorDraped","rightAngleColor","Transparent","outlineRenderOccluded","rightAngleOutlineColor","rightAngleHintOutlineSize","rightAngleHintSize","previous","center","next","arguments","undefined","lineColor","TARGET","lineHintWidthTarget","lineHintFadedExtensions","REFERENCE_EXTENSION","lineHintWidthReference","REFERENCE","effectiveTheme","toUnitRGBA","accentColor","lineOutlineColor","selfSnappingZ","_ref","SELF","F","action","screenStart","get","K","screenEnd","renderStart","renderEnd","plane","q","disableDisplay","z","viewingMode","options","selectionMode","store","MIN","hud","requiresGroundFeedback","enableDraped","exclude","Set","ground","opacity","add","delete","sceneIntersectionHelper","intersectIntersectorScreen","results","min","getIntersectionPoint","intersector","TERRAIN","GROUND","OTHER","fromRenderCoords","U","surfaceType","mapStart","mapEnd","_resourceFactory","_resources","_visible","_attached","_renderGroup","Outline","_destroyResources","external","_syncGeometriesToRenderer","_createOrDestroyResources","layerView","_createResources","_ensureRenderGeometriesRemoved","geometriesAdded","drapeSourceRenderer","registerGeometryDrapeSource","unregisterDrapeSource","_ensureRenderGeometriesAdded","removeGeometries","UPDATE","addGeometries","drapeSourceType","Features","updatePolicy","SYNC","constructOnly","prototype","readOnly","_syncVisible","_stage","Mesh","Line","Point","removeAllGeometries","pickable","castShadow","Texture","load","renderView","renderingContext","cameraHandle","unload","dispose","_isDraped","_maxSize","_position","_up","_right","_outlineColor","_outlineSize","_size","_outlineRenderOccluded","_updateTransformObject3D","_updateQuadMaterial","_updateOutlineMaterial","_updateTransform","_quadMaterialParameters","_outlineMaterialParameters","_createObject3DGeometries","quadMaterial","outlineMaterial","_setTransformDraped","up","right","corner","_getVertices","_quadGeometryData","computeScreenPixelSizeAt","transformation","forceTransparentMode","enabled","updating","availability","sublayerSources","enabledToggled","forceDisabled","selfEnabled","featureEnabled","featureSources","distance","touchSensitivityMultiplier","constraintsActive","effectiveEnabled","effectiveSelfEnabled","effectiveFeatureEnabled","_effectiveFeatureSources","some","getLogger","warnOnce","_get","find","parent","includes","removeMany","added","removed","toArray","addMany","ofType","allLayerViews","valid","_valid","subtypeFilter","snappingSource","subtypes","mode","layerSource","scale","effectiveScaleRange","minScale","maxScale","subtypeCode","fieldsIndex","subtypeField","name","getItemAt","floorFilter","rulesTable","initialize","addHandles","on","refresh","loadRules","getFetchCandidatesParameters","coordinateHelper","_types","where","feature","sourceLayer","layerId","utilityNetworks","isUtilityLayer","loadStatus","getFeatureSQL","anyVertex","endVertex","returnEdge","vertexMode","getRulesTable","error","title","targetPoint","constraint","otherVertex","otherVertexType","objectId","hints","CENTER","NEXT","_snappingSources","_updatingHandles","_domain","FEATURE","_sourceModules","featureService","module","loader","featureCollection","graphics","notes","scene","_createSourceInfo","_set","fetchCandidates","_computeScreenSizeDistanceParameters","suspended","then","_candidateIsExcluded","excludeFeature","flat","_addRightAngleCandidates","vertexHandle","rightEdge","rightVertex","pos","editGeometryOperations","components","getFirstVertex","leftEdge","leftVertex","getLastVertex","_addRightAngleCandidate","closestTo","L","pointer","resolution","_computeScreenSizeDistanceParameters3D","toRenderCoords","unitInMeters","_getCandidateObjectId","uid","attributes","objectIdField","loaded","_createFeatureSnappingSourceType","_createFeatureSnappingSourceFeatureLayer","_createFeatureSnappingSourceGraphicsLayer","_createFeatureSnappingSourceMapNotesLayer","_createFeatureSnappingSourceSceneLayer","_getSourceModule","SceneLayerSnappingSource","source","FeatureServiceSnappingSource","geometryType","FeatureCollectionSnappingSource","GraphicsSnappingSource","getGraphicsLayers","sublayers","_loadSourceModule","addPromise","test","snappingSources","_ref2","squaredShortLineThreshold","shortLineThreshold","snap","snapExistingVertex","snapNewVertex","edgeExceedsShortLineThreshold","exceedsShortLineThreshold","isVertical","verticalLineThresholdMeters","squaredProximityThreshold","_squaredTouchProximityThreshold","_squaredMouseProximityThreshold","_referenceLineHint","_lineEndClosestToTarget","closestEndTo","edges","_processCandidateProposal","left","component","_projectedLine","_projectToLineGeodesic","_projectToLinePlanar","shortestSignedDiff","PI","normalize","referenceLine","_referenceLines","edge","addReferenceLine","vertices","_checkEdgeForParallelLines","parallelLineThreshold","_parallelToPreviousCandidate","k","at","_checkForSnappingCandidate","_checkForSnappingCandidateNormalized","_projectionRay","_checkForSnappingCandidateAlongProjectedRay","_projectionRayGeodesic","_projectionRayPlanar","sign","point1","point2","_p1","_p2","index","_snappers","items","ALL","first","second","EventedMixin","snappingEnginesFactory","_engines","_currentMainCandidate","_currentOtherActiveCandidates","_currentSnappedType","MAIN","doneSnapping","emit","viewReady","ready","viewSpatialReference","_recreateEngines","_destroyEngines","_squaredSatisfiesConstraintThreshold","satisfiesConstraintScreenThreshold","scenePoint","_snapMultiPoint","_snapSinglePoint","update","context","_removeVisualization","_selectUpdateInput","visualizer","_arePointsWithinScreenThreshold","_resetSnappingState","draw","SCENE","removeHandles","_ref3","signal","_fetchCandidates","_createSnapResult","_ref4","hasZ","hasM","Promise","all","apply","snappedPoint","_processCandidates","_findOldConstraintInNewCandidates","_intersectWithOtherCandidates","_updateSnappingCandidate","_findOldCandidateIndex","intersect","closestPoints","_squaredScreenDistance","_squaredPointProximityThreshold","equals","_toScreen","visualizationsActive","hasHandles","engines","_ref5","Map","has","allLayers","set","referenceCount","snappingManager","edgeStart","edgeEnd","getGroundElevation","projectToRenderScreen","toScreen","paths","W","WGS84","_len","_key"],"sourceRoot":""}