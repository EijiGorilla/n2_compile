{"version":3,"file":"static/js/66128.03a32905.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/widgets/Legend/support/sizeRampUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport e from\"../../../Color.js\";import{isSymbol3D as l}from\"../../../symbols.js\";import{round as t,numDigits as n,percentChange as i}from\"../../../renderers/support/numberUtils.js\";import{applyCIMSymbolColor as o}from\"../../../symbols/support/cimSymbolUtils.js\";import{isVolumetricSymbol as s,getSymbolOutlineSize as r}from\"../../../symbols/support/utils.js\";import{getSymbolForFlowRenderer as a,createStopLabel as u}from\"./utils.js\";import\"../../support/widgetUtils.js\";import{isDarkTheme as c}from\"../../../support/themeUtils.js\";import m from\"../../../symbols/SimpleMarkerSymbol.js\";import f from\"../../../symbols/SimpleLineSymbol.js\";const p=30,y=12,b=[255,255,255],h=[200,200,200],d=[128,128,128],w=20,g=5;function S(e){return\"esri.symbols.SimpleMarkerSymbol\"===e.declaredClass}function v(e){return\"esri.symbols.PictureMarkerSymbol\"===e.declaredClass}function z(e){return\"esri.symbols.SimpleLineSymbol\"===e.declaredClass}function j(e){return\"esri.symbols.TextSymbol\"===e.declaredClass}function V(e,l){const t=e.length-1;return e.map(((e,n)=>u(e,n,t,l)))}async function k(e,l,n,i,o,a,u){const c=l.legendOptions,m=c?.customValues,f=u||await U(e,n),p=l.stops,y=!!f,b=!!m,h=null!=l.minSize&&null!=l.maxSize,d=p&&p.length>1,w=!!l.target;if(!y||!b&&!(h||d&&!w))return;const g=s(f);let S=!1,v=null,z=null;v=g&&!d?t([l.minDataValue,l.maxDataValue]):m??await D(l,f,i,o?.type);const j=e?.authoringInfo,k=\"univariate-color-size\"===j?.type,C=k&&\"above-and-below\"===j?.univariateTheme;if(!v&&d&&(v=p.map((e=>e.value)),S=p.some((e=>!!e.label)),\"flow\"===e.type&&(v=t(v)),S&&(z=p.map((e=>e.label)))),g&&null!=v&&v?.length>2&&!C&&(v=[v[0],v[v.length-1]]),!v)return null;k&&5!==v?.length&&(v=E({minSize:v[0],maxSize:v[v.length-1]}));const I=g?x(e,v):null,M=r(f),T=S?null:V(v,a);return(await Promise.all(v.map((async(t,n)=>{const s=g?I[n]:await B(l,f,t,i,o?.type);return{value:t,symbol:P(C&&\"class-breaks\"===e.type?L(e,n):f,s),label:S?z[n]:T[n],size:s,outlineSize:M}})))).reverse()}function x(e,l){const t=e?.authoringInfo,n=\"univariate-color-size\"===t?.type;let i=[y,p];if(n){const e=l[0],t=l[l.length-1],n=y,o=p;i=l.map((l=>n+(l-e)/(t-e)*(o-n)))}return n&&\"below\"===t?.univariateTheme&&i.reverse(),i}function L(e,l){const t=e.classBreakInfos,n=t.length,i=n<2||!(l>=2)?t[0].symbol.clone():t[n-1].symbol.clone();return e.visualVariables.some((e=>\"color\"===e.type))&&(i.type.includes(\"3d\")?I(i):M(i)),i}async function U(e,l){if(\"flow\"===e.type)return a(e,l);if(\"pie-chart\"===e.type)return new m({color:null,outline:e.outline?.width?e.outline:new f});let t=null,n=null;if(\"simple\"===e.type)t=e.symbol;else if(\"class-breaks\"===e.type){const l=e.classBreakInfos;t=l&&l[0]&&l[0].symbol,n=l.length>1}else if(\"unique-value\"===e.type){const l=e.uniqueValueInfos;t=l?.[0]?.symbol,n=null!=l&&l.length>1}return!t||C(t)?null:(t=t.clone(),(l||n)&&(t.type.includes(\"3d\")?I(t):M(t)),t)}function C(e){if(e){if(l(e)){return!!e.symbolLayers&&e.symbolLayers.some((e=>e&&\"fill\"===e.type))}return e.type.includes(\"fill\")}return!1}function I(e){\"line-3d\"===e.type?e.symbolLayers.forEach((e=>{e.material={color:d}})):e.symbolLayers.forEach((e=>{\"icon\"!==e.type||e.resource?.href?e.material={color:h}:(e.material={color:b},e.outline={color:d,size:1.5})}))}function M(l){const t=c();if(\"cim\"===l.type)o(l,new e(h));else if(l.type.includes(\"line\"))l.color=d;else if(l.color=t?d:b,\"simple-marker\"===l.type)if(l.outline){const e=l.outline?.color?.toHex();\"#ffffff\"===e&&(l.outline.color=d)}else l.outline={color:d,width:1.5}}async function D(e,l,n,i){const o=(await import(\"../../../renderers/visualVariables/support/visualVariableUtils.js\")).getSizeRangeAtScale(e,n,i),s=o&&E(o);if(!o||!s)return;let r=s.map((l=>T(l,e,o)));r=t(r);for(let t=1;t<r.length-1;t++){const o=await q(e,l,r[t],r[t-1],n,i);o&&(r[t]=o[0],s[t]=o[1])}return r}function E(e){const l=e.minSize,t=e.maxSize,n=g,i=(t-l)/(n-1),o=[];for(let s=0;s<n;s++)o.push(l+i*s);return o}function T(e,l,t){const n=t.minSize,i=t.maxSize,o=l.minDataValue,s=l.maxDataValue;let r;if(e<=n)r=o;else if(e>=i)r=s;else{r=(e-n)/(i-n)*(s-o)+o}return r}async function q(e,l,o,s,r,a){const u=await B(e,l,o,r,a),c=await B(e,l,s,r,a),m=n(o),f=m.fractional,p=w;let y=m.integer,b=null,h=null;o>0&&o<1&&(b=10**f,y=n(o*=b).integer);for(let n=y-1;n>=0;n--){const s=10**n;let m=Math.floor(o/s)*s,f=Math.ceil(o/s)*s;null!=b&&(m/=b,f/=b);let y=(m+f)/2;[,y]=t([m,y,f],{indexes:[1]});const d=await B(e,l,m,r,a),w=await B(e,l,f,r,a),g=await B(e,l,y,r,a),S=i(u,d,c,null),v=i(u,w,c,null),z=i(u,g,c,null);let j=S.previous<=p,V=v.previous<=p;if(j&&V&&(S.previous<=v.previous?(j=!0,V=!1):(V=!0,j=!1)),j?h=[m,d]:V?h=[f,w]:z.previous<=p&&(h=[y,g]),h)break}return h}async function B(e,l,t,n,i){const{getSize:o}=await import(\"../../../renderers/visualVariables/support/visualVariableUtils.js\");return o(e,t,{scale:n,view:i,shape:\"simple-marker\"===l.type?l.style:null})}function P(e,t){const n=e.clone();if(l(n))s(n)||n.symbolLayers.forEach((e=>{\"fill\"!==e.type&&(e.size=t)}));else if(S(n))n.size=t;else if(v(n)){const e=n.width,l=n.height;n.height=t,n.width=t*(e/l)}else z(n)?n.width=t:j(n)&&n.font&&(n.font.size=t);return n}export{k as getRampStops,p as realWorldMaxSize,y as realWorldMinSize};\n"],"names":["p","y","b","h","d","w","g","async","k","e","l","n","i","o","a","u","c","legendOptions","m","customValues","f","U","stops","minSize","maxSize","length","target","s","S","v","z","t","minDataValue","maxDataValue","D","type","j","authoringInfo","C","univariateTheme","map","value","some","label","E","I","x","M","r","T","V","Promise","all","B","symbol","P","L","size","outlineSize","reverse","classBreakInfos","clone","visualVariables","includes","color","outline","width","uniqueValueInfos","symbolLayers","forEach","material","resource","href","toHex","getSizeRangeAtScale","q","push","fractional","integer","Math","floor","ceil","indexes","previous","getSize","scale","view","shape","style","declaredClass","height","font"],"sourceRoot":""}