"use strict";(self.webpackChunkn2_compile=self.webpackChunkn2_compile||[]).push([[9911],{79911:(e,t,n)=>{n.r(t),n.d(t,{default:()=>S});var r=n(72791),o=n(36801),a=n(59181),i=n(97304),l=n(56343),s=n(66817),f=n(70565),c=n(54797),u=n(95494),d=n(44323),h=n(62973),p=n(65523),v=n(39286),m=n(38487),g=n(71570),w=n(97873),x=n(80659),b=n(91934),A=n(44520),y=n(93510),k=n(80849),_=n(21149),C=n(18661),D=n(15820),I=n(80184);const S=()=>{const{cpValueSelected:e}=(0,D.DM)(),t=(0,r.useRef)({}),n=(0,r.useRef)({}),S=(0,r.useRef)({}),z=(0,r.useRef)({}),[T,X]=(0,r.useState)([]),Y="lot-progress";return(0,r.useEffect)((()=>{(0,A.sb)(e).then((e=>{X(e)}))}),[e]),(0,r.useEffect)((()=>{var r,D;D=Y,o.S6(a.i_.rootElements,(function(e){e.dom.id===D&&e.dispose()}));var I=i.f.new(Y);I.container.children.clear(),null===(r=I._logo)||void 0===r||r.dispose(),I.setThemes([x.Z.new(I),b.Z.new(I)]);var X=I.container.children.push(d.z.new(I,{panX:!1,panY:!1,wheelX:"panX",wheelY:"zoomX",paddingBottom:35}));z.current=X,X.children.unshift(l._.new(I,{text:"Monthly Progress of Handed-Over Lots",fontSize:14,fontWeight:"bold",textAlign:"center",fill:s.$_("#ffffff"),x:f.aQ(50),centerX:f.aQ(50),paddingTop:0,paddingBottom:0})),X.set("cursor",h.L.new(I,{behavior:"zoomX"})).lineY.set("visible",!1);var j=X.xAxes.push(p.S.new(I,{maxDeviation:0,groupData:!0,baseInterval:{timeUnit:"day",count:1},groupIntervals:[{timeUnit:"month",count:1}],renderer:v.n.new(I,{minGridDistance:60,strokeOpacity:1,strokeWidth:1,stroke:s.$_("#ffffff")})}));j.get("renderer").labels.template.setAll({textAlign:"center",fill:s.$_("#ffffff"),fontSize:12});var O=X.yAxes.push(m.m.new(I,{calculateTotals:!0,min:0,renderer:g.j.new(I,{minGridDistance:60,strokeOpacity:1,strokeWidth:1,stroke:s.$_("#ffffff")})}));O.get("renderer").labels.template.setAll({textAlign:"center",fill:s.$_("#ffffff"),fontSize:12}),n.current=j,S.current=O,O.children.unshift(l._.new(I,{rotation:-90,text:"No. of handed-over lots",y:f.CI,centerX:f.CI,fill:s.$_("#ffffff"),fontSize:11}));var $=X.children.push(c.D.new(I,{centerX:f.CI,centerY:f.aQ(50),x:f.CI,y:f.aQ(108)}));t.current=$,$.labels.template.setAll({oversizedBehavior:"truncate",fill:s.$_("#ffffff"),fontSize:17,scale:.8});var L,N=X.series.push(w.d.new(I,{name:"Series",xAxis:j,yAxis:O,valueYField:"value",valueXField:"date",valueYGrouped:"sum"}));return N.bullets.push((function(){return u.g.new(I,{locationY:1,locationX:.5,sprite:l._.new(I,{text:"{valueYTotal}",fill:I.interfaceColors.get("alternativeText"),centerY:0,centerX:f.CI,populateText:!0,fontSize:10})})})),N.columns.template.events.on("click",(t=>{var n;const r=null===(n=t.target.dataItem)||void 0===n?void 0:n.dataContext,o=(0,A.vc)(r.date,"yyyy-MM-dd"),a="CP = '"+e+"'",i="HandedOverDate IS NOT NULL AND HandedOverDate = date'"+o+"'";var l=y.Aj.createQuery();l.where="All"===e?i+" AND 1=1":i+" AND "+a,k.ei.whenLayerView(y.Aj).then((e=>{y.Aj.queryFeatures(l).then((t=>{const n=t.features.length;let r=[];for(var o=0;o<n;o++){var a=t.features[o].attributes.OBJECTID;r.push(a)}var i=new _.Z({objectIds:r});y.Aj.queryExtent(i).then((function(e){e.extent&&k.ei.goTo(e.extent)})),L&&L.remove(),L=e.highlight(r),k.ei.on("click",(function(){e.filter=new C.Z({where:void 0}),L.remove()}))}))}))})),N.columns.template.setAll({tooltipText:"Total: {valueY}",tooltipY:f.aQ(10),strokeOpacity:0}),N.data.setAll(T),X.appear(1e3,100),()=>{I.dispose()}}),[Y,T]),(0,I.jsx)(I.Fragment,{children:(0,I.jsx)("div",{id:Y,style:{height:"32vh",width:"67%",backgroundColor:"#2b2b2b",color:"white",position:"absolute",zIndex:99,bottom:10,marginLeft:"1vw",marginRight:"auto",border:"solid 0.1px gray"}})})}}}]);
//# sourceMappingURL=9911.e0c9056d.chunk.js.map