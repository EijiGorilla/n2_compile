"use strict";(self.webpackChunkn2_compile=self.webpackChunkn2_compile||[]).push([[9002],{36231:(e,t,r)=>{function n(e,t,r,n,o){i(e,t,r||0,n||e.length-1,o||s)}function i(e,t,r,n,s){for(;n>r;){if(n-r>600){var a=n-r+1,l=t-r+1,u=Math.log(a),c=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*c*(a-c)/a)*(l-a/2<0?-1:1);i(e,t,Math.max(r,Math.floor(t-l*c/a+h)),Math.min(n,Math.floor(t+(a-l)*c/a+h)),s)}var d=e[t],g=r,I=n;for(o(e,r,t),s(e[n],d)>0&&o(e,r,n);g<I;){for(o(e,g,I),g++,I--;s(e[g],d)<0;)g++;for(;s(e[I],d)>0;)I--}0===s(e[r],d)?o(e,r,I):o(e,++I,n),I<=t&&(r=I+1),t<=I&&(n=I-1)}}function o(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function s(e,t){return e<t?-1:e>t?1:0}r.d(t,{q:()=>n})},85403:(e,t,r)=>{function n(e,t){return e?t?4:3:t?3:2}function i(e,t,r,i){if(!t?.lengths.length)return null;e.lengths.length&&(e.lengths.length=0),e.coords.length&&(e.coords.length=0);const a=e.coords,l=[],u=r?[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]:[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY],{lengths:c,coords:h}=t,d=n(r,i);let g=0;for(const n of c){const e=o(u,h,g,n,r,i);e&&l.push(e),g+=n*d}if(l.sort(((e,t)=>{let n=e[2]-t[2];return 0===n&&r&&(n=e[4]-t[4]),n})),l.length){let e=6*l[0][2];a[0]=l[0][0]/e,a[1]=l[0][1]/e,r&&(e=6*l[0][4],a[2]=0!==e?l[0][3]/e:0),(a[0]<u[0]||a[0]>u[1]||a[1]<u[2]||a[1]>u[3]||r&&(a[2]<u[4]||a[2]>u[5]))&&(a.length=0)}if(!a.length){const e=t.lengths[0]?s(h,0,c[0],r,i):null;if(!e)return null;a[0]=e[0],a[1]=e[1],r&&e.length>2&&(a[2]=e[2])}return e}function o(e,t,r,i,o,s){const a=n(o,s);let l=r,u=r+a,c=0,h=0,d=0,g=0,I=0;for(let n=0,p=i-1;n<p;n++,l+=a,u+=a){const r=t[l],n=t[l+1],i=t[l+2],s=t[u],a=t[u+1],f=t[u+2];let p=r*a-s*n;g+=p,c+=(r+s)*p,h+=(n+a)*p,o&&(p=r*f-s*i,d+=(i+f)*p,I+=p),r<e[0]&&(e[0]=r),r>e[1]&&(e[1]=r),n<e[2]&&(e[2]=n),n>e[3]&&(e[3]=n),o&&(i<e[4]&&(e[4]=i),i>e[5]&&(e[5]=i))}if(g>0&&(g*=-1),I>0&&(I*=-1),!g)return null;const f=[c,h,.5*g];return o&&(f[3]=d,f[4]=.5*I),f}function s(e,t,r,i,o){const s=n(i,o);let h=t,d=t+s,g=0,I=0,f=0,p=0;for(let n=0,N=r-1;n<N;n++,h+=s,d+=s){const t=e[h],r=e[h+1],n=e[h+2],o=e[d],s=e[d+1],N=e[d+2],_=i?l(t,r,n,o,s,N):a(t,r,o,s);if(_)if(g+=_,i){const e=c(t,r,n,o,s,N);I+=_*e[0],f+=_*e[1],p+=_*e[2]}else{const e=u(t,r,o,s);I+=_*e[0],f+=_*e[1]}}return g>0?i?[I/g,f/g,p/g]:[I/g,f/g]:r>0?i?[e[t],e[t+1],e[t+2]]:[e[t],e[t+1]]:null}function a(e,t,r,n){const i=r-e,o=n-t;return Math.sqrt(i*i+o*o)}function l(e,t,r,n,i,o){const s=n-e,a=i-t,l=o-r;return Math.sqrt(s*s+a*a+l*l)}function u(e,t,r,n){return[e+.5*(r-e),t+.5*(n-t)]}function c(e,t,r,n,i,o){return[e+.5*(n-e),t+.5*(i-t),r+.5*(o-r)]}r.d(t,{Y:()=>i})},10983:(e,t,r)=>{r.r(t),r.d(t,{default:()=>p});var n=r(27366),i=r(52639),o=r(93169),s=r(94172),a=r(49861),l=(r(32718),r(84936),r(69912)),u=r(43629),c=r(26279),h=r(42069),d=r(58890),g=r(67581),I=r(69787);let f=class extends((0,u.N)((0,h.A)(g.Z))){constructor(){super(...arguments),this.type="integrated-mesh-3d",this._elevationContext="im",this._isIntegratedMesh=!0,this._supportsLabeling=!1,this._applySSAO=!(0,o.Z)("disable-feature:im-ssao"),this._shadeNormals=!!(0,o.Z)("enable-feature:im-shading"),this.drapeTargetType=c.al.WithoutRasterImage}get i3slayer(){return this.layer}get updatingProgressValue(){return this._controller?.updatingProgress??0}get lodFactor(){return this.view?.qualitySettings?.sceneService?.integratedMesh?.lodFactor??1}get progressiveLoadFactor(){return this.lodFactor>=1?.2:1}get visibleAtCurrentScale(){return(0,I.GB)(this.i3slayer.effectiveScaleRange,this.view.scale)}get layerPopupEnabledAndHasTemplate(){return!1}initialize(){this._updatingHandles.add((()=>this.layer.modifications),(()=>this._loadModifications()),s.nn),this.view.basemapTerrain.overlayManager.registerDrapeTarget(this)}destroy(){this.view.basemapTerrain.overlayManager.unregisterDrapeTarget(this)}_createLayerGraphic(){return new i.Z({layer:this.layer,sourceLayer:this.layer})}canResume(){return super.canResume()&&(!this._controller||this._controller.rootNodeVisible)}_loadModifications(){if(this.removeHandles("modifications"),null==this.layer.modifications)return void(this._modifications=[]);const e=this.layer.modifications;this.addHandles(this._updatingHandles.addOnCollectionChange((()=>e),(()=>this._modifications=e.toArray()),s.nn),"modifications")}};(0,n._)([(0,a.Cb)()],f.prototype,"layer",void 0),(0,n._)([(0,a.Cb)()],f.prototype,"i3slayer",null),(0,n._)([(0,a.Cb)(d.q)],f.prototype,"updatingProgress",void 0),(0,n._)([(0,a.Cb)()],f.prototype,"updatingProgressValue",null),(0,n._)([(0,a.Cb)()],f.prototype,"lodFactor",null),(0,n._)([(0,a.Cb)({readOnly:!0})],f.prototype,"progressiveLoadFactor",null),(0,n._)([(0,a.Cb)({readOnly:!0})],f.prototype,"visibleAtCurrentScale",null),f=(0,n._)([(0,l.j)("esri.views.3d.layers.IntegratedMeshLayerView3D")],f);const p=f}}]);
//# sourceMappingURL=9002.69a4ea74.chunk.js.map