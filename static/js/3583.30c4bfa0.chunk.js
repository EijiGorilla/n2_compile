"use strict";(self.webpackChunkn2_compile=self.webpackChunkn2_compile||[]).push([[3583],{43583:(e,t,i)=>{i.r(t),i.d(t,{default:()=>S});var r=i(72791),l=i(93510),a=i(80849),n=i(18661),s=i(21149),o=i(36801),c=i(59181),u=i(66817),d=i(97304),f=i(70565),h=i(56343),m=i(54797),p=i(27663),g=i(82308),v=i(80659),x=i(91934),y=i(44520),b=i(26877),T=(i(35738),i(85580)),w=i(80184);const S=(0,r.memo)((e=>{const t=(0,r.useRef)({}),i=(0,r.useRef)({}),S=(0,r.useRef)({}),[R,E]=(0,r.useState)([{category:String,value:Number,sliceSettings:{fill:u.$_("#00c5ff")}}]),A="structure-chart",[j,C]=(0,r.useState)([]),[L,k]=((0,r.useRef)({}),(0,r.useRef)({}),(0,r.useRef)({}),(0,r.useState)([{category:String,value:Number}])),N="CP = '"+e.contractp+"'";return"All"===e.contractp?l.UC.definitionExpression="1=1":l.UC.definitionExpression=N,(0,r.useEffect)((()=>{(0,y.KD)().then((e=>{E(e)})),(0,y.fT)().then((e=>{C(e)})),(0,y.VV)().then((e=>{k(e)}))}),[e.contractp]),(0,r.useEffect)((()=>{var e,r;r=A,o.S6(c.i_.rootElements,(function(e){e.dom.id===r&&e.dispose()}));var b=d.f.new(A);b.container.children.clear(),null===(e=b._logo)||void 0===e||e.dispose(),b.setThemes([v.Z.new(b),x.Z.new(b)]);var T=b.container.children.push(p.u.new(b,{layout:b.verticalLayout}));S.current=T;var w=T.series.push(g.f.new(b,{name:"Series",categoryField:"category",valueField:"value",legendValueText:"{valuePercentTotal.formatNumber('#.')}% ({value})",radius:f.aQ(45),innerRadius:f.aQ(28),scale:1.8}));t.current=w,T.series.push(w);let E=w.children.push(h._.new(b,{text:"[#ffffff]{valueSum}[/]\n[fontSize: 0.5em; #d3d3d3; verticalAlign: super]STRUCTURES[/]",fontSize:"1.1rem",centerX:f.aQ(50),centerY:f.aQ(40),populateText:!0,oversizedBehavior:"fit",textAlign:"center"}));w.onPrivate("width",(e=>{E.set("maxWidth",.7*e)})),w.slices.template.setAll({toggleKey:"none",fillOpacity:.9,stroke:u.$_("#ffffff"),strokeWidth:1,strokeOpacity:1,templateField:"sliceSettings"}),w.labels.template.set("visible",!1),w.ticks.template.set("visible",!1),w.slices.template.events.on("click",(e=>{var t;const i=(null===(t=e.target.dataItem)||void 0===t?void 0:t.dataContext).category,r=y.V0.find((e=>e.category===i)),o=null===r||void 0===r?void 0:r.value;var c,u=l.UC.createQuery();a.ei.when((function(){a.ei.whenLayerView(l.UC).then((e=>{l.UC.queryFeatures(u).then((function(t){const i=t.features.length;let r=[];for(var o=0;o<i;o++){var u=t.features[o].attributes.OBJECTID;r.push(u)}var d=new s.Z({objectIds:r});l.UC.queryExtent(d).then((function(e){e.extent&&a.ei.goTo(e.extent)})),c&&c.remove(),c=e.highlight(r),a.ei.on("click",(function(){e.filter=new n.Z({where:void 0}),c.remove()}))})),e.filter=new n.Z({where:"StatusStruc = "+o})}))}))})),w.data.setAll(R);var j=T.children.push(m.D.new(b,{centerX:f.aQ(50),x:f.aQ(50)}));return i.current=j,j.data.setAll(w.dataItems),j.markers.template.setAll({width:18,height:18}),j.markerRectangles.template.setAll({cornerRadiusTL:10,cornerRadiusTR:10,cornerRadiusBL:10,cornerRadiusBR:10}),T.onPrivate("width",(function(e){var t=Math.max(e-T.height()-230,230);j.labels.template.setAll({width:t,maxWidth:t})})),j.labels.template.setAll({oversizedBehavior:"truncate",fill:u.$_("#ffffff")}),j.valueLabels.template.setAll({textAlign:"right",fill:u.$_("#ffffff")}),j.itemContainers.template.setAll({paddingTop:3,paddingBottom:1}),w.appear(1e3,100),()=>{b.dispose()}}),[A,R]),(0,r.useEffect)((()=>{var e,r;null===(e=t.current)||void 0===e||e.data.setAll(R),null===(r=i.current)||void 0===r||r.data.setAll(t.current.dataItems)})),(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("div",{style:{color:b.X7,fontSize:"1.2rem",marginLeft:"13px",marginTop:"10px"},children:"TOTAL STRUCTURES"}),(0,w.jsx)(T.ZK,{layout:"inline",children:(0,w.jsxs)("b",{className:"totalLotsNumber",style:{color:b.u8},children:[(0,w.jsx)("div",{style:{color:b.u8,fontSize:"2rem",fontWeight:"bold",fontFamily:"calibri",lineHeight:"1.2",marginLeft:"15px"},children:(0,y.oc)(j[2])}),(0,w.jsx)("img",{src:"https://EijiGorilla.github.io/Symbols/House_Logo.svg",alt:"Land Logo",height:"50px",width:"50px",style:{marginLeft:"260px",display:"flex",marginTop:"-50px"}})]})}),(0,w.jsx)("div",{id:A,style:{height:"48vh",backgroundColor:"rgb(0,0,0,0)",color:"white",marginTop:"6%",marginBottom:"10%"}}),(0,w.jsx)("div",{style:{color:b.X7,fontSize:"1.2rem",marginLeft:"13px"},children:"PERMIT-TO-ENTER"}),(0,w.jsxs)(T.ZK,{layout:"inline",children:[0===j[1]?(0,w.jsxs)("b",{className:"permitToEnterNumber",style:{color:b.u8},children:[j[0],"% (0)"]}):(0,w.jsxs)("b",{className:"permitToEnterNumber",style:{color:b.u8},children:[j[0],"% (",(0,y.oc)(j[1]),")"]}),(0,w.jsx)("img",{src:"https://EijiGorilla.github.io/Symbols/Permit-To-Enter.png",alt:"Structure Logo",height:"50px",width:"50px",style:{margin:"auto",marginRight:"40px"}})]})]})}))}}]);
//# sourceMappingURL=3583.30c4bfa0.chunk.js.map