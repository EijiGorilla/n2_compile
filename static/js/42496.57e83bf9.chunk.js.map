{"version":3,"file":"static/js/42496.57e83bf9.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/3d/layers/FeatureLayerViewPerformanceInfo.js","../node_modules/@arcgis/core/views/3d/support/PBFDecoder.js","../node_modules/@arcgis/core/views/3d/layers/support/featureTileQuery3D.js","../node_modules/@arcgis/core/views/3d/layers/support/FeatureTileFetcher3DLayerViewContext.js","../node_modules/@arcgis/core/views/layers/FeatureLayerView.js","../node_modules/@arcgis/core/views/3d/layers/FeatureLayerViewBase3D.js","../node_modules/@arcgis/core/views/layers/RefreshableLayerView.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{LayerViewPerformanceInfo as e}from\"./support/LayerViewPerformanceInfo.js\";class t extends e{constructor(e,t,s,r,o,a){super(e.usedMemory,e.displayedFeatures,e.totalFeatures,e.maximumFeatures,e.nodes,e.core),this.storedFeatures=t,this.totalVertices=s,this.partial=r,this.mode=o,this.symbolComplexity=a}}export{t as FeatureLayerViewPerformanceInfo};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport e from\"../../../Graphic.js\";import{nativeArrayMaxSize as r}from\"../../../core/typedArrayUtil.js\";import{WorkerHandle as s}from\"../../../core/workers/WorkerHandle.js\";import t from\"../../../geometry/SpatialReference.js\";import o from\"../../../layers/support/Field.js\";class n{constructor(e){this._controller=e,this._handle=new c((r=>e.schedule(r)))}destroy(){this._handle.destroy()}invoke(r,s){return r.buffer&&0!==r.buffer.byteLength?(r.options.sourceSpatialReference&&r.options.sourceSpatialReference instanceof t&&(r.options={...r.options,sourceSpatialReference:r.options.sourceSpatialReference.toJSON()}),this._handle.invoke(r,s).then((r=>{let s=0,n=0;const c=t.fromJSON(r.spatialReference);r.spatialReference=c;const i=async t=>{const l=r.fields;if(l)for(;s<l.length;)if(l[s]=o.fromJSON(l[s]),s++,t.madeProgress())return this._controller.reschedule((e=>i(e)));const p=r.features;for(;n<p.length;){const r=p[n];++n,r.uid=e.generateUID();const s=r.geometry;if(null!=s&&(s.spatialReference=c,a(s),t.madeProgress()))return this._controller.reschedule((e=>i(e)))}return r};return this._controller.schedule((e=>i(e)))}))):Promise.resolve(null)}}function a(e){switch(e.type){case\"polyline\":e.paths.reduce(((e,r)=>e+r.length),0)<r&&(e.paths=e.hasZ||e.hasM?e.paths.map((e=>e.map((e=>[e[0],e[1],e[2]])))):e.paths.map((e=>e.map((e=>[e[0],e[1]])))));break;case\"polygon\":e.rings.reduce(((e,r)=>e+r.length),0)<r&&(e.rings=e.hasZ||e.hasM?e.rings.map((e=>e.map((e=>[e[0],e[1],e[2]])))):e.rings.map((e=>e.map((e=>[e[0],e[1]])))))}}class c extends s{constructor(e){super(\"PBFDecoderWorker\",\"_parseFeatureQuery\",{_parseFeatureQuery:e=>[e.buffer]},e)}}export{n as PBFDecoder};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import r from\"../../../../core/Accessor.js\";import{destroyMaybe as t}from\"../../../../core/maybe.js\";import{throwIfAborted as s,createAbortError as o}from\"../../../../core/promiseUtils.js\";import{difference as u}from\"../../../../core/SetUtils.js\";import{property as i}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as a}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{fromFeatureSetJSON as l}from\"../../../../layers/graphics/dehydratedFeatures.js\";import{runQuery as n,executeQuery as y}from\"../../../../rest/query/operations/query.js\";import{PBFDecoder as c}from\"../../support/PBFDecoder.js\";let p=class extends r{constructor(e){super(e)}get implicitFields(){const e=this.layer.outFields?.includes(\"*\");if(!e)return new Set;const r=new Set(this.layerView.requiredFields),t=new Set(this.layerView.availableFields);return u(t,r)}get queryFeaturesDehydrated(){const{layer:e}=this,r=e.capabilities,t=r&&r.query,u=t&&t.supportsFormatPBF,i=e.parsedUrl;if(u){null==this._decoder&&(this._decoder=new c(this.controller));const r={sourceSpatialReference:e.spatialReference?.toJSON()??null,applyTransform:!0,maxStringAttributeFields:this.implicitFields,maxStringAttributeLength:f};return(e,t)=>n(i,e,\"pbf\",this._createRequestOptions(t)).then((e=>(s(t),null!=this._decoder?this._decoder.invoke({buffer:e.data,options:r},t.signal):Promise.reject(o()))))}return(r,t)=>y(i,r,e.spatialReference,this._createRequestOptions(t)).then((e=>l(e.data,{maxStringAttributeFields:this.implicitFields,maxStringAttributeLength:f})))}queryFeatureCount(e,r){return this.layer.queryFeatureCount(e,r)}destroy(){this._decoder=t(this._decoder)}_createRequestOptions(e){return{...e,query:{...this.layer.customParameters,token:this.layer.apiKey,...e?.query}}}};e([i({constructOnly:!0})],p.prototype,\"layer\",void 0),e([i({constructOnly:!0})],p.prototype,\"layerView\",void 0),e([i({constructOnly:!0})],p.prototype,\"controller\",void 0),e([i({readOnly:!0})],p.prototype,\"implicitFields\",null),e([i({readOnly:!0})],p.prototype,\"queryFeaturesDehydrated\",null),p=e([a(\"esri.views.3d.layers.support.featureTileQuery3D.FeatureTileServiceQuery3D\")],p);let d=class extends r{constructor(e){super(e)}queryFeaturesDehydrated(e,r){return this.layer.queryFeatures(e,r)}queryFeatureCount(e,r){return this.layer.queryFeatureCount(e,r)}};e([i({constructOnly:!0})],d.prototype,\"layer\",void 0),e([i({readOnly:!0})],d.prototype,\"queryFeaturesDehydrated\",null),d=e([a(\"esri.views.3d.layers.support.featureTileQuery3D.FeatureTileServiceMeshQuery3D\")],d);let m=class extends r{constructor(e){super(e)}queryFeaturesDehydrated(e,r){return this.layer.queryFeatures(e,r)}};e([i({constructOnly:!0})],m.prototype,\"layer\",void 0),m=e([a(\"esri.views.3d.layers.support.featureTileQuery3D.FeatureTileServiceQuery3D\")],m);let h=class extends r{constructor(e){super(e)}queryFeaturesDehydrated(e,r){return this.source.queryFeaturesJSON(e,r).then(l,(t=>{if(t&&\"query-features-json:unsupported\"===t.name)return this.layer.queryFeatures(e,r);throw t}))}queryFeatureCount(e,r){return this.layer.queryFeatureCount(e,r)}};function F(e,r){const{layer:t}=e;return\"feature\"===t.type&&\"feature-layer\"===t.source.type?null!=t.infoFor3D?new d({layer:t}):new p({layer:t,layerView:e,controller:r}):\"feature\"===t.type&&\"memory\"===t.source.type||\"csv\"===t.type||\"geojson\"===t.type||\"oriented-imagery\"===t.type||\"wfs\"===t.type?new h({layer:t,source:t.source}):\"ogc-feature\"===t.type?new m({layer:t}):null}e([i({constructOnly:!0})],h.prototype,\"layer\",void 0),e([i({constructOnly:!0})],h.prototype,\"source\",void 0),h=e([a(\"esri.views.3d.layers.support.featureTileQuery3D.FeatureTileClientQuery3D\")],h);const f=1024;export{F as createFeatureTileQuery3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{destroyMaybe as e}from\"../../../../core/maybe.js\";import{contextCapabilitiesFromLayer as r}from\"./FeatureTileFetcher3D.js\";import{createFeatureTileQuery3D as t}from\"./featureTileQuery3D.js\";class i{constructor(e){this._memoryCache=null,this._capabilities=null;const r=e.layerView.layer;this._layerView=e.layerView,this.objectIdField=r.objectIdField,this.globalIdField=\"globalIdField\"in r?r.globalIdField:null,this._returnZ=e.returnZ,this._returnM=e.returnM;const i=this._layerView.view.resourceController;this.query=t(this._layerView,i.normal),i&&this._memoryCacheEnabled&&(this._memoryCache=i.memoryController.newCache(`fl-${r.uid}`))}get _memoryCacheEnabled(){switch(this._layerView.layer.source.type){case\"feature-layer\":case\"ogc-feature\":case\"oriented-imagery\":return!0;case\"csv\":case\"geojson\":case\"memory\":case\"wfs\":return!1}}destroy(){this._memoryCache=e(this._memoryCache),this.query.destroy()}createQuery(){const e=this._layerView.layer.createQuery();return e.outFields=this._layerView.availableFields,e.returnZ=this._returnZ,e.returnM=this._returnM,e.outSpatialReference=this.tilingScheme.spatialReference,e}get memoryCache(){return this._memoryCache}get viewingMode(){return this._layerView.view.state.viewingMode}get tilingScheme(){return this._layerView.view.featureTiles.tilingScheme}get scheduler(){const e=this._layerView.view.resourceController;return e?e.scheduler:null}get geometryType(){return this._layerView.layer.geometryType}get fullExtent(){return this._layerView.layer.fullExtent}get tileMaxRecordCount(){return this._layerView.layer.capabilities.query.tileMaxRecordCount}get maxRecordCount(){return this._layerView.layer.capabilities.query.maxRecordCount}get capabilities(){return null!=this._capabilities||(this._capabilities=r(this._layerView.layer)),this._capabilities}logFetchError(e,r){e.error(\"#fetchTile()\",this._layerView.layer,r?.message??r)}}export{i as FeatureTileFetcher3DLayerViewContext};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Error.js\";import r from\"../../core/Logger.js\";import{throwIfAborted as i}from\"../../core/promiseUtils.js\";import{watch as o,syncAndInitial as s,on as n}from\"../../core/reactiveUtils.js\";import{property as l}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import{subclass as a}from\"../../core/accessorSupport/decorators/subclass.js\";import{combinedViewLayerTimeExtentProperty as u}from\"../../layers/support/commonProperties.js\";import p from\"../../layers/support/FeatureEffect.js\";import d from\"../../layers/support/FeatureFilter.js\";import{fixFields as f,unpackFieldNames as m,collectLabelingFields as c,collectElevationFields as y,collectFilterFields as h,collectFeatureReductionFields as g,collectOrderByInfos as F,collectFields as w,collectField as E,featureHasFields as I}from\"../../layers/support/fieldUtils.js\";import{getFloorFilterClause as b}from\"../../layers/support/floorFilterUtils.js\";import x from\"../../rest/support/Query.js\";import{loadArcade as v}from\"../../support/arcadeOnDemand.js\";import{getFetchPopupTemplate as R,getRequiredFields as _}from\"./support/popupUtils.js\";const j=j=>{let q=class extends j{constructor(...e){super(...e),this._updatingRequiredFieldsPromise=null,this.dataUpdating=!1,this.filter=null,this.timeExtent=null,this.layer=null,this.requiredFields=[],this.view=null}initialize(){this.addHandles([o((()=>{const e=this.layer;return[e&&\"elevationInfo\"in e?e.elevationInfo?.featureExpressionInfo:null,e&&\"displayField\"in e?e.displayField:null,e&&\"timeInfo\"in e&&e.timeInfo,e&&\"renderer\"in e&&e.renderer,e&&\"labelingInfo\"in e&&e.labelingInfo,e&&\"floorInfo\"in e&&e.floorInfo,this.filter,this.featureEffect,this.timeExtent]}),(()=>this._handleRequiredFieldsChange()),s),n((()=>this.view?.floors),\"change\",(()=>this._handleRequiredFieldsChange())),n((()=>{const e=this.layer;return e&&\"sublayers\"in e?e.sublayers:null}),\"change\",(()=>this._handleRequiredFieldsChange()))])}get availableFields(){if(!this.layer)return[];const{layer:e,layer:{fieldsIndex:t},requiredFields:r}=this;return\"outFields\"in e&&e.outFields?f(t,[...m(t,e.outFields),...r]):f(t,r)}get featureEffect(){return this.layer&&\"featureEffect\"in this.layer?this.layer.featureEffect:null}set featureEffect(e){this._override(\"featureEffect\",e)}get maximumNumberOfFeatures(){return 0}set maximumNumberOfFeatures(e){r.getLogger(this).error(\"#maximumNumberOfFeatures=\",\"Setting maximum number of features is not supported\")}get maximumNumberOfFeaturesExceeded(){return!1}highlight(e){throw new Error(\"missing implementation\")}createQuery(){const e={outFields:[\"*\"],returnGeometry:!0,outSpatialReference:this.view.spatialReference},t=null!=this.filter?this.filter.createQuery(e):new x(e);if(\"floorInfo\"in this.layer&&this.layer.floorInfo){const e=b(this);null!=e&&(t.where=t.where?`(${t.where}) AND (${e})`:e)}return null!=this.timeExtent&&(t.timeExtent=null!=t.timeExtent?t.timeExtent.intersection(this.timeExtent):this.timeExtent.clone()),t}createAggregateQuery(){const e={outFields:[\"*\"],returnGeometry:!0,outSpatialReference:this.view.spatialReference};return new x(e)}queryFeatures(e,t){throw new Error(\"missing implementation\")}queryObjectIds(e,t){throw new Error(\"missing implementation\")}queryFeatureCount(e,t){throw new Error(\"missing implementation\")}queryExtent(e,t){throw new Error(\"missing implementation\")}async fetchPopupFeaturesFromGraphics(e,t){return this._validateFetchPopupFeatures(e,t),this._fetchPopupFeatures(e,t)}_loadArcadeModules(e){return e.expressionInfos?.length||Array.isArray(e.content)&&e.content.some((e=>\"expression\"===e.type))?v():Promise.resolve()}_handleRequiredFieldsChange(){const e=this._updateRequiredFields();this._set(\"_updatingRequiredFieldsPromise\",e),e.then((()=>{this._updatingRequiredFieldsPromise===e&&this._set(\"_updatingRequiredFieldsPromise\",null)}))}async _updateRequiredFields(){if(!this.layer||!this.view)return;const e=\"3d\"===this.view.type,{layer:t,layer:{fieldsIndex:i,objectIdField:o}}=this,s=\"renderer\"in t&&t.renderer,n=\"orderBy\"in t&&t.orderBy,l=\"featureReduction\"in t?t.featureReduction:null,a=new Set,u=await Promise.allSettled([s?s.collectRequiredFields(a,i):null,c(a,t),e&&\"elevationInfo\"in t?y(a,t):null,null!=this.filter?h(a,t,this.filter):null,e||null==this.featureEffect?null:h(a,t,this.featureEffect.filter),!e&&l?g(a,t,l):null,!e&&n?F(a,t,n):null]);if(\"timeInfo\"in t&&t.timeInfo&&this.timeExtent&&w(a,t.fieldsIndex,[t.timeInfo.startField,t.timeInfo.endField]),\"floorInfo\"in t&&t.floorInfo&&w(a,t.fieldsIndex,[t.floorInfo.floorField]),\"feature\"===t.type&&e&&null!=t.infoFor3D&&(null==t.globalIdField&&r.getLogger(this).error(\"globalIdField missing on 3DObjectFeatureLayer\"),w(a,t.fieldsIndex,[t.globalIdField])),\"subtype-group\"===t.type){E(a,i,t.subtypeField);const e=t.sublayers.map((e=>Promise.all([e.renderer?.collectRequiredFields(a,i),c(a,e)])));await Promise.allSettled(e)}\"catalog-footprint\"===t.type&&w(a,i,[t.parent.itemSourceField,t.parent.itemTypeField]);for(const d of u)\"rejected\"===d.status&&r.getLogger(this).error(d.reason);E(a,i,o),e&&\"displayField\"in t&&t.displayField&&E(a,i,t.displayField);const p=Array.from(a).sort();this._set(\"requiredFields\",p)}_validateFetchPopupFeatures(e,r){if(null!=r)for(const i of e){const e=i.origin&&\"layer\"in i.origin?i.origin.layer:i.layer;if(\"popupEnabled\"in e&&!e.popupEnabled)throw new t(\"featurelayerview:fetchPopupFeatures\",\"Popups are disabled\",{layer:e});if(i.isAggregate){const r=\"featureReduction\"in e?e.featureReduction:null;if(!(r&&\"popupTemplate\"in r&&r.popupEnabled&&r.popupTemplate))throw new t(\"featurelayerview:fetchPopupFeatures\",\"Popups are disabled\",{layer:e})}else if(\"popupTemplate\"in e){if(!R(e,r))throw new t(\"featurelayerview:fetchPopupFeatures\",\"Layer does not define a popup template\",{layer:e})}}}_popupFeatureHasRequiredFields(e,t){return I(t,e)}async _fetchPopupFeatures(e,t){const r=new Array(e.length),o=new Map,s=await this._createPopupQuery(e.map((e=>e.origin?.layer??e.layer)),t);for(let n=0;n<e.length;n++){const l=e[n];if(l.isAggregate){r[n]=l;continue}const a=l.origin?.layer??l.layer;if(!a||!(\"popupEnabled\"in a))continue;const u=m(this.layer.fieldsIndex,s.outFields),p=R(a,t);if(null==p)continue;const d=await this._loadArcadeModules(p);i(t);d&&d.arcadeUtils.hasGeometryOperations(p)||!this._popupFeatureHasRequiredFields(l,u)?o.set(l.getObjectId(),{graphic:l,index:n}):r[n]=l}if(\"stream\"===this.layer.type||0===o.size)return r.filter(Boolean);s.objectIds=Array.from(o.keys());try{const e=await this.layer.queryFeatures(s,t);for(const t of e.features){const{graphic:{geometry:e,origin:i},index:s}=o.get(t.getObjectId());t.geometry||=e,t.origin=i,r[s]=t}}catch{}return r.filter(Boolean)}async _createPopupQuery(e,t){const r=this.layer.createQuery(),o=new Set;let s=!1;const n=e??[this.layer];for(const l of n){if(!(\"popupEnabled\"in l))continue;const e=R(l,t);if(null==e)continue;const r=await this._loadArcadeModules(e);i(t);const n=r&&r.arcadeUtils.hasGeometryOperations(e);s=!(\"point\"!==this.layer.geometryType&&!n);const a=await _(this.layer,e);i(t);for(const t of a)o.add(t)}if(r.returnGeometry=s,r.returnZ=s,r.returnM=s,r.outFields=Array.from(o),r.outSpatialReference=this.view.spatialReference,\"floorInfo\"in this.layer&&this.layer.floorInfo){const e=b(this);null!=e&&(r.where=r.where?`(${r.where}) AND (${e})`:e)}return r}canResume(){return!!super.canResume()&&(null==this.timeExtent||!this.timeExtent.isEmpty)}getTest(){return{createPopupQuery:e=>this._createPopupQuery(void 0,e)}}get test(){return this.getTest()}};return e([l()],q.prototype,\"_updatingRequiredFieldsPromise\",void 0),e([l({readOnly:!0})],q.prototype,\"availableFields\",null),e([l({readOnly:!0})],q.prototype,\"dataUpdating\",void 0),e([l({type:p})],q.prototype,\"featureEffect\",null),e([l({type:d})],q.prototype,\"filter\",void 0),e([l(u)],q.prototype,\"timeExtent\",void 0),e([l()],q.prototype,\"layer\",void 0),e([l({type:Number})],q.prototype,\"maximumNumberOfFeatures\",null),e([l({readOnly:!0,type:Boolean})],q.prototype,\"maximumNumberOfFeaturesExceeded\",null),e([l({readOnly:!0})],q.prototype,\"requiredFields\",void 0),e([l()],q.prototype,\"suspended\",void 0),e([l()],q.prototype,\"view\",void 0),q=e([a(\"esri.views.layers.FeatureLayerView\")],q),q};export{j as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import r from\"../../../core/Error.js\";import{destroyMaybe as t}from\"../../../core/maybe.js\";import{watch as s,initial as o,when as i,syncAndInitial as a}from\"../../../core/reactiveUtils.js\";import{property as n}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as u}from\"../../../core/accessorSupport/decorators/subclass.js\";import{getObjectId as l}from\"../../../layers/graphics/dehydratedFeatures.js\";import{hydrateGeometry as p}from\"../../../layers/graphics/hydratedFeatures.js\";import{FeatureTileController3D as c}from\"../../../layers/graphics/controllers/FeatureTileController3D.js\";import{FeatureLayerViewPerformanceInfo as d}from\"./FeatureLayerViewPerformanceInfo.js\";import{FeatureLikeLayerView3D as h}from\"./FeatureLikeLayerView3D.js\";import{LayerView3D as m}from\"./LayerView3D.js\";import{FeatureTileFetcher3DLayerViewContext as y}from\"./support/FeatureTileFetcher3DLayerViewContext.js\";import{EventedSet as f}from\"../support/EventedSet.js\";import{updatingProgress as g}from\"../support/updatingProperties.js\";import{UpdatePolicy as F}from\"../webgl-engine/lib/UpdatePolicy.js\";import x from\"../../layers/FeatureLayerView.js\";import b from\"../../layers/LayerView.js\";import _ from\"../../layers/RefreshableLayerView.js\";let M=class extends(_(h(x(m(b))))){constructor(e){super(e),this._controllerTotal=0,this._processorTotal=0,this._needsRefresh=!1,this.suspendResumeExtentMode=\"data\"}initialize(){this.addHandles([s((()=>this._updatingRequiredFieldsPromise),(e=>this._updatingHandles.addPromise(e)),a),s((()=>({controller:this.controller,suspended:this.suspended})),(({controller:e,suspended:r})=>{e&&!r&&this._needsRefresh&&(e.refetch(),this._needsRefresh=!1)}))])}destroy(){this._updatingHandles.removeAll(),this._fetcherContext=t(this._fetcherContext)}get maximumNumberOfFeatures(){return this.controller?.maximumNumberOfFeatures??this._get(\"maximumNumberOfFeatures\")}set maximumNumberOfFeatures(e){this._set(\"maximumNumberOfFeatures\",e),this.controller&&(this.controller.maximumNumberOfFeatures=e)}get maximumNumberOfFeaturesExceeded(){return!!this.controller&&!(this.suspended||!this.controller.maximumNumberOfFeaturesExceeded)}get updatingProgressValue(){let e=0;if(this.controller?.updating){const r=this.controller.updatingRemaining,t=Math.max(this.controller.updatingTotal,this._controllerTotal);t>0&&(e=(t-r)/t,this._controllerTotal=t)}let r=0;if(this.processor?.updating){const e=this.processor.updatingRemaining,t=Math.max(e,this._processorTotal);t>0&&(r=(t-e)/t,this._processorTotal=t)}return.5*(e+r)}get updatePolicy(){if(!this.controller)return F.ASYNC;switch(this.controller.mode){case\"snapshot\":{const e=j.get(this.layer.geometryType);return null==e||this.controller.serviceDataCount>e?F.ASYNC:F.SYNC}case\"tiles\":return F.ASYNC}}get hasZ(){const e=this.layer,r=e.capabilities&&e.capabilities.data;return!(!r||!r.supportsZ)&&(\"returnZ\"in e&&null!=e.returnZ?e.returnZ:r.supportsZ)}get hasM(){const e=this.layer,r=e.capabilities&&e.capabilities.data;return!(!r||!r.supportsM)&&(\"returnM\"in e&&null!=e.returnM&&e.returnM)}setVisibility(e,r){this.processor?.setObjectIdVisibility(e,r)}createQuery(){return super.createQuery()}queryFeatures(e,r){const t=()=>super.queryFeatures(e,r);return\"mesh\"===this.layer.geometryType?this._queryFeaturesMesh(this._ensureQuery(e),t):t()}beforeSetController(e){e.maximumNumberOfFeatures=this.maximumNumberOfFeatures}createController(){this._fetcherContext=new y({layerView:this,returnZ:this.hasZ,returnM:this.hasM});const e=new c({layerView:this,context:this._fetcherContext,graphics:new f,extent:this.clippingExtent});return this._updatingHandles.add((()=>e.serviceDataExtent),(e=>{this.processor&&(this.processor.dataExtent=e)}),o),this.addHandles(s((()=>this.suspended),(r=>{r?e.suspend():e.resume()}),a)),this._updatingHandles.add((()=>this.processor?.displayFeatureLimit),(r=>e.displayFeatureLimit=r),o),this.addHandles(i((()=>!this.updating),(()=>{this._controllerTotal=0,this._processorTotal=0}))),e}async doRefresh(e){const{controller:r,processor:t,suspended:s}=this;e&&r&&(s?this._needsRefresh=!0:(r.refetch(),this._needsRefresh=!1)),t.refreshFilter()}_popupFeatureHasRequiredFields(e,r){if(!super._popupFeatureHasRequiredFields(e,r))return!1;const t=l(e,this.layer.objectIdField);if(null==t)return!0;const s=this.controller.getMissingAttributesForFeature(t);if(null==s)return!0;for(const o of r)if(s.has(o))return!1;return!0}get usedMemory(){return(this.processor?.usedMemory??0)+(this.controller?.memoryForUnusedFeatures??0)}get unloadedMemory(){const e=this.processor?.unprocessedMemoryEstimate??0,r=this.controller?.expectedFeatureDiff??0,t=this.processor?.loadedFeatures??0,s=t+r>0?t/(t+r):1;return e+r*(this.processor?.usedMemoryPerFeature??0)*s}get ignoresMemoryFactor(){return this.controller?.hasMaximumNumberOfFeaturesOverride}async _queryFeaturesMesh(e,r){await this._validateQueryFeaturesMesh(e);const t=await r();if(e?.outStatistics||null==this.graphics3DProcessor)return t;const s=this.layer.objectIdField,o=this.graphics3DProcessor.graphics3DGraphicsByObjectID,i=[];for(const a of t.features)if(a.geometry){const e=o.get(a.attributes[s]);e&&(a.geometry=p(e.graphic.geometry),i.push(a))}else i.push(a);return t.features=i,t}async _validateQueryFeaturesMesh(e){if(!e)return;const t=e=>{throw new r(\"feature-layer-view:unsupported-query\",`Queries on Mesh feature collection layers do not support '${e}'`)},s=[\"quantizationParameters\",\"geometryPrecision\",\"maxAllowableOffset\"];for(const r of s)null!=e[r]&&t(r);\"returnM\"in e&&e.returnM&&t(\"returnM\"),\"returnCentroid\"in e&&e.returnCentroid&&t(\"returnCentroid\"),null==e.outSpatialReference||e.outSpatialReference.equals(this.view.spatialReference)||t(\"outSpatialReference\")}get performanceInfo(){const e=this.controller?.displayFeatureLimit,r=null!=e?e.averageSymbolComplexity:void 0,t=null!=r?`f:${r.verticesPerFeature},v:${r.verticesPerCoordinate}`:\"n/a\";return new d(super.performanceInfo,this.controller?.performanceInfo?.storedFeatures??0,this.controller?.performanceInfo?.totalVertices??0,this.maximumNumberOfFeaturesExceeded,this.controller?.mode??\"n/a\",t)}get test(){return{updatePolicy:this.updatePolicy,controller:this.controller,loadedGraphics:this.controller?.graphics,...this.getTest()}}};e([n()],M.prototype,\"layer\",void 0),e([n()],M.prototype,\"controller\",void 0),e([n()],M.prototype,\"_controllerTotal\",void 0),e([n()],M.prototype,\"_processorTotal\",void 0),e([n()],M.prototype,\"_needsRefresh\",void 0),e([n()],M.prototype,\"maximumNumberOfFeatures\",null),e([n()],M.prototype,\"maximumNumberOfFeaturesExceeded\",null),e([n(g)],M.prototype,\"updatingProgress\",void 0),e([n({readOnly:!0})],M.prototype,\"updatingProgressValue\",null),e([n({readOnly:!0})],M.prototype,\"updatePolicy\",null),e([n({readOnly:!0})],M.prototype,\"hasZ\",null),e([n({readOnly:!0})],M.prototype,\"hasM\",null),e([n()],M.prototype,\"suspendResumeExtentMode\",void 0),M=e([u(\"esri.views.3d.layers.FeatureLayerViewBase3D\")],M);const j=new Map([[\"point\",5e3],[\"polygon\",500],[\"polyline\",1e3]]),w=M;export{w as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import e from\"../../core/Logger.js\";import{isAbortError as s}from\"../../core/promiseUtils.js\";import{on as o}from\"../../core/reactiveUtils.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import\"../../core/Error.js\";import{subclass as t}from\"../../core/accessorSupport/decorators/subclass.js\";const i=i=>{let a=class extends i{initialize(){this.addHandles(o((()=>this.layer),\"refresh\",(r=>{this.doRefresh(r.dataChanged).catch((r=>{s(r)||e.getLogger(this).error(r)}))})),\"RefreshableLayerView\")}};return a=r([t(\"esri.layers.mixins.RefreshableLayerView\")],a),a};export{i as default};\n"],"names":["t","e","constructor","s","r","o","a","super","usedMemory","displayedFeatures","totalFeatures","maximumFeatures","nodes","core","this","storedFeatures","totalVertices","partial","mode","symbolComplexity","n","_controller","_handle","c","schedule","destroy","invoke","buffer","byteLength","options","sourceSpatialReference","toJSON","then","fromJSON","spatialReference","i","async","l","fields","length","madeProgress","reschedule","p","features","uid","generateUID","geometry","Promise","resolve","type","paths","reduce","hasZ","hasM","map","rings","_parseFeatureQuery","implicitFields","layer","outFields","includes","Set","layerView","requiredFields","availableFields","u","queryFeaturesDehydrated","capabilities","query","supportsFormatPBF","parsedUrl","_decoder","controller","applyTransform","maxStringAttributeFields","maxStringAttributeLength","f","_createRequestOptions","data","signal","reject","y","queryFeatureCount","customParameters","token","apiKey","constructOnly","prototype","readOnly","d","queryFeatures","m","h","source","queryFeaturesJSON","name","_memoryCache","_capabilities","_layerView","objectIdField","globalIdField","_returnZ","returnZ","_returnM","returnM","view","resourceController","infoFor3D","normal","_memoryCacheEnabled","memoryController","newCache","createQuery","outSpatialReference","tilingScheme","memoryCache","viewingMode","state","featureTiles","scheduler","geometryType","fullExtent","tileMaxRecordCount","maxRecordCount","logFetchError","error","message","j","q","arguments","_updatingRequiredFieldsPromise","dataUpdating","filter","timeExtent","initialize","addHandles","elevationInfo","featureExpressionInfo","displayField","timeInfo","renderer","labelingInfo","floorInfo","featureEffect","_handleRequiredFieldsChange","floors","sublayers","fieldsIndex","_override","maximumNumberOfFeatures","getLogger","maximumNumberOfFeaturesExceeded","highlight","Error","returnGeometry","x","b","where","intersection","clone","createAggregateQuery","queryObjectIds","queryExtent","fetchPopupFeaturesFromGraphics","_validateFetchPopupFeatures","_fetchPopupFeatures","_loadArcadeModules","expressionInfos","Array","isArray","content","some","v","_updateRequiredFields","_set","orderBy","featureReduction","allSettled","collectRequiredFields","g","F","w","startField","endField","floorField","E","subtypeField","all","parent","itemSourceField","itemTypeField","status","reason","from","sort","origin","popupEnabled","isAggregate","popupTemplate","R","_popupFeatureHasRequiredFields","I","Map","_createPopupQuery","arcadeUtils","hasGeometryOperations","set","getObjectId","graphic","index","size","Boolean","objectIds","keys","get","_","add","canResume","isEmpty","getTest","createPopupQuery","test","Number","M","_controllerTotal","_processorTotal","_needsRefresh","suspendResumeExtentMode","_updatingHandles","addPromise","suspended","_ref","refetch","removeAll","_fetcherContext","_get","updatingProgressValue","updating","updatingRemaining","Math","max","updatingTotal","processor","updatePolicy","ASYNC","serviceDataCount","SYNC","supportsZ","supportsM","setVisibility","setObjectIdVisibility","_queryFeaturesMesh","_ensureQuery","beforeSetController","createController","context","graphics","extent","clippingExtent","serviceDataExtent","dataExtent","suspend","resume","displayFeatureLimit","doRefresh","refreshFilter","getMissingAttributesForFeature","has","memoryForUnusedFeatures","unloadedMemory","unprocessedMemoryEstimate","expectedFeatureDiff","loadedFeatures","usedMemoryPerFeature","ignoresMemoryFactor","hasMaximumNumberOfFeaturesOverride","_validateQueryFeaturesMesh","outStatistics","graphics3DProcessor","graphics3DGraphicsByObjectID","attributes","push","returnCentroid","equals","performanceInfo","averageSymbolComplexity","verticesPerFeature","verticesPerCoordinate","loadedGraphics","dataChanged","catch"],"sourceRoot":""}