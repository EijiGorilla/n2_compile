"use strict";(self.webpackChunkn2_compile=self.webpackChunkn2_compile||[]).push([[6935],{36935:(e,t,l)=>{l.r(t),l.d(t,{default:()=>L});var i=l(72791),a=l(93510),r=l(80849),n=l(18661),s=l(21149),o=l(36801),c=l(59181),u=l(66817),f=l(97304),d=l(70565),h=l(56343),m=l(54797),v=l(27663),p=l(82308),g=l(80659),x=l(91934),w=l(44520),y=l(26877),b=(l(35738),l(85580)),A=l(26706),S=l(80184);const L=(0,i.memo)((()=>{const{cpValueSelected:e}=(0,A.DM)(),[t,l]=(0,i.useState)(null),[L,k]=(0,i.useState)(!1);(0,i.useEffect)((()=>{(0,w.bK)(y.Np[2]).then((e=>{l(e[0][0]),k(e[0][1]>=y.fW)}))}),[]);const T=(0,i.useRef)({}),R=(0,i.useRef)({}),N=(0,i.useRef)({}),[j,E]=(0,i.useState)([{category:String,value:Number,sliceSettings:{fill:u.$_("#00c5ff")}}]),[_,O]=(0,i.useState)(0),z="nlo-chart",B="CP = '"+e+"'";return a.vx.definitionExpression="All"===e?"1=1":B,(0,i.useEffect)((()=>{(0,w.nf)().then((e=>{E(e)})),(0,w.wU)().then((e=>{O(e)}))}),[e]),(0,i.useEffect)((()=>{var e,t;t=z,o.S6(c.i_.rootElements,(function(e){e.dom.id===t&&e.dispose()}));var l=f.f.new(z);l.container.children.clear(),null===(e=l._logo)||void 0===e||e.dispose(),l.setThemes([g.Z.new(l),x.Z.new(l)]);var i=l.container.children.push(v.u.new(l,{layout:l.verticalLayout}));N.current=i;var b=i.series.push(p.f.new(l,{name:"Series",categoryField:"category",valueField:"value",legendValueText:"{valuePercentTotal.formatNumber('#.')}% ({value})",radius:d.aQ(45),innerRadius:d.aQ(28),scale:2.2}));T.current=b,i.series.push(b);let A=b.children.push(h._.new(l,{text:"[#ffffff]{valueSum}[/]\n[fontSize: 0.5em; #d3d3d3; verticalAlign: super]NLOs[/]",fontSize:"1rem",centerX:d.aQ(50),centerY:d.aQ(40),populateText:!0,oversizedBehavior:"fit",textAlign:"center"}));b.onPrivate("width",(e=>{A.set("maxWidth",.7*e)})),b.slices.template.setAll({toggleKey:"none",fillOpacity:.9,stroke:u.$_("#ffffff"),strokeWidth:.5,strokeOpacity:1,templateField:"sliceSettings"}),b.labels.template.setAll({visible:!1,scale:0}),b.ticks.template.setAll({visible:!1,scale:0}),b.slices.template.events.on("click",(e=>{var t;const l=(null===(t=e.target.dataItem)||void 0===t?void 0:t.dataContext).category,i=w.ck.find((e=>e.category===l)),o=null===i||void 0===i?void 0:i.value;var c,u=a.vx.createQuery();r.ei.when((function(){r.ei.whenLayerView(a.vx).then((e=>{a.vx.queryFeatures(u).then((function(t){const l=t.features.length;let i=[];for(var o=0;o<l;o++){var u=t.features[o].attributes.OBJECTID;i.push(u)}var f=new s.Z({objectIds:i});a.vx.queryExtent(f).then((function(e){e.extent&&r.ei.goTo(e.extent)})),c&&c.remove(),c=e.highlight(i),r.ei.on("click",(function(){e.filter=new n.Z({where:void 0}),c.remove()}))})),e.filter=new n.Z({where:`${y.D6} = `+o})}))}))})),b.data.setAll(j);var S=i.children.push(m.D.new(l,{centerX:d.aQ(50),x:d.aQ(50),scale:1}));R.current=S,S.data.setAll(b.dataItems),S.markers.template.setAll({width:18,height:18}),S.markerRectangles.template.setAll({cornerRadiusTL:10,cornerRadiusTR:10,cornerRadiusBL:10,cornerRadiusBR:10}),i.onPrivate("width",(function(e){var t=Math.max(e-i.height()-220,220);S.labels.template.setAll({width:t,maxWidth:t})}));return S.labels.template.setAll({oversizedBehavior:"truncate",fill:u.$_("#ffffff")}),S.valueLabels.template.setAll({textAlign:"right",width:50,fill:u.$_("#ffffff")}),S.itemContainers.template.setAll({paddingTop:1.1,paddingBottom:2}),b.appear(1e3,100),()=>{l.dispose()}}),[z,j]),(0,i.useEffect)((()=>{var e,t;null===(e=T.current)||void 0===e||e.data.setAll(j),null===(t=R.current)||void 0===t||t.data.setAll(T.current.dataItems)})),(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)("div",{style:{color:y.X7,fontSize:"1.2rem",marginLeft:"13px",marginTop:"10px"},children:"TOTAL NON-LAND OWNERS"}),(0,S.jsx)(b.ZK,{layout:"inline",children:(0,S.jsxs)("b",{className:"totalLotsNumber",style:{color:y.u8},children:[(0,S.jsx)("div",{style:{color:y.u8,fontSize:"2rem",fontWeight:"bold",fontFamily:"calibri",lineHeight:"1.2",marginLeft:"15px"},children:(0,w.oc)(_)}),(0,S.jsx)("img",{src:"https://EijiGorilla.github.io/Symbols/NLO_Logo.svg",alt:"Land Logo",height:"50px",width:"50px",style:{marginLeft:"290px",display:"flex",marginTop:"-50px"}})]})}),(0,S.jsx)("div",{style:{color:!0===L?"red":"gray",fontSize:"0.8rem",float:"right",marginRight:"5px"},children:t?"As of "+t:""}),(0,S.jsx)("div",{id:z,style:{height:"50vh",backgroundColor:"rgb(0,0,0,0)",color:"white",marginBottom:"-1.5vh",marginTop:"50px"}})]})}))}}]);
//# sourceMappingURL=6935.a66e58b3.chunk.js.map