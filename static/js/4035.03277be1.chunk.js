"use strict";(self.webpackChunkn2_compile=self.webpackChunkn2_compile||[]).push([[4035],{54035:(e,t,a)=>{a.r(t),a.d(t,{default:()=>N});var l=a(72791),i=a(80849),r=a(93510),n=a(18661),o=a(36801),s=a(59181),c=a(97304),d=a(70565),p=a(69110),f=a(12657),u=a(66817),m=a(54797),h=a(95494),g=a(56343),v=a(3387),x=a(71570),y=a(52633),w=a(51155),b=a(38487),A=a(39286),S=a(97873),T=a(80659),_=a(91934),L=(a(93508),a(44520)),C=a(26877),k=(a(35738),a(85580)),j=a(26706),z=a(80184);const N=()=>{const{cpValueSelected:e}=(0,j.DM)(),t=(0,l.useRef)({}),a=(0,l.useRef)({}),[N,R]=(0,l.useState)([]),[X,I]=(0,l.useState)([]),[$,F]=(0,l.useState)(null),[E,B]=(0,l.useState)(!1);(0,l.useEffect)((()=>{(0,L.bK)(C.Np[5]).then((e=>{F(e[0][0]),B(e[0][1]>=C.fW)}))}),[]);const Q="viaduct-bar";(0,l.useEffect)((()=>{(0,L.bR)(e).then((e=>{R(e)})),(0,L.BN)(e).then((e=>{I(e)}))}),[e]);return(0,l.useEffect)((()=>{var l,C;C=Q,o.S6(s.i_.rootElements,(function(e){e.dom.id===C&&e.dispose()}));var k=c.f.new(Q);k.container.children.clear(),null===(l=k._logo)||void 0===l||l.dispose(),k.setThemes([T.Z.new(k),_.Z.new(k)]);var j=k.container.children.push(v.z.new(k,{panX:!1,panY:!1,layout:k.verticalLayout,marginTop:0,marginLeft:0,marginRight:0,marginBottom:0,paddingTop:10,paddingLeft:5,paddingRight:5,paddingBottom:0,scale:1,height:d.aQ(100)}));a.current=j;var z=x.j.new(k,{inversed:!0}),R=j.yAxes.push(y.$.new(k,{categoryField:"category",renderer:z,bullet:function(e,t,a){return w._.new(e,{location:.5,sprite:p.t.new(e,{width:35,height:35,centerY:d.CI,centerX:d.CI,x:-21,src:a.dataContext.icon})})},tooltip:f.u.new(k,{})}));z.labels.template.setAll({paddingRight:45}),z.grid.template.setAll({location:1}),R.get("renderer").labels.template.setAll({oversizedBehavior:"wrap",textAlign:"center",fill:u.$_("#ffffff"),fontSize:"0.8vw"}),R.data.setAll(N);var X=j.xAxes.push(b.m.new(k,{min:0,max:100,strictMinMax:!0,numberFormat:"#'%'",calculateTotals:!0,renderer:A.n.new(k,{strokeOpacity:0,strokeWidth:1,stroke:u.$_("#ffffff")})}));X.get("renderer").labels.template.setAll({textAlign:"center",fill:u.$_("#ffffff"),fontSize:"0.8vw"});var I=j.children.push(m.D.new(k,{centerX:d.CI,centerY:d.aQ(50),x:d.aQ(60),y:d.aQ(97),marginTop:20,scale:.8,layout:k.horizontalLayout}));function $(t,a){var l=j.series.push(S.d.new(k,{name:t,stacked:!0,xAxis:X,yAxis:R,baseAxis:R,valueXField:a,valueXShow:"valueXTotalPercent",categoryYField:"category",fill:"delay"===a?"incomp"===a?u.$_("#000000"):u.$_("#FF0000"):u.$_("#0070ff"),stroke:u.$_("#00c5ff")}));l.columns.template.setAll({fillOpacity:"comp"===a?"incomp"===a?0:1:"delay"===a?.5:0,tooltipText:"{name}: {valueX}",tooltipY:d.aQ(90),strokeWidth:.4}),l.data.setAll(N),l.appear(),l.bullets.push((function(){return h.g.new(k,{sprite:g._.new(k,{text:"incomp"===a||"delay"===a?"":"{valueXTotalPercent.formatNumber('#.')}%",fill:k.interfaceColors.get("alternativeText"),opacity:"incomp"===a?0:1,fontSize:"1vw",centerY:d.CI,centerX:d.CI,populateText:!0})})})),l.columns.template.events.on("click",(t=>{var l;const o=(null===(l=t.target.dataItem)||void 0===l?void 0:l.dataContext).category,s=L.df.find((e=>e.category===o)),c=null===s||void 0===s?void 0:s.value,d="CP = '"+e+"' AND Type = "+c+" AND Status1 = "+("comp"===a?"incomp"===a?1:4:"delay"===a?3:1);var p=r.Ub.createQuery();let f;i.ei.when((()=>{i.ei.whenLayerView(r.Ub).then((e=>{r.Ub.queryFeatures(p).then((t=>{const a=t.features.length;let l=[];for(var r=0;r<a;r++){var o=t.features[r].attributes.OBJECTID;l.push(o)}f&&f.remove(),f=e.highlight(l),i.ei.on("click",(()=>{e.filter=new n.Z({where:void 0}),f.remove()}))})),e.filter=new n.Z({where:d})}))}))})),I.data.push(l)}return t.current=I,I.labels.template.setAll({oversizedBehavior:"truncate",fill:u.$_("#ffffff"),fontSize:"0.8vw",scale:1.2}),$("Complete","comp"),$("Incomplete","incomp"),j.appear(1e3,100),()=>{k.dispose()}})),(0,z.jsxs)("div",{children:[(0,z.jsx)("div",{style:{color:C.X7,fontSize:"1.2rem",marginLeft:"13px",marginTop:"10px"},children:"TOTAL PROGRESS"}),(0,z.jsx)(k.ZK,{layout:"inline",children:(0,z.jsxs)("b",{className:"totalLotsNumber",style:{color:C.u8},children:[(0,z.jsx)("div",{style:{color:C.u8,fontSize:"2rem",fontWeight:"bold",fontFamily:"calibri",lineHeight:"1.2",marginLeft:"15px"},children:(0,z.jsxs)("b",{className:"totalLotsNumber",style:{color:C.u8},children:[(0,L.oc)(X[2])," %"," ",(0,z.jsxs)("div",{className:"totalLotsNumber2",children:["(",(0,L.oc)(X[0]),")"]})]})}),(0,z.jsx)("img",{src:"https://EijiGorilla.github.io/Symbols/Viaduct_Images/Viaduct_All_Logo.svg",alt:"Land Logo",height:"50px",width:"50px",style:{marginLeft:"290px",display:"flex",marginTop:"-70px"}})]})}),(0,z.jsx)("div",{style:{color:!0===E?"red":"gray",fontSize:"0.8rem",float:"right",marginRight:"5px",marginTop:"5px"},children:$?"As of "+$:""}),(0,z.jsx)("div",{id:Q,style:{width:"23vw",height:"55vh",backgroundColor:"rgb(0,0,0,0)",color:"white",marginLeft:"20px",marginRight:"10px",marginTop:"40px"}})]})}}}]);
//# sourceMappingURL=4035.03277be1.chunk.js.map