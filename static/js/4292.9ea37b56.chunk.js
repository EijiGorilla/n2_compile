"use strict";(self.webpackChunkn2_compile=self.webpackChunkn2_compile||[]).push([[4292],{94292:(e,t,i)=>{i.r(t),i.d(t,{default:()=>R});var l=i(72791),a=i(93510),r=i(52740),n=i(18661),s=i(21149),o=i(36801),c=i(59181),u=i(66817),f=i(70565),d=i(97304),h=i(56343),v=i(54797),p=i(27663),m=i(82308),g=i(80659),x=i(91934),w=i(44520),y=(i(93508),i(26877)),b=(i(35738),i(85580)),A=i(80184);function T(e){o.S6(c.i_.rootElements,(function(t){t.dom.id===e&&t.dispose()}))}const R=e=>{const t=(0,l.useRef)({}),i=(0,l.useRef)({}),o=(0,l.useRef)({}),[c,R]=(0,l.useState)([{category:String,value:Number,sliceSettings:{fill:u.$_("#00c5ff")}}]),S="pie-cut",k=(0,l.useRef)({}),E=(0,l.useRef)({}),L=(0,l.useRef)({}),[_,Q]=(0,l.useState)([{category:String,value:Number,sliceSettings:{fill:u.$_("#00c5ff")}}]),P="pie-compen",[Z,B]=(0,l.useState)([]),C="CP = '"+e.contractp+"'";"All"===e.contractp?(a.PX.definitionExpression="1=1",a.Hf.definitionExpression="1=1"):(a.PX.definitionExpression=C,a.Hf.definitionExpression=C);f.aQ(53);return(0,l.useEffect)((()=>{(0,w.EI)().then((e=>{R(e)})),(0,w.o1)().then((e=>{Q(e)})),(0,w.iA)().then((e=>{B(e)}))}),[e.contractp]),(0,l.useEffect)((()=>{var e;T(S);var l=d.f.new(S);l.container.children.clear(),null===(e=l._logo)||void 0===e||e.dispose(),l.setThemes([g.Z.new(l),x.Z.new(l)]);var y=l.container.children.push(p.u.new(l,{layout:l.verticalLayout}));o.current=y;var b=y.series.push(m.f.new(l,{name:"Series",categoryField:"category",valueField:"value",legendValueText:"{valuePercentTotal.formatNumber('#.')}% ({value})",radius:f.aQ(45),innerRadius:f.aQ(28),scale:1.8}));t.current=b,y.series.push(b);let A=b.children.push(h._.new(l,{text:"[#ffffff]{valueSum}[/]\n[fontSize: 5px; #d3d3d3; verticalAlign: super]TREES[/]",fontSize:"1rem",centerX:f.aQ(50),centerY:f.aQ(40),populateText:!0,oversizedBehavior:"fit",textAlign:"center"}));b.onPrivate("width",(e=>{A.set("maxWidth",.7*e)})),b.slices.template.setAll({fillOpacity:.9,stroke:u.$_("#ffffff"),strokeWidth:1,strokeOpacity:1,templateField:"sliceSettings"}),b.labels.template.set("visible",!1),b.ticks.template.set("visible",!1),b.slices.template.events.on("click",(e=>{var t;const i=(null===(t=e.target.dataItem)||void 0===t?void 0:t.dataContext).category,l=w.Is.find((e=>e.category===i)),o=null===l||void 0===l?void 0:l.value;var c,u=a.PX.createQuery();r.ei.when((function(){r.ei.whenLayerView(a.PX).then((e=>{a.PX.queryFeatures(u).then((t=>{const i=t.features.length;let l=[];for(var o=0;o<i;o++){var u=t.features[o].attributes.OBJECTID;l.push(u)}var f=new s.Z({objectIds:l});a.PX.queryExtent(f).then((e=>{e.extent&&r.ei.goTo(e.extent)})),c&&c.remove(),c=e.highlight(l),r.ei.on("click",(function(){e.filter=new n.Z({where:void 0}),c.remove()}))})),e.filter=new n.Z({where:"Status = "+o}),r.ei.on("click",(()=>{e.filter=new n.Z({where:void 0}),void 0!==c?c.remove():console.log("")}))}))}))})),b.data.setAll(c);var R=y.children.push(v.D.new(l,{centerX:f.aQ(50),x:f.aQ(50)}));return i.current=R,R.data.setAll(b.dataItems),R.markers.template.setAll({width:18,height:18}),R.markerRectangles.template.setAll({cornerRadiusTL:10,cornerRadiusTR:10,cornerRadiusBL:10,cornerRadiusBR:10}),y.onPrivate("width",(function(e){var t=Math.max(e-y.height()-220,220);R.labels.template.setAll({width:t,maxWidth:t})})),R.labels.template.setAll({oversizedBehavior:"truncate",fill:u.$_("#ffffff")}),R.valueLabels.template.setAll({textAlign:"right",fill:u.$_("#ffffff")}),R.itemContainers.template.setAll({paddingTop:1.1,paddingBottom:2}),b.appear(1e3,100),()=>{l.dispose()}}),[S,c]),(0,l.useEffect)((()=>{var e,l;null===(e=t.current)||void 0===e||e.data.setAll(c),null===(l=i.current)||void 0===l||l.data.setAll(t.current.dataItems)})),(0,l.useEffect)((()=>{var e;T(P);var t=d.f.new(P);t.container.children.clear(),null===(e=t._logo)||void 0===e||e.dispose(),t.setThemes([g.Z.new(t),x.Z.new(t)]);var i=t.container.children.push(p.u.new(t,{layout:t.verticalLayout}));L.current=i;var l=i.series.push(m.f.new(t,{name:"Series",categoryField:"category",valueField:"value",legendValueText:"{valuePercentTotal.formatNumber('#.')}% ({value})",radius:f.aQ(45),innerRadius:f.aQ(28),scale:1.8}));k.current=l,i.series.push(l);let o=l.children.push(h._.new(t,{text:"[#ffffff]{valueSum}[/]\n[fontSize: 5px; #d3d3d3; verticalAlign: super]TREES[/]",fontSize:"1rem",centerX:f.aQ(50),centerY:f.aQ(40),populateText:!0,oversizedBehavior:"fit",textAlign:"center"}));l.onPrivate("width",(e=>{o.set("maxWidth",.7*e)})),l.slices.template.setAll({fillOpacity:.9,stroke:u.$_("#ffffff"),strokeWidth:1,strokeOpacity:1,templateField:"sliceSettings"}),l.labels.template.set("visible",!1),l.ticks.template.set("visible",!1),l.slices.template.events.on("click",(e=>{var t;const i=(null===(t=e.target.dataItem)||void 0===t?void 0:t.dataContext).category,l=w.uc.find((e=>e.category===i)),o=null===l||void 0===l?void 0:l.value;var c,u=a.Hf.createQuery();r.ei.when((function(){r.ei.whenLayerView(a.Hf).then((e=>{a.Hf.queryFeatures(u).then((t=>{const i=t.features.length;let l=[];for(var o=0;o<i;o++){var u=t.features[o].attributes.OBJECTID;l.push(u)}var f=new s.Z({objectIds:l});a.Hf.queryExtent(f).then((e=>{e.extent&&r.ei.goTo(e.extent)})),c&&c.remove(),c=e.highlight(l),r.ei.on("click",(function(){e.filter=new n.Z({where:void 0}),c.remove()}))})),e.filter=new n.Z({where:"Compensation = "+o}),r.ei.on("click",(()=>{e.filter=new n.Z({where:void 0}),void 0!==c?c.remove():console.log("")}))}))}))})),l.data.setAll(_);var c=i.children.push(v.D.new(t,{centerX:f.aQ(50),x:f.aQ(50)}));return E.current=c,c.data.setAll(l.dataItems),c.markers.template.setAll({width:18,height:18}),c.markerRectangles.template.setAll({cornerRadiusTL:10,cornerRadiusTR:10,cornerRadiusBL:10,cornerRadiusBR:10}),i.onPrivate("width",(function(e){var t=Math.max(e-i.height()-220,220);c.labels.template.setAll({width:t,maxWidth:t})})),c.labels.template.setAll({oversizedBehavior:"truncate",fill:u.$_("#ffffff")}),c.valueLabels.template.setAll({textAlign:"right",fill:u.$_("#ffffff")}),c.itemContainers.template.setAll({paddingTop:1.1,paddingBottom:2}),l.appear(1e3,100),()=>{t.dispose()}}),[P,_]),(0,l.useEffect)((()=>{var e,t;null===(e=k.current)||void 0===e||e.data.setAll(_),null===(t=E.current)||void 0===t||t.data.setAll(k.current.dataItems)})),(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)("div",{style:{color:y.X7,fontSize:"1.2rem",marginLeft:"13px",marginTop:"10px"},children:"TOTAL TREES"}),(0,A.jsx)(b.ZK,{layout:"inline",children:(0,A.jsxs)("b",{className:"totalLotsNumber",style:{color:y.u8},children:[(0,A.jsx)("div",{style:{color:y.u8,fontSize:"2rem",fontWeight:"bold",fontFamily:"calibri",lineHeight:"1.2",marginLeft:"15px"},children:(0,w.oc)(Z[0])}),(0,A.jsx)("img",{src:"https://EijiGorilla.github.io/Symbols/Tree_Logo.svg",alt:"Land Logo",height:"55px",width:"55px",style:{marginLeft:"260px",display:"flex",marginTop:"-50px"}})]})}),(0,A.jsx)("div",{id:S,style:{height:"35vh",backgroundColor:"rgb(0,0,0,0)",color:"white"}}),(0,A.jsx)("div",{id:P,style:{height:"35vh",backgroundColor:"rgb(0,0,0,0)",color:"white"}})]})}}}]);
//# sourceMappingURL=4292.9ea37b56.chunk.js.map