"use strict";(self.webpackChunkn2_compile=self.webpackChunkn2_compile||[]).push([[4292],{94292:(e,t,l)=>{l.r(t),l.d(t,{default:()=>R});var i=l(72791),a=l(93510),r=l(80849),n=l(18661),s=l(21149),o=l(36801),c=l(59181),u=l(66817),d=l(70565),f=l(97304),h=l(56343),v=l(54797),p=l(27663),m=l(82308),g=l(80659),x=l(91934),w=l(44520),y=(l(93508),l(26877)),A=(l(35738),l(85580)),b=l(26706),S=l(80184);function T(e){o.S6(c.i_.rootElements,(function(t){t.dom.id===e&&t.dispose()}))}const R=()=>{const{cpValueSelected:e}=(0,b.DM)(),t=(0,i.useRef)({}),l=(0,i.useRef)({}),o=(0,i.useRef)({}),[c,R]=(0,i.useState)([{category:String,value:Number,sliceSettings:{fill:u.$_("#00c5ff")}}]),k="pie-cut",E=(0,i.useRef)({}),L=(0,i.useRef)({}),_=(0,i.useRef)({}),[Q,P]=(0,i.useState)([{category:String,value:Number,sliceSettings:{fill:u.$_("#00c5ff")}}]),Z="pie-compen",[B,C]=(0,i.useState)([]),I="CP = '"+e+"'";"All"===e?(a.PX.definitionExpression="1=1",a.Hf.definitionExpression="1=1"):(a.PX.definitionExpression=I,a.Hf.definitionExpression=I);d.aQ(53);return(0,i.useEffect)((()=>{(0,w.EI)().then((e=>{R(e)})),(0,w.o1)().then((e=>{P(e)})),(0,w.iA)().then((e=>{C(e)}))}),[e]),(0,i.useEffect)((()=>{var e;T(k);var i=f.f.new(k);i.container.children.clear(),null===(e=i._logo)||void 0===e||e.dispose(),i.setThemes([g.Z.new(i),x.Z.new(i)]);var y=i.container.children.push(p.u.new(i,{layout:i.verticalLayout}));o.current=y;var A=y.series.push(m.f.new(i,{name:"Series",categoryField:"category",valueField:"value",legendValueText:"{valuePercentTotal.formatNumber('#.')}% ({value})",radius:d.aQ(45),innerRadius:d.aQ(28),scale:2.2}));t.current=A,y.series.push(A);let b=A.children.push(h._.new(i,{text:"[#ffffff]{valueSum}[/]\n[fontSize: 5px; #d3d3d3; verticalAlign: super]TREES[/]",fontSize:"0.8rem",centerX:d.aQ(50),centerY:d.aQ(40),populateText:!0,oversizedBehavior:"fit",textAlign:"center"}));A.onPrivate("width",(e=>{b.set("maxWidth",.7*e)})),A.slices.template.setAll({toggleKey:"none",fillOpacity:.9,stroke:u.$_("#ffffff"),strokeWidth:.5,strokeOpacity:1,templateField:"sliceSettings"}),A.labels.template.setAll({visible:!1,scale:0}),A.ticks.template.setAll({visible:!1,scale:0}),A.slices.template.events.on("click",(e=>{var t;const l=(null===(t=e.target.dataItem)||void 0===t?void 0:t.dataContext).category,i=w.Is.find((e=>e.category===l)),o=null===i||void 0===i?void 0:i.value;var c,u=a.PX.createQuery();r.ei.when((function(){r.ei.whenLayerView(a.PX).then((e=>{a.PX.queryFeatures(u).then((t=>{const l=t.features.length;let i=[];for(var o=0;o<l;o++){var u=t.features[o].attributes.OBJECTID;i.push(u)}var d=new s.Z({objectIds:i});a.PX.queryExtent(d).then((e=>{e.extent&&r.ei.goTo(e.extent)})),c&&c.remove(),c=e.highlight(i),r.ei.on("click",(function(){e.filter=new n.Z({where:void 0}),c.remove()}))})),e.filter=new n.Z({where:"Status = "+o}),r.ei.on("click",(()=>{e.filter=new n.Z({where:void 0}),void 0!==c?c.remove():console.log("")}))}))}))})),A.data.setAll(c);var S=y.children.push(v.D.new(i,{centerX:d.aQ(50),x:d.aQ(50)}));return l.current=S,S.data.setAll(A.dataItems),S.markers.template.setAll({width:18,height:18}),S.markerRectangles.template.setAll({cornerRadiusTL:10,cornerRadiusTR:10,cornerRadiusBL:10,cornerRadiusBR:10}),y.onPrivate("width",(function(e){var t=Math.max(e-y.height()-220,220);S.labels.template.setAll({width:t,maxWidth:t})})),S.labels.template.setAll({oversizedBehavior:"truncate",fill:u.$_("#ffffff")}),S.valueLabels.template.setAll({textAlign:"right",fill:u.$_("#ffffff")}),S.itemContainers.template.setAll({paddingTop:1.1,paddingBottom:2}),A.appear(1e3,100),()=>{i.dispose()}}),[k,c]),(0,i.useEffect)((()=>{var e,i;null===(e=t.current)||void 0===e||e.data.setAll(c),null===(i=l.current)||void 0===i||i.data.setAll(t.current.dataItems)})),(0,i.useEffect)((()=>{var e;T(Z);var t=f.f.new(Z);t.container.children.clear(),null===(e=t._logo)||void 0===e||e.dispose(),t.setThemes([g.Z.new(t),x.Z.new(t)]);var l=t.container.children.push(p.u.new(t,{layout:t.verticalLayout}));_.current=l;var i=l.series.push(m.f.new(t,{name:"Series",categoryField:"category",valueField:"value",legendValueText:"{valuePercentTotal.formatNumber('#.')}% ({value})",radius:d.aQ(45),innerRadius:d.aQ(28),scale:2.2}));E.current=i,l.series.push(i);let o=i.children.push(h._.new(t,{text:"[#ffffff]{valueSum}[/]\n[fontSize: 5px; #d3d3d3; verticalAlign: super]TREES[/]",fontSize:"0.8rem",centerX:d.aQ(50),centerY:d.aQ(40),populateText:!0,oversizedBehavior:"fit",textAlign:"center"}));i.onPrivate("width",(e=>{o.set("maxWidth",.7*e)})),i.slices.template.setAll({toggleKey:"none",fillOpacity:.9,stroke:u.$_("#ffffff"),strokeWidth:.5,strokeOpacity:1,templateField:"sliceSettings"}),i.labels.template.setAll({visible:!1,scale:0}),i.ticks.template.setAll({visible:!1,scale:0}),i.slices.template.events.on("click",(e=>{var t;const l=(null===(t=e.target.dataItem)||void 0===t?void 0:t.dataContext).category,i=w.uc.find((e=>e.category===l)),o=null===i||void 0===i?void 0:i.value;var c,u=a.Hf.createQuery();r.ei.when((function(){r.ei.whenLayerView(a.Hf).then((e=>{a.Hf.queryFeatures(u).then((t=>{const l=t.features.length;let i=[];for(var o=0;o<l;o++){var u=t.features[o].attributes.OBJECTID;i.push(u)}var d=new s.Z({objectIds:i});a.Hf.queryExtent(d).then((e=>{e.extent&&r.ei.goTo(e.extent)})),c&&c.remove(),c=e.highlight(i),r.ei.on("click",(function(){e.filter=new n.Z({where:void 0}),c.remove()}))})),e.filter=new n.Z({where:"Compensation = "+o}),r.ei.on("click",(()=>{e.filter=new n.Z({where:void 0}),void 0!==c?c.remove():console.log("")}))}))}))})),i.data.setAll(Q);var c=l.children.push(v.D.new(t,{centerX:d.aQ(50),x:d.aQ(50)}));return L.current=c,c.data.setAll(i.dataItems),c.markers.template.setAll({width:18,height:18}),c.markerRectangles.template.setAll({cornerRadiusTL:10,cornerRadiusTR:10,cornerRadiusBL:10,cornerRadiusBR:10}),l.onPrivate("width",(function(e){var t=Math.max(e-l.height()-220,220);c.labels.template.setAll({width:t,maxWidth:t})})),c.labels.template.setAll({oversizedBehavior:"truncate",fill:u.$_("#ffffff")}),c.valueLabels.template.setAll({textAlign:"right",fill:u.$_("#ffffff")}),c.itemContainers.template.setAll({paddingTop:1.1,paddingBottom:2}),i.appear(1e3,100),()=>{t.dispose()}}),[Z,Q]),(0,i.useEffect)((()=>{var e,t;null===(e=E.current)||void 0===e||e.data.setAll(Q),null===(t=L.current)||void 0===t||t.data.setAll(E.current.dataItems)})),(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)("div",{style:{color:y.X7,fontSize:"1.2rem",marginLeft:"13px",marginTop:"10px"},children:"TOTAL TREES"}),(0,S.jsx)(A.ZK,{layout:"inline",children:(0,S.jsxs)("b",{className:"totalLotsNumber",style:{color:y.u8},children:[(0,S.jsx)("div",{style:{color:y.u8,fontSize:"2rem",fontWeight:"bold",fontFamily:"calibri",lineHeight:"1.2",marginLeft:"15px"},children:(0,w.oc)(B[0])}),(0,S.jsx)("img",{src:"https://EijiGorilla.github.io/Symbols/Tree_Logo.svg",alt:"Land Logo",height:"55px",width:"55px",style:{marginLeft:"260px",display:"flex",marginTop:"-50px"}})]})}),(0,S.jsx)("div",{id:k,style:{height:"36vh",backgroundColor:"rgb(0,0,0,0)",color:"white"}}),(0,S.jsx)("div",{id:Z,style:{height:"36vh",backgroundColor:"rgb(0,0,0,0)",color:"white"}})]})}}}]);
//# sourceMappingURL=4292.896407a9.chunk.js.map