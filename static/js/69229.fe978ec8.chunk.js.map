{"version":3,"file":"static/js/69229.fe978ec8.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/chunks/ImageMaterial.glsl.js","../node_modules/@arcgis/core/views/3d/layers/support/overlayImageUtils.js","../node_modules/@arcgis/core/views/3d/layers/DynamicLayerView3D.js","../node_modules/@arcgis/core/views/3d/layers/LayerView3D.js","../node_modules/@arcgis/core/views/3d/layers/support/projectExtentUtils.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ImageMaterialTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/ImageMaterial.js","../node_modules/@arcgis/core/views/layers/LayerView.js","../node_modules/@arcgis/core/views/layers/RefreshableLayerView.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{ShaderOutput as e}from\"../views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js\";import{SliceDraw as r}from\"../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js\";import{Transform as i}from\"../views/3d/webgl-engine/core/shaderLibrary/Transform.glsl.js\";import{multipassTerrainTest as o}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/MultipassTerrainTest.glsl.js\";import{defaultMaskAlphaCutoff as s}from\"../views/3d/webgl-engine/core/shaderLibrary/util/AlphaCutoff.js\";import{ColorConversion as a}from\"../views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js\";import{addProjViewLocalOrigin as t}from\"../views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js\";import{FloatPassUniform as d}from\"../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js\";import{glsl as l}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{ShaderBuilder as n}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";import{Texture2DPassUniform as p}from\"../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js\";import{TransparencyPassType as g}from\"../views/3d/webgl-engine/lib/TransparencyPassType.js\";import{VertexAttribute as c}from\"../views/3d/webgl-engine/lib/VertexAttribute.js\";function v(v){const m=new n,{vertex:f,fragment:u}=m;return t(f,v),m.include(i,v),m.attributes.add(c.POSITION,\"vec3\"),m.attributes.add(c.UV0,\"vec2\"),v.perspectiveInterpolation&&m.attributes.add(c.PERSPECTIVEDIVIDE,\"float\"),m.varyings.add(\"vpos\",\"vec3\"),v.multipassEnabled&&m.varyings.add(\"depth\",\"float\"),f.code.add(l`\n    void main(void) {\n      vpos = position;\n      ${v.multipassEnabled?\"depth = (view * vec4(vpos, 1.0)).z;\":\"\"}\n      vTexCoord = uv0;\n      gl_Position = transformPosition(proj, view, vpos);\n\n      ${v.perspectiveInterpolation?\"gl_Position *= perspectiveDivide;\":\"\"}\n    }\n  `),m.include(r,v),m.include(o,v),u.uniforms.add(new p(\"tex\",(e=>e.texture)),new d(\"opacity\",(e=>e.opacity))),m.varyings.add(\"vTexCoord\",\"vec2\"),v.output===e.Alpha?u.code.add(l`\n    void main() {\n      discardBySlice(vpos);\n      ${v.multipassEnabled?\"terrainDepthTest(depth);\":\"\"}\n\n      float alpha = texture(tex, vTexCoord).a * opacity;\n      if (alpha  < ${l.float(s)}) {\n        discard;\n      }\n\n      fragColor = vec4(alpha);\n    }\n    `):(u.include(a),u.code.add(l`\n    void main() {\n      discardBySlice(vpos);\n      ${v.multipassEnabled?\"terrainDepthTest(depth);\":\"\"}\n      fragColor = texture(tex, vTexCoord) * opacity;\n\n      if (fragColor.a < ${l.float(s)}) {\n        discard;\n      }\n\n      fragColor = highlightSlice(fragColor, vpos);\n      ${v.transparencyPassType===g.Color?\"fragColor = premultiplyAlpha(fragColor);\":\"\"}\n    }\n    `)),m}const m=Object.freeze(Object.defineProperty({__proto__:null,build:v},Symbol.toStringTag,{value:\"Module\"}));export{m as I,v as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{width as t,height as e,intersects as r}from\"../../../../geometry/support/aaBoundingRect.js\";import{newDoubleArray as o}from\"../../../../geometry/support/DoubleArray.js\";import{newFloatArray as n}from\"../../../../geometry/support/FloatArray.js\";import{Attribute as i}from\"../../webgl-engine/lib/Attribute.js\";import{Geometry as m}from\"../../webgl-engine/lib/Geometry.js\";import{createSquareGeometry as h}from\"../../webgl-engine/lib/GeometryUtil.js\";import{VertexAttribute as g}from\"../../webgl-engine/lib/VertexAttribute.js\";function u(r,o,n){const i=t(r)/e(r),m={width:n,height:n};return i>1.0001?m.height=n/i:i<.9999&&(m.width=n*i),m.width=Math.round(m.width/(t(r)/t(o))),m.height=Math.round(m.height/(e(r)/e(o))),m}function l(t,e){return h(t,[[e[0],e[1],-1],[e[2],e[1],-1],[e[2],e[3],-1],[e[0],e[3],-1]])}function s(t,e,h){if(!r(e,h))return l(t,h);const u=[e[1]-h[1],Math.min(e[3],h[3])-Math.max(e[1],h[1]),h[3]-e[3],123456],s=[e[0]-h[0],Math.min(e[2],h[2])-Math.max(e[0],h[0]),h[2]-e[2],123456],f=h[2]-h[0],p=h[3]-h[1],w=s[0]>0&&s[2]>0?3:2,b=u[0]>0&&u[2]>0?3:2,c=(b+1)*(w+1),y=o(3*c),d=n(2*c),j=new Array(6*(b*w-1));let A=0,M=0,x=0,O=0,G=0;for(let r=0;r<4;r++){const t=u[r];if(t<=0)continue;let e=0;for(let o=0;o<4;o++){const t=s[o];t<=0||(y[M++]=h[0]+e,y[M++]=h[1]+A,y[M++]=-1,d[x++]=e/f,d[x++]=A/p,o<3&&r<3&&(1!==o||1!==r)&&(j[G++]=O,j[G++]=O+1,j[G++]=O+w+1,j[G++]=O+1,j[G++]=O+w+2,j[G++]=O+w+1),O++,e+=t)}A+=t}const I=new Array(j.length);return new m(t,[[g.POSITION,new i(y,j,3,!0)],[g.NORMAL,new i(a,I,3,!0)],[g.UV0,new i(d,j,2,!0)]])}const a=[0,0,1];export{u as computeImageExportSize,l as createGeometryForExtent,s as createOuterImageGeometry};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{forEach as t,result as r}from\"../../../core/asyncUtils.js\";import{makeHandle as i}from\"../../../core/handleUtils.js\";import a from\"../../../core/Logger.js\";import{abortMaybe as s}from\"../../../core/maybe.js\";import{debounce as n,isAbortError as o,onAbort as l,isAborted as h,createAbortError as m,throwIfAborted as d}from\"../../../core/promiseUtils.js\";import{whenOnce as c}from\"../../../core/reactiveUtils.js\";import{property as g}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/RandomLCG.js\";import{subclass as u}from\"../../../core/accessorSupport/decorators/subclass.js\";import p from\"../../../geometry/Extent.js\";import{equals as f,create as y,width as _,height as w,copy as x,intersection as R}from\"../../../geometry/support/aaBoundingRect.js\";import{DrapeSourceType as v}from\"./interfaces.js\";import{LayerView3D as S}from\"./LayerView3D.js\";import{computeImageExportSize as b,createGeometryForExtent as E,createOuterImageGeometry as j}from\"./support/overlayImageUtils.js\";import{toViewIfLocal as I}from\"./support/projectExtentUtils.js\";import{debugFlags as A}from\"../support/debugFlags.js\";import{OverlayIndex as L}from\"../terrain/interfaces.js\";import{DirtyOperation as D}from\"../webgl-engine/lib/ModelDirtyTypes.js\";import{RenderGeometry as M}from\"../webgl-engine/lib/RenderGeometry.js\";import{Texture as C}from\"../webgl-engine/lib/Texture.js\";import{UpdatePolicy as G}from\"../webgl-engine/lib/UpdatePolicy.js\";import{ImageMaterial as P}from\"../webgl-engine/materials/ImageMaterial.js\";import T from\"../../layers/LayerView.js\";import O from\"../../layers/RefreshableLayerView.js\";import{isScaleRangeActive as H}from\"../../support/layerViewUtils.js\";import{TextureWrapMode as U}from\"../../webgl/enums.js\";let V=class extends(O(S(T))){constructor(){super(...arguments),this.drapeSourceType=v.RasterImage,this.updatePolicy=G.SYNC,this.fullExtentInLocalViewSpatialReference=null,this.maximumDataResolution=null,this._images=new Array,this._extents=new Array,this._overlays=new Array,this.updateWhenStationary=!0,this._drapeSourceRenderer=null,this.refreshDebounced=n((async e=>{this.destroyed||await this._doRefresh(e).catch((e=>{o(e)||a.getLogger(this).error(e)}))}),2e3)}initialize(){this._drapeSourceRenderer=this.view.basemapTerrain.overlayManager.registerGeometryDrapeSource(this),this.addHandles(i((()=>this.view.basemapTerrain.overlayManager.unregisterDrapeSource(this)))),this.addResolvingPromise(I(this).then((e=>this._set(\"fullExtentInLocalViewSpatialReference\",e)))),this._updatingHandles.add((()=>this.suspended),(()=>this._suspendedChangeHandler())),this.addHandles(this.view.resourceController.scheduler.registerIdleStateCallbacks((()=>{this._isScaleRangeActive()&&this.notifyChange(\"suspended\")}),(()=>{}))),this._isScaleRangeLayer()&&this._updatingHandles.add((()=>this.layer.effectiveScaleRange),(()=>this.notifyChange(\"suspended\")))}destroy(){this.clear()}setDrapingExtent(e,t){this._spatialReference=t,e.forEach(((e,t)=>{this._overlays[t]=e,this._updateImageExtent(e,t)}))}_updateImageExtent(e,t){const r=this._clippedExtent(e.extent,z);if(null==r)return;const i=b(e.extent,r,e.resolution);let s=e.pixelRatio*this.view.state.pixelRatio;const{layer:n}=this;if(\"imageMaxWidth\"in n&&null!=n.imageMaxWidth||\"imageMaxHeight\"in n&&null!=n.imageMaxHeight){const e=n.imageMaxWidth,t=n.imageMaxHeight;if(i.width>e){const t=e/i.width;i.height=Math.floor(i.height*t),i.width=e,s*=t}if(i.height>t){const e=t/i.height;i.width=Math.floor(i.width*e),i.height=t,s*=e}}const l=this._extents[t];l&&f(l.extent,r)&&this._imageSizeEquals(r,l.imageSize,i)||(this._extents[t]={extent:y(r),imageSize:i,pixelRatio:s},this.suspended||this._fetch(t).catch((e=>{o(e)||a.getLogger(this).error(e)})))}clear(){for(let e=0;e<this._images.length;e++)this._clearImage(e)}async doRefresh(){return this._doRefresh()}async _doRefresh(e){if(this.suspended)return;const t=[];for(let r=0;r<this._extents.length;r++)this._extents[r]&&t.push(this._fetch(r,e));await Promise.allSettled(t)}canResume(){if(!super.canResume())return!1;const e=this.layer;if(this._isScaleRangeActive()){const{minScale:t,maxScale:r}=e.effectiveScaleRange,i=this.view.scale;if(i<r||t>0&&i>t)return!1}return!0}async processResult(e,t,r){(t instanceof HTMLImageElement||t instanceof HTMLCanvasElement)&&(e.image=t)}findExtentInfoAt(e){for(const t of this._extents){const r=t.extent;if(new p(r[0],r[1],r[2],r[3],this._spatialReference).contains(e))return t}return null}getFetchOptions(){}async redraw(e,r){await t(this._images,(async(t,i)=>{t&&(await e(t,r),await this._createStageObjects(i,t.image,r))}))}_imageSizeEquals(e,t,r){if(!this.maximumDataResolution)return!1;const i=_(e)/this.maximumDataResolution.x,a=w(e)/this.maximumDataResolution.y,s=i/t.width,n=a/t.height,o=i/r.width,l=a/r.height,h=Math.abs(s-o),m=Math.abs(n-l),d=A.TESTS_DISABLE_OPTIMIZATIONS?0:1.5;return h<=d&&m<=d}async _fetch(e,t){if(this.suspended)return;const r=this._extents[e],i=r.extent;this._images[e]||(this._images[e]={texture:null,material:null,renderGeometry:null,loadingPromise:null,loadingAbortController:null,image:null,pixelData:null,renderExtent:y(i)});const n=this._images[e];n.loadingAbortController=s(n.loadingAbortController);const c=new p(i[0],i[1],i[2],i[3],this._spatialReference);if(0===c.width||0===c.height)return void this._clearImage(e);const g=new AbortController;n.loadingAbortController=g,l(t,(()=>g.abort()));const u=g.signal,f=this._waitFetchReady(u).then((async()=>{const t={requestAsImageElement:!0,pixelRatio:this._overlays[e].pixelRatio,...this.getFetchOptions(),signal:u},{height:i,width:a}=r.imageSize;return this.layer.fetchImage(c,a,i,t)})).then((e=>{if(h(u))throw a.getLogger(this).warnOnce(\"A call to fetchImage resolved even though the request was aborted. fetchImage should not resolve if options.signal.aborted is true.\"),m();return this.processResult(n,e)})).then((()=>{x(n.renderExtent,i)}));n.loadingPromise=f,await this._updatingHandles.addPromise(f.then((async()=>{d(u),await this._createStageObjects(e,n.image,u)})).catch((e=>{throw e&&!o(e)&&a.getLogger(this).error(e),e})).finally((()=>{f===n.loadingPromise&&(n.loadingPromise=null,n.loadingAbortController=null)})))}_clearImage(e){const t=this._images[e];if(t){null!=t.renderGeometry&&(this._drapeSourceRenderer.removeGeometries([t.renderGeometry],D.UPDATE),t.renderGeometry=null);const e=this.view._stage,r=t.texture;r?.unload(),e.remove(r),t.texture=null,e.remove(t.material),t.material=null,t.loadingAbortController=s(t.loadingAbortController),t.loadingPromise=null,t.image=null,t.pixelData=null}}async _createStageObjects(e,t,i){const a=this.view._stage,s=this._images[e],n=()=>{s.texture?.unload(),a.remove(s.texture),s.texture=null,s.renderGeometry&&(this._drapeSourceRenderer.removeGeometries([s.renderGeometry],D.UPDATE),s.renderGeometry=null)};if(t){const o=new C(t,{width:t.width,height:t.height,preMultiplyAlpha:!0,wrap:{s:U.CLAMP_TO_EDGE,t:U.CLAMP_TO_EDGE}});let l;if(await r(this._images[e===L.INNER?L.OUTER:L.INNER].loadingPromise),d(i),n(),await a.schedule((()=>o.load(a.renderView.renderingContext)),i),a.add(o),s.texture=o,null==s.material?(s.material=new P({transparent:!0,textureId:o.id}),a.add(s.material)):s.material.setParameters({textureId:o.id}),e===L.INNER)l=E(s.material,s.renderExtent);else{const e=this._images[0].renderExtent;if(!e)return void n();l=j(s.material,e,s.renderExtent)}s.renderGeometry=new M(l),s.renderGeometry.localOrigin=this._overlays[e].renderLocalOrigin,this._drapeSourceRenderer.addGeometries([s.renderGeometry],D.UPDATE)}else n(),a.remove(s.material),s.material=null}_isScaleRangeLayer(){return\"effectiveScaleRange\"in this.layer}_isScaleRangeActive(){const e=this.layer;if(!this._isScaleRangeLayer())return!1;const{minScale:t,maxScale:r}=e.effectiveScaleRange;return H(t,r)}_clippedExtent(e,t){if(\"local\"!==this.view.viewingMode)return x(t,e);const r=this.view.basemapTerrain;return r.ready?R(e,r.extent,t):x(t,e)}_suspendedChangeHandler(){this.suspended?this.clear():this.refreshDebounced()}async _waitFetchReady(e){await c((()=>this.view.stationary),e),d(e)}};e([g()],V.prototype,\"layer\",void 0),e([g()],V.prototype,\"suspended\",void 0),e([g({readOnly:!0})],V.prototype,\"fullExtentInLocalViewSpatialReference\",void 0),e([g()],V.prototype,\"updating\",void 0),V=e([u(\"esri.views.3d.layers.DynamicLayerView3D\")],V);const N=V,z=y();export{N as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{makeHandle as t}from\"../../../core/handleUtils.js\";import{throwIfAborted as s}from\"../../../core/promiseUtils.js\";import{whenOnce as o}from\"../../../core/reactiveUtils.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as i}from\"../../../core/accessorSupport/decorators/subclass.js\";import{supportsHeightModelInfo as a,rejectLayerError as l}from\"../../../geometry/support/heightModelInfoUtils.js\";const n=n=>{let c=class extends n{constructor(){super(...arguments),this.slicePlaneEnabled=!1,this.supportsHeightUnitConversion=!1}postscript(e){super.postscript(e),a(this.layer)&&this.addResolvingPromise(this._validateHeightModelInfo())}async _validateHeightModelInfo(){const e=new AbortController,r=e.signal;this.addHandles(t((()=>e.abort()))),await o((()=>this.view.defaultsFromMap?.heightModelInfoReady),r),s(r);const i=l(this.layer,this.view.heightModelInfo,this.supportsHeightUnitConversion);if(i)throw i}canResume(){const e=this.layer&&\"effectiveScaleRange\"in this.layer?this.layer.effectiveScaleRange:null;return super.canResume()&&(!e?.minScale||!e.maxScale||e.minScale>=e.maxScale)}getSuspendInfo(){const e=super.getSuspendInfo(),t=this.layer&&\"effectiveScaleRange\"in this.layer?this.layer.effectiveScaleRange:null;return t&&t.minScale&&t.maxScale&&t.minScale<t.maxScale&&(e.outsideScaleRange=!0),e}};return e([r()],c.prototype,\"view\",void 0),e([r()],c.prototype,\"slicePlaneEnabled\",void 0),c=e([i(\"esri.views.3d.layers.LayerView3D\")],c),c};export{n as LayerView3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{project as e}from\"../../../../geometry/support/webMercatorUtils.js\";import{projectGeometry as r}from\"../../../../portal/support/geometryServiceUtils.js\";function l(l){const t=l.view.spatialReference,o=l.layer.fullExtent,s=null!=o&&o.spatialReference;if(null==o||!s)return Promise.resolve(null);if(s.equals(t))return Promise.resolve(o.clone());const n=e(o,t);return null!=n?Promise.resolve(n):l.view.state.isLocal?r(o,t,l.layer.portalItem).then((e=>!l.destroyed&&e?e:null)).catch((()=>null)):Promise.resolve(null)}export{l as toViewIfLocal};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{ShaderOutput as t}from\"../core/shaderLibrary/ShaderOutput.js\";import{NoParameters as r}from\"../core/shaderModules/interfaces.js\";import{ReloadableShaderModule as o}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as i}from\"../core/shaderTechnique/ShaderTechnique.js\";import{parameter as s}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{CullFaceOptions as n}from\"../lib/basicInterfaces.js\";import{oitBlending as a,oitDepthTest as l,oitDepthWrite as p,getOITPolygonOffset as c}from\"../lib/OrderIndependentTransparency.js\";import{Program as u}from\"../lib/Program.js\";import{stencilWriteMaskOn as h,stencilToolMaskBaseParams as d,stencilBaseAllZerosParams as m}from\"../lib/StencilUtils.js\";import{TransparencyPassType as f}from\"../lib/TransparencyPassType.js\";import{VertexAttribute as y}from\"../lib/VertexAttribute.js\";import{DefaultTechniqueConfiguration as b}from\"../materials/DefaultTechniqueConfiguration.js\";import{I as P}from\"../../../../chunks/ImageMaterial.glsl.js\";import{BlendFactor as g}from\"../../../webgl/enums.js\";import{simpleBlendingParams as T,makePipelineState as O,cullingParams as j,defaultDepthWriteParams as S,defaultColorWriteParams as v}from\"../../../webgl/renderState.js\";class I extends r{}class N extends i{initializeProgram(e){return new u(e.rctx,N.shader.get().build(this.configuration),_)}_setPipelineState(e,r){const o=this.configuration,i=e===f.NONE,s=e===f.FrontFace;return O({blending:o.output!==t.Color&&o.output!==t.Alpha||!o.transparent?null:i?E:a(e),culling:j(o.cullFace),depthTest:{func:l(e)},depthWrite:i?o.writeDepth?S:null:p(e),colorWrite:v,stencilWrite:o.hasOccludees?h:null,stencilTest:o.hasOccludees?r?d:m:null,polygonOffset:i||s?null:c(o.enableOffset)})}initializePipeline(){return this._occludeePipelineState=this._setPipelineState(this.configuration.transparencyPassType,!0),this._setPipelineState(this.configuration.transparencyPassType,!1)}getPipeline(e){return e?this._occludeePipelineState:super.getPipeline()}}N.shader=new o(P,(()=>import(\"./ImageMaterial.glsl.js\")));const E=T(g.ONE,g.ONE_MINUS_SRC_ALPHA);class C extends b{constructor(){super(...arguments),this.output=t.Color,this.cullFace=n.None,this.hasSlicePlane=!1,this.transparent=!1,this.enableOffset=!0,this.writeDepth=!0,this.hasOccludees=!1,this.transparencyPassType=f.NONE,this.multipassEnabled=!1,this.cullAboveGround=!1,this.perspectiveInterpolation=!0}}e([s({count:t.COUNT})],C.prototype,\"output\",void 0),e([s({count:n.COUNT})],C.prototype,\"cullFace\",void 0),e([s()],C.prototype,\"hasSlicePlane\",void 0),e([s()],C.prototype,\"transparent\",void 0),e([s()],C.prototype,\"enableOffset\",void 0),e([s()],C.prototype,\"writeDepth\",void 0),e([s()],C.prototype,\"hasOccludees\",void 0),e([s({count:f.COUNT})],C.prototype,\"transparencyPassType\",void 0),e([s()],C.prototype,\"multipassEnabled\",void 0),e([s()],C.prototype,\"cullAboveGround\",void 0),e([s()],C.prototype,\"perspectiveInterpolation\",void 0),e([s({constValue:!1})],C.prototype,\"occlusionPass\",void 0);const _=new Map([[y.POSITION,0],[y.UV0,2],[y.PERSPECTIVEDIVIDE,3]]);export{I as ImageMaterialPassParameters,N as ImageMaterialTechnique,C as ImageMaterialTechniqueConfiguration,_ as vertexAttributeLocations};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{BufferViewFloat as t}from\"../../../../geometry/support/buffer/BufferView.js\";import{ShaderOutput as e,isColorOrAlpha as r,isColorAlphaOrHighlight as s}from\"../core/shaderLibrary/ShaderOutput.js\";import{CullFaceOptions as a}from\"../lib/basicInterfaces.js\";import{GLTextureMaterial as i}from\"../lib/GLTextureMaterial.js\";import{MaterialParameters as n}from\"../lib/Material.js\";import{OITPolygonOffsetLimit as o}from\"../lib/OrderIndependentTransparency.js\";import{RenderSlot as p}from\"../lib/RenderSlot.js\";import{assert as u}from\"../lib/Util.js\";import{VertexAttribute as c}from\"../lib/VertexAttribute.js\";import{DefaultBufferWriter as l}from\"./DefaultBufferWriter.js\";import{PositionUVLayout as h}from\"./DefaultLayouts.js\";import{TriangleMaterial as m}from\"./TriangleMaterial.js\";import{writeBufferFloat as f,writeDefaultAttribute as d}from\"./internal/bufferWriterUtils.js\";import{vertexAttributeLocations as _,ImageMaterialTechniqueConfiguration as g,ImageMaterialTechnique as E}from\"../shaders/ImageMaterialTechnique.js\";class T extends m{constructor(t){super(t,new A),this.supportsEdges=!0,this.produces=new Map([[p.OPAQUE_MATERIAL,t=>t===e.Highlight||r(t)&&!this.parameters.transparent],[p.TRANSPARENT_MATERIAL,t=>r(t)&&this.parameters.transparent&&this.parameters.writeDepth],[p.TRANSPARENT_DEPTH_WRITE_DISABLED_MATERIAL,t=>r(t)&&this.parameters.transparent&&!this.parameters.writeDepth],[p.DRAPED_MATERIAL,t=>s(t)]]),this._vertexAttributeLocations=_,this._configuration=new g}getConfiguration(t,e){return this._configuration.output=t,this._configuration.cullFace=this.parameters.cullFace,this._configuration.hasSlicePlane=this.parameters.hasSlicePlane,this._configuration.transparent=this.parameters.transparent,this._configuration.writeDepth=this.parameters.writeDepth,this._configuration.hasOccludees=this.parameters.hasOccludees,this._configuration.transparencyPassType=e.transparencyPassType,this._configuration.enableOffset=e.camera.relativeElevation<o,this._configuration.multipassEnabled=e.multipassEnabled,this._configuration.cullAboveGround=e.multipassTerrain.cullAboveGround,this._configuration.perspectiveInterpolation=this.parameters.perspectiveInterpolation,this._configuration}createGLMaterial(t){return new I(t)}createBufferWriter(){const t=h.clone();return this.parameters.perspectiveInterpolation&&t.f32(c.PERSPECTIVEDIVIDE),new b(t)}}class I extends i{constructor(t){super({...t,...t.material.parameters})}_updateParameters(t){return this.updateTexture(this._material.parameters.textureId),this._material.setParameters(this.textureBindParameters),this.ensureTechnique(E,t)}_updateOccludeeState(t){t.hasOccludees!==this._material.parameters.hasOccludees&&(this._material.setParameters({hasOccludees:t.hasOccludees}),this._updateParameters(t))}beginSlot(t){return this._output!==e.Color&&this._output!==e.Alpha||this._updateOccludeeState(t),this._updateParameters(t)}}class b extends l{write(e,r,s,a,i){for(const n of this.vertexBufferLayout.fields.keys()){const o=s.attributes.get(n);if(o)if(n===c.PERSPECTIVEDIVIDE){u(1===o.size);const e=a.getField(n,t);e&&f(o,e,i)}else d(n,o,e,r,a,i)}}}class A extends n{constructor(){super(...arguments),this.transparent=!1,this.writeDepth=!0,this.hasSlicePlane=!1,this.cullFace=a.None,this.hasOccludees=!1,this.opacity=1,this.textureId=null,this.initTextureTransparent=!0,this.perspectiveInterpolation=!1}}export{T as ImageMaterial,A as Parameters};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Accessor.js\";import r from\"../../core/Evented.js\";import{IdentifiableMixin as s}from\"../../core/Identifiable.js\";import i from\"../../core/Logger.js\";import{destroyMaybe as o}from\"../../core/maybe.js\";import{EsriPromiseMixin as n}from\"../../core/Promise.js\";import{property as a}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import{subclass as l}from\"../../core/accessorSupport/decorators/subclass.js\";import{UpdatingHandles as p}from\"../../core/support/UpdatingHandles.js\";let d=class extends(s(n(r.EventedMixin(t)))){constructor(e){super(e),this._updatingHandles=new p,this.layer=null,this.parent=null}initialize(){this.when().catch((e=>{if(\"layerview:create-error\"!==e.name){const t=this.layer&&this.layer.id||\"no id\",r=this.layer?.title||\"no title\";i.getLogger(this).error(\"#resolve()\",`Failed to resolve layer view (layer title: '${r}', id: '${t}')`,e)}}))}destroy(){this._updatingHandles=o(this._updatingHandles)}get fullOpacity(){return(this.layer?.opacity??1)*(this.parent?.fullOpacity??1)}get suspended(){return!this.canResume()}get suspendInfo(){return this.getSuspendInfo()}get legendEnabled(){return!this.suspended&&!0===this.layer?.legendEnabled}get updating(){return!(!this._updatingHandles?.updating&&!this.isUpdating())}get updatingProgress(){return this.updating?0:1}get visible(){return!0===this.layer?.visible}set visible(e){this._overrideIfSome(\"visible\",e)}canResume(){return this.visible&&this.layer?.loaded&&!this.parent?.suspended&&this.view?.ready||!1}getSuspendInfo(){const e=this.parent?.suspended?this.parent.suspendInfo:{},t=this;return t.view?.ready||(e.viewNotReady=!0),this.layer&&this.layer.loaded||(e.layerNotLoaded=!0),this.visible||(e.layerInvisible=!0),e}isUpdating(){return!1}};e([a()],d.prototype,\"fullOpacity\",null),e([a()],d.prototype,\"layer\",void 0),e([a()],d.prototype,\"parent\",void 0),e([a({readOnly:!0})],d.prototype,\"suspended\",null),e([a({readOnly:!0})],d.prototype,\"suspendInfo\",null),e([a({readOnly:!0})],d.prototype,\"legendEnabled\",null),e([a({type:Boolean,readOnly:!0})],d.prototype,\"updating\",null),e([a({readOnly:!0})],d.prototype,\"updatingProgress\",null),e([a()],d.prototype,\"visible\",null),e([a()],d.prototype,\"view\",void 0),d=e([l(\"esri.views.layers.LayerView\")],d);const u=d;export{u as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import e from\"../../core/Logger.js\";import{isAbortError as s}from\"../../core/promiseUtils.js\";import{on as o}from\"../../core/reactiveUtils.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import\"../../core/Error.js\";import{subclass as t}from\"../../core/accessorSupport/decorators/subclass.js\";const i=i=>{let a=class extends i{initialize(){this.addHandles(o((()=>this.layer),\"refresh\",(r=>{this.doRefresh(r.dataChanged).catch((r=>{s(r)||e.getLogger(this).error(r)}))})),\"RefreshableLayerView\")}};return a=r([t(\"esri.layers.mixins.RefreshableLayerView\")],a),a};export{i as default};\n"],"names":["v","m","n","vertex","f","fragment","u","t","include","i","attributes","add","c","POSITION","UV0","perspectiveInterpolation","PERSPECTIVEDIVIDE","varyings","multipassEnabled","code","l","r","o","uniforms","p","e","texture","d","opacity","output","Alpha","float","s","a","transparencyPassType","g","Color","Object","freeze","defineProperty","__proto__","build","Symbol","toStringTag","value","h","Math","min","max","w","b","y","j","Array","A","M","x","O","G","I","length","NORMAL","V","S","T","constructor","super","arguments","this","drapeSourceType","RasterImage","updatePolicy","SYNC","fullExtentInLocalViewSpatialReference","maximumDataResolution","_images","_extents","_overlays","updateWhenStationary","_drapeSourceRenderer","refreshDebounced","async","destroyed","_doRefresh","catch","getLogger","error","initialize","view","basemapTerrain","overlayManager","registerGeometryDrapeSource","addHandles","unregisterDrapeSource","addResolvingPromise","then","_set","_updatingHandles","suspended","_suspendedChangeHandler","resourceController","scheduler","registerIdleStateCallbacks","_isScaleRangeActive","notifyChange","_isScaleRangeLayer","layer","effectiveScaleRange","destroy","clear","setDrapingExtent","_spatialReference","forEach","_updateImageExtent","_clippedExtent","extent","z","width","height","round","resolution","pixelRatio","state","imageMaxWidth","imageMaxHeight","floor","_imageSizeEquals","imageSize","_fetch","_clearImage","doRefresh","push","Promise","allSettled","canResume","minScale","maxScale","scale","processResult","HTMLImageElement","HTMLCanvasElement","image","findExtentInfoAt","contains","getFetchOptions","redraw","_createStageObjects","_","abs","TESTS_DISABLE_OPTIMIZATIONS","material","renderGeometry","loadingPromise","loadingAbortController","pixelData","renderExtent","AbortController","abort","signal","_waitFetchReady","requestAsImageElement","fetchImage","warnOnce","addPromise","finally","removeGeometries","D","UPDATE","_stage","unload","remove","C","preMultiplyAlpha","wrap","U","CLAMP_TO_EDGE","L","INNER","OUTER","schedule","load","renderView","renderingContext","P","transparent","textureId","id","setParameters","E","localOrigin","renderLocalOrigin","addGeometries","H","viewingMode","ready","R","stationary","prototype","readOnly","N","slicePlaneEnabled","supportsHeightUnitConversion","postscript","_validateHeightModelInfo","defaultsFromMap","heightModelInfoReady","heightModelInfo","getSuspendInfo","outsideScaleRange","spatialReference","fullExtent","resolve","equals","clone","isLocal","portalItem","initializeProgram","rctx","shader","get","configuration","_setPipelineState","NONE","FrontFace","blending","culling","cullFace","depthTest","func","depthWrite","writeDepth","colorWrite","stencilWrite","hasOccludees","stencilTest","polygonOffset","enableOffset","initializePipeline","_occludeePipelineState","getPipeline","ONE","ONE_MINUS_SRC_ALPHA","None","hasSlicePlane","cullAboveGround","count","COUNT","constValue","Map","supportsEdges","produces","OPAQUE_MATERIAL","Highlight","parameters","TRANSPARENT_MATERIAL","TRANSPARENT_DEPTH_WRITE_DISABLED_MATERIAL","DRAPED_MATERIAL","_vertexAttributeLocations","_configuration","getConfiguration","camera","relativeElevation","multipassTerrain","createGLMaterial","createBufferWriter","f32","_updateParameters","updateTexture","_material","textureBindParameters","ensureTechnique","_updateOccludeeState","beginSlot","_output","write","vertexBufferLayout","fields","keys","size","getField","initTextureTransparent","EventedMixin","parent","when","name","title","fullOpacity","suspendInfo","legendEnabled","updating","isUpdating","updatingProgress","visible","_overrideIfSome","loaded","viewNotReady","layerNotLoaded","layerInvisible","type","Boolean","dataChanged"],"sourceRoot":""}