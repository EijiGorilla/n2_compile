{"version":3,"file":"static/js/6641.605893f9.chunk.js","mappings":";kKASA,MAAMA,EAAe,OACfC,EAAgC,QAChCC,EAA+B,QAC/BC,EAA+B,QAC/BC,EAA+B,SAC/BC,EAA+B,oQCWrC,MAAMC,EACI,WAEV,SAASC,EAAOC,GAAiD,IAAhD,SAAEC,EAAQ,IAAEC,EAAG,MAAEC,EAAK,QAAEC,EAAO,IAAEC,EAAG,MAAEC,GAAQN,EAC7D,OAAQO,EAAAA,EAAAA,GAAE,SAAU,CAAE,aAAcJ,EAAOK,MAAOV,EAAYG,SAAUA,EAAUC,IAAKA,EAAKE,QAASA,EAASK,UAAW,EAAGC,KAAM,SAEhIL,IAAKA,IACLE,EAAAA,EAAAA,GAAE,eAAgB,CAAEI,KAAM,IAAKL,OAAOM,EAAAA,EAAAA,GAAaN,KACvD,CAEA,MAGMO,EAAgB,iBAChBC,EAAgB,iBAChBC,EAAiB,kBACjBC,EAAmB,oBACnBC,EAAiB,kBACjBC,GAAyBC,EAAAA,EAAAA,IAAmB,cAAcC,EAAAA,GAC9DC,WAAAA,GACEC,QACAC,KAAKC,iBACLD,KAAKE,iBACLF,KAAKG,uBAAwBC,EAAAA,EAAAA,IAAYJ,KAAM,wBAAyB,GACxEA,KAAKK,6BAA8BD,EAAAA,EAAAA,IAAYJ,KAAM,8BAA+B,GACpFA,KAAKM,0BAA2BF,EAAAA,EAAAA,IAAYJ,KAAM,2BAA4B,GAC9EA,KAAKO,4BAA6BH,EAAAA,EAAAA,IAAYJ,KAAM,6BAA8B,GAClFA,KAAKQ,sBAAuBJ,EAAAA,EAAAA,IAAYJ,KAAM,uBAAwB,GACtEA,KAAKS,2BAA4BL,EAAAA,EAAAA,IAAYJ,KAAM,4BAA6B,GAChFA,KAAKU,qBAAsBN,EAAAA,EAAAA,IAAYJ,KAAM,sBAAuB,GACpEA,KAAKW,UAAYC,EAAAA,EACjBZ,KAAKa,yBAA0B,EAC/Bb,KAAKc,UAAY,KACjBd,KAAKe,kBAAmBC,EAAAA,EAAAA,GAAe,YAAY,IAAMhB,KAAKiB,gBAC9DjB,KAAKkB,gBAAiBF,EAAAA,EAAAA,GAAe,UAAU,KAC7ChB,KAAKmB,uBACLnB,KAAKoB,yBAAyB,IAEhCpB,KAAKqB,MAAOA,EAAAA,EAAAA,KACZrB,KAAKsB,YAAc,EACnBtB,KAAKuB,0BAA2B,EAChCvB,KAAKwB,mBAAqB,UAC1BxB,KAAKyB,sBAAwB,KAC3B,MAAM,GAAEC,EAAE,eAAEC,GAAmB3B,KAC/BA,KAAK4B,uBAAyBD,GAC1BE,EAAAA,EAAAA,GAAyBF,EAAgBD,GACzC,IAAI,EAEV1B,KAAK8B,SAAW,KACd,MAAMC,EAAQ/B,KAAKgC,cAAcC,KAAKC,GAASA,GAAMC,OAAOC,aAC5D,OAAOL,GAAOM,OAAUN,EAAMM,OAAS,EAAIN,EAAQA,EAAM,GAAM,EAAE,EAEnE/B,KAAKsC,aAAe,KAClBtC,KAAKuC,UAAU,EAEjBvC,KAAKwC,eAAkBC,IACrB,MAAM,IAAE9D,GAAQ8D,EAChB,OAAQ9D,GACN,IAAK,MACHqB,KAAK0C,iBAAmB,EACxB1C,KAAK2C,iBAAmB,EACpB3C,KAAK4C,mBAAqB5C,KAAK6C,MACjC7C,KAAK8C,cAAc9C,KAAK6C,MAAM,GAC9BJ,EAAMM,kBAEC/C,KAAKgD,MACZhD,KAAKgD,MAAO,EACZP,EAAMM,mBAEE/C,KAAK4C,mBAAqB5C,KAAK6C,OACvC7C,KAAKiD,kBACLjD,KAAKkD,YAAY,IACjBlD,KAAKmD,uBAAuB,IAE9B,MACF,IAAK,YACHnD,KAAKoD,eACLX,EAAMM,iBACN,MACF,IAAK,aACH/C,KAAKqD,WACLZ,EAAMM,iBACN,MACF,IAAK,UACHN,EAAMM,iBACF/C,KAAKgD,MACPhD,KAAKsD,sBAAsB,GAExBtD,KAAKuD,sBACRvD,KAAK0B,GAAG8B,iBAEV,MACF,IAAK,YACHf,EAAMM,iBACF/C,KAAKgD,KACPhD,KAAKsD,qBAAqB,IAG1BtD,KAAKgD,MAAO,EACZhD,KAAKyD,oCAEFzD,KAAKuD,sBACRvD,KAAK0B,GAAG8B,iBAEV,MACF,IAAK,IACExD,KAAKc,UAAUqB,QACbnC,KAAKgD,OACRhD,KAAKgD,MAAO,EACZhD,KAAKsD,qBAAqB,IAE5Bb,EAAMM,kBAER,MACF,IAAK,OACH,IAAK/C,KAAKgD,KACR,OAEFP,EAAMM,iBACN/C,KAAKmD,sBAAsB,GAC3BnD,KAAK0D,qBACA1D,KAAKuD,sBACRvD,KAAK0B,GAAG8B,iBAEV,MACF,IAAK,MACH,IAAKxD,KAAKgD,KACR,OAEFP,EAAMM,iBACN/C,KAAKmD,sBAAsBnD,KAAK2D,cAActB,OAAS,GACvDrC,KAAK0D,qBACA1D,KAAKuD,sBACRvD,KAAK0B,GAAG8B,iBAEV,MACF,IAAK,SACExD,KAAK4D,eAAkB5D,KAAKgD,MAC/BhD,KAAK6D,aAEP7D,KAAKgD,MAAO,EACZP,EAAMM,iBACN,MACF,IAAK,QACC/C,KAAK2C,iBAAmB,GAC1B3C,KAAK8D,gBAAgB9D,KAAK2D,cAAc3D,KAAK2C,kBAC7CF,EAAMM,kBAEC/C,KAAK0C,iBAAmB,GAC/B1C,KAAK+D,mBACLtB,EAAMM,kBAEC/C,KAAK4C,mBAAqB5C,KAAK6C,MACtC7C,KAAK8C,cAAc9C,KAAK6C,MAAM,GAC9BJ,EAAMM,kBAEEN,EAAMuB,mBACVC,EAAAA,EAAAA,GAAWjE,OACbyC,EAAMM,iBAGV,MACF,IAAK,SACL,IAAK,YACC/C,KAAK0C,iBAAmB,GAC1BD,EAAMM,iBACN/C,KAAK+D,qBAEG/D,KAAK6C,MAAQ7C,KAAKkE,YAC1BzB,EAAMM,iBACN/C,KAAKmE,kBAGX,EAEFnE,KAAKoE,eAAiB,KACpBpE,KAAKgD,MAAO,EACZhD,KAAK0B,GAAG2C,oBAAoB,uBAAwBrE,KAAKoE,eAAe,EAE1EpE,KAAKsE,cAAgB,KACnBtE,KAAKgD,MAAO,EACZhD,KAAK0B,GAAG2C,oBAAoB,sBAAuBrE,KAAKsE,cAAc,EAExEtE,KAAKmB,qBAAuBoD,UAC1B,MAAM,gBAAEC,EAAe,KAAExB,EAAI,YAAEyB,GAAgBzE,KAC/C,IAAKwE,IAAoBxB,EACvB,aAEIhD,KAAK0E,YAAW,GACtB,MAAMC,EAAoB3E,KAAK4E,uBAC/BJ,EAAgBK,MAAMC,UAAYH,EAAoB,EAAK,GAAEA,MAAwB,GACrFH,EAAgBK,MAAME,SAAY,GAAEN,EAAYO,sBAC1ChF,KAAK0E,YAAW,EAAK,EAE7B1E,KAAKiF,wBAA2BC,IAC9BlF,KAAKgD,MAAO,EACZ,MAAMmC,EAAYnF,KAAK+B,MAAMqD,MAAMlD,GAASA,IAASgD,IACjDC,GACFnF,KAAK8D,gBAAgBqB,GAAW,GAElCnF,KAAKM,yBAAyB+E,MAAM,EAEtCrF,KAAKsF,aAAgB7C,IACnB,MAAM8C,EAAe9C,EAAM8C,eAC3B,OAAIA,EAAaC,MAAMC,GAA0B,iBAAjBA,EAAKC,WACnC1F,KAAKgD,MAAO,OACZP,EAAMM,kBAGJwC,EAAaC,MAAMC,GAASA,EAAKE,WAAWC,SAASrH,MACvDyB,KAAK6D,kBACLpB,EAAMM,mBAGR/C,KAAKgD,MAAQhD,KAAKgD,UAClBhD,KAAKyD,mCAAkC,EAEzCzD,KAAKoB,wBAA0BmD,UAE7B,SADMsB,EAAAA,EAAAA,GAAgB7F,OAClB8F,EAAAA,EAAAA,GAAa9F,KAAK+F,eACpB,OAEF,IAAK/F,KAAKc,UACR,OAEF,MAAM,2BAAEkF,EAA0B,gBAAEC,EAAe,iBAAEC,EAAgB,YAAEC,EAAW,wBAAEC,EAAuB,UAAEtF,GAAed,KACtHqG,EAAqBC,SAASC,iBAAiBN,GAAiBO,IAAIC,QAAQ,KAAM,KAClFC,GAAuBC,EAAAA,EAAAA,GAAgBV,IACvC,SAAEW,EAAQ,WAAEC,GAAeN,iBAAiBzF,GAE5CgG,IADiBC,EAAAA,EAAAA,GAAaZ,EAAc,GAAES,KAAYC,MAC1BP,SAASrI,EAAAA,IAAiBoI,EAC1DW,GAAkCL,EAAAA,EAAAA,GAAgBX,GAClDiB,GAA+BN,EAAAA,EAAAA,GAAgBP,GAC/Cc,EAAoCC,KAAKC,IAAIJ,EAAiCC,GAOpF,GANAjH,KAAKqH,2BAA2B,CAC9BhB,qBACAK,uBACAI,aACAI,sCAEuB,QAArBhB,EAA4B,CAC9B,MAAMoB,EAAUC,MAAMC,KAAKxH,KAAK0B,GAAG+F,WAAWC,iBAAiB,iBAAiBC,QAAQC,GAAWA,EAAOC,WACpGC,EAAiCX,KAAKY,MAAMrB,IAC9C1G,KAAKgI,yBAA2B,EAAIf,EAA+B,GACnEZ,EACAS,EACAT,IACJrG,KAAKiI,mBAAmB,CAAEH,iCAAgCzB,qBAAoBiB,YAC9EtH,KAAKkI,yBAAyBZ,EAChC,GAEFtH,KAAKmI,cAAiBzG,IACpB1B,KAAKoI,WAAa1G,GAClB2G,EAAAA,EAAAA,GAAkBrI,KAAMA,KAAKyE,YAAazE,KAAKoI,WAAW,EAE5DpI,KAAKsI,eAAkB5G,IACrB1B,KAAKkB,eAAeqH,QAAQ7G,GAC5B1B,KAAKwE,gBAAkB9C,EACvB1B,KAAKwI,aAAe9G,CAAE,EAExB1B,KAAKyI,mBAAsB/G,IACzB1B,KAAKkB,eAAeqH,QAAQ7G,GAC5B1B,KAAKiG,gBAAkBvE,CAAE,EAE3B1B,KAAK0I,eAAkBhH,IACrB1B,KAAKyE,YAAc/C,GACnB2G,EAAAA,EAAAA,GAAkBrI,KAAMA,KAAKyE,YAAazE,KAAKoI,WAAW,EAE5DpI,KAAK2I,8BAAiCjH,IACpC1B,KAAKgG,2BAA6BtE,CAAE,EAEtC1B,KAAK4I,2BAA8BlH,IACjC1B,KAAKoG,wBAA0B1E,CAAE,EAEnC1B,KAAK6I,aAAgBpG,IACnB,MAAMN,EAAQM,EAAMqG,OAAO3G,MAC3BnC,KAAK6C,KAAOV,EACZnC,KAAKkD,YAAYf,GACbA,IACFnC,KAAK0C,iBAAmB,EAC1B,EAEF1C,KAAKkD,YAAc,MACjB,MAAMkC,EAAOA,CAAClD,EAAM6G,IAAiB7G,GACnC6G,EAAavD,MAAKwD,IAAA,IAAC,MAAEpK,EAAK,MAAEuD,GAAO6G,EAAA,OAAa9G,EAhR7BwD,UAAYuD,EAAAA,EAgRyBrK,IAAUsD,EAAKtD,MAAQuD,IAAUD,EAAKC,OAASvD,IAAUsD,EAAKgH,SAAS,IACjI,OAAOC,EAAAA,EAAAA,IAAUtG,IACf,MAAMkG,GAAepB,EAAAA,EAAAA,GAAO3H,KAAKoJ,KAAMvG,GAChB7C,KAAKqJ,oBACbC,SAASpH,IACtB,MAAMqH,GAAUnE,EAAKlD,EAAM6G,GAC3B7G,EAAKqH,OAASA,EACd,MAAOC,EAAQC,GAAevH,EAAKwH,WAC/BtE,EAAKoE,EAAQT,IAAiB3D,EAAKqE,EAAaV,MAClD7G,EAAKqH,QAAS,GAEXA,GACHrH,EAAKwH,UAAUJ,SAASK,GAAcA,EAASJ,QAAS,GAC1D,IAEFvJ,KAAK2D,cAAgB3D,KAAK4J,mBAC1B5J,KAAKK,4BAA4BgF,MAAM,GACtC,IACJ,EApBkB,GAqBnBrF,KAAK6J,4BAA8B,KACjC7J,KAAKG,sBAAsBkF,MAAM,EAEnCrF,KAAK8J,oBAAqBX,EAAAA,EAAAA,GAASnJ,KAAK6J,4BAA6B,GACrE7J,KAAK+J,iBAAmB,KACtB,IAAK/J,KAAKkE,UAAW,CACnB,MAAM8F,EAAQhK,KAAK+B,MAAMqD,MAAK6E,IAAA,IAAC,SAAEC,GAAUD,EAAA,OAAKC,CAAQ,IACxD,OAAOF,EAAQ,CAACA,GAAS,EAC3B,CACA,OAAQhK,KAAK+B,MACV4F,QAAQzF,GAASA,EAAKgI,WAAoC,cAAvBlK,KAAK+F,iBAAkCoE,EAAAA,EAAAA,GAAkBjI,MAE5FkI,MAAK,CAACC,EAAGC,KACV,MAAMC,EAAOvK,KAAKgC,cAAcwI,QAAQH,GAClCI,EAAOzK,KAAKgC,cAAcwI,QAAQF,GACxC,OAAIC,GAAQ,GAAKE,GAAQ,EAChBF,EAAOE,EAETA,EAAOF,CAAI,GAClB,EAEJvK,KAAKiB,YAAc,KACjBjB,KAAK+B,MAAQ/B,KAAK0K,WAClB1K,KAAK2K,WAAa3K,KAAK4K,gBACvB5K,KAAKoJ,KAAOpJ,KAAK6K,UACjB7K,KAAKgC,cAAgBhC,KAAK+J,mBAC1B/J,KAAK2D,cAAgB3D,KAAK4J,mBAC1B5J,KAAK8K,UAAY9K,KAAK+K,eACtB/K,KAAK+B,MAAMuH,SAASpH,IAClBA,EAAK6D,cAAgB/F,KAAK+F,cAC1B7D,EAAKnD,MAAQiB,KAAKjB,KAAK,IAEpBiB,KAAK4C,mBACR5C,KAAKmB,uBAEPnB,KAAK2K,WAAWrB,SAAQ,CAAC0B,EAAWC,EAAOlJ,KAC3B,IAAVkJ,IACFD,EAAUE,iBAAkB,GAE9B,MAAMC,EAAgBpJ,EAAMkJ,EAAQ,GAChCE,IACFA,EAAcD,gBAAgD,IAA9BF,EAAUI,SAAS/I,OACrD,GACA,EAEJrC,KAAK0D,mBAAqB,KACxB,MAAM2H,EAAarL,KAAK2D,cAAc3D,KAAK2C,iBAC3C,IAAK0I,EACH,OAEF,MAAMC,EAAStL,KAAKuL,0BAA0BF,IACxC,aAAEG,EAAY,UAAEC,GAAczL,KAAKwE,gBACrCgH,EAAeC,EAAYJ,EAAWK,UAAYJ,EACpDtL,KAAKwE,gBAAgBiH,UAAYJ,EAAWK,UAAYF,EAAeF,EAEhED,EAAWK,UAAYD,IAC9BzL,KAAKwE,gBAAgBiH,UAAYJ,EAAWK,UAC9C,EAEF1L,KAAK2L,qBAAuB,KACtB3L,KAAKtB,UAGTsB,KAAKc,WAAW8K,OAAO,EAEzB5L,KAAK4D,eAAgB,EACrB5D,KAAKkG,iBAAmB,MACxBlG,KAAKgD,MAAO,EACZhD,KAAKtB,UAAW,EAChBsB,KAAK6L,UAAOC,EACZ9L,KAAKpB,WAAQkN,EACb9L,KAAKmG,iBAAc2F,EACnB9L,KAAK+L,qBAAkBD,EACvB9L,KAAKgM,wBAAyB,EAC9BhM,KAAKiM,SAAW,EAChBjM,KAAKkM,UAAOJ,EACZ9L,KAAK4C,uBAAoBkJ,EACzB9L,KAAKmM,mBAAqB,WAC1BnM,KAAKoM,UAAW,EAChBpM,KAAK+F,cAAgB,WACrB/F,KAAKjB,MAAQ,IACbiB,KAAKmC,MAAQ,KACbnC,KAAK2B,oBAAiBmK,EACtB9L,KAAKqM,cAAWP,EAChB9L,KAAKsM,sBAAmBR,EACxB9L,KAAKgC,cAAgB,GACrBhC,KAAK2D,cAAgB,GACrB3D,KAAK+B,MAAQ,GACb/B,KAAK2K,WAAa,GAClB3K,KAAK8K,eAAYgB,EACjB9L,KAAK2C,iBAAmB,EACxB3C,KAAK0C,iBAAmB,EACxB1C,KAAKuM,iBAAmB,GACxBvM,KAAKwM,yBAA0B,EAC/BxM,KAAKgI,yBAA2B,EAChChI,KAAKyM,0BAA4B,EACjCzM,KAAK6C,KAAO,GACZ7C,KAAK0M,qBAAkBZ,EACvB9L,KAAK2M,qBAAkBb,CACzB,CACAc,WAAAA,IACEC,EAAAA,EAAAA,GAA2B7M,MACvBA,KAAKtB,SACPsB,KAAKgD,MAAO,EAGdhD,KAAKmB,sBACP,CACA2L,oBAAAA,CAAqB3K,GACdA,IACHnC,KAAKgD,MAAO,EAEhB,CACA+J,eAAAA,GACE/M,KAAKmB,sBACP,CACA6L,yBAAAA,GACEhN,KAAK0E,YAAW,EAClB,CACAuI,iBAAAA,GACEjN,KAAKiB,aACP,CACAiM,YAAAA,CAAa/K,GACX,IAAKnC,KAAKa,wBAAyB,CACjC,MAAMkB,EAAQ/B,KAAK0K,WACfnD,MAAM4F,QAAQhL,GAChBJ,EAAMuH,SAASpH,GAAUA,EAAKgI,SAAW/H,EAAMiL,SAASlL,EAAKC,SAEtDA,EACPJ,EAAMuH,SAASpH,GAAUA,EAAKgI,SAAW/H,IAAUD,EAAKC,QAGxDJ,EAAMuH,SAASpH,GAAUA,EAAKgI,UAAW,IAE3ClK,KAAKiB,aACP,CACF,CACAoM,gBAAAA,GACE,CAEFC,qBAAAA,GACEtN,KAAKyB,wBACLzB,KAAK0E,YAAW,EAClB,CACA6I,oBAAAA,GACEvN,KAAKa,yBAA0B,EAC/Bb,KAAKmC,MAAQnC,KAAK8B,WAClB9B,KAAKa,yBAA0B,CACjC,CAMA2M,oBAAAA,CAAqB/K,GACnB,GAAIzC,KAAKtB,YAAa+O,EAAAA,EAAAA,GAAuBhL,GAC3C,OAEF,MAAM8C,EAAe9C,EAAM8C,eACvBA,EAAa6H,SAASpN,KAAK0B,KAAO6D,EAAa6H,SAASpN,KAAKyE,gBAG5DzE,KAAK4C,mBAAqB5C,KAAKc,UAAUqB,QAC5CnC,KAAKiD,kBACLjD,KAAKkD,YAAY,IACjBlD,KAAKmD,uBAAuB,IAE1BnD,KAAK4C,mBAAqB5C,KAAK6C,KAAK6K,OAAOrL,QAC7CrC,KAAK8C,cAAc9C,KAAK6C,MAE1B7C,KAAKgD,MAAO,EACd,CACA2K,gCAAAA,CAAiClL,GAC/B,GAAIzC,KAAKuB,yBACP,OAEF,MAAMuH,EAASrG,EAAMqG,OACf8E,EAAW5N,KAAK2D,cAAc6G,QAAQ1B,GAC5C9I,KAAKmD,sBAAsByK,GAC3B5N,KAAK8D,gBAAgBgF,EAAQA,EAAOoB,SACtC,CAYA,gBAAMxF,GAA4B,IAAjBmJ,EAAOC,UAAAzL,OAAA,QAAAyJ,IAAAgC,UAAA,IAAAA,UAAA,GACtB,MAAM,WAAE1F,EAAU,YAAE3D,EAAW,UAAE9D,EAAS,mBAAEwL,EAAkB,uBAAEvK,GAA2B5B,KAC3F,OAAO0E,EAAAA,EAAAA,GAAW1E,KAAM,CACtBoI,aACA3D,cACA0H,qBACAxL,YACAgB,eAAgBC,EAChBzC,KAAM,QACL0O,EACL,CAEA,cAAMtL,SACEwL,EAAAA,EAAAA,GAAmB/N,MACzBA,KAAKc,WAAW8K,QAChB5L,KAAK0C,iBAAmB,EACxB1C,KAAK2C,iBAAmB,CAC1B,CAMAqL,iBAAAA,IACEC,EAAAA,EAAAA,GAAmBjO,OACnBkO,EAAAA,EAAAA,GAAiBlO,OACjBmO,EAAAA,EAAAA,GAAgBnO,OAChBoO,EAAAA,EAAAA,GAAapO,OACbqO,EAAAA,EAAAA,GAAYrO,MACZA,KAAKa,yBAA0B,EAC/Bb,KAAKmC,MAAQnC,KAAK8B,WAClB9B,KAAKa,yBAA0B,EAC/Bb,KAAKe,kBAAkBwH,QAAQvI,KAAK0B,GAAI,CAAE4M,WAAW,EAAMC,SAAS,IACpEvO,KAAKiB,cACLjB,KAAKyB,wBACLzB,KAAK0E,YAAW,GACZ1E,KAAKgD,OACPhD,KAAK4M,eACLC,EAAAA,EAAAA,GAA2B7M,MAE/B,CACA,uBAAMwO,IACJC,EAAAA,EAAAA,GAAuBzO,MACvBA,KAAKiB,oBACCyN,EAAAA,EAAAA,GAAc1O,KACtB,CACA2O,gBAAAA,IACEC,EAAAA,EAAAA,GAA4B5O,KAAMA,KAAK8B,YACvC9B,KAAK0E,YAAW,IAChBmK,EAAAA,EAAAA,GAAmB7O,KACrB,CACA8O,kBAAAA,GACM9O,KAAK0B,GAAG8J,eAAiBxL,KAAKsB,cAChCtB,KAAK0E,YAAW,GAChB1E,KAAKsB,YAActB,KAAK0B,GAAG8J,eAE7BuD,EAAAA,EAAAA,GAAsB/O,KACxB,CACAgP,kBAAAA,GACEhP,KAAKoB,yBACP,CACA6N,oBAAAA,GACEjP,KAAKe,kBAAkBmO,aACvBlP,KAAKkB,gBAAgBgO,cACrBC,EAAAA,EAAAA,GAAsBnP,OACtBoP,EAAAA,EAAAA,GAAgBpP,OAChBqP,EAAAA,EAAAA,GAAerP,OACfsP,EAAAA,EAAAA,GAAqBtP,KAAMA,KAAKyE,YAAazE,KAAKoI,aAClDmH,EAAAA,EAAAA,GAAoBvP,OACpBwP,EAAAA,EAAAA,GAAmBxP,KACrB,CAEAyP,WAAAA,GACEzP,KAAKmD,uBAAuB,EAC9B,CACAuM,qBAAAA,IACEC,EAAAA,EAAAA,GAAe3P,KAAMA,KAAK0M,gBAC5B,CAMA7I,UAAAA,GACE7D,KAAKuB,0BAA2B,EAChCvB,KAAK+B,MAAMuH,SAAS5H,GAAQA,EAAGwI,UAAW,IAC1ClK,KAAKuB,0BAA2B,EAChCvB,KAAKgC,cAAgB,GACrBhC,KAAK8J,qBACL9J,KAAKgD,MAAO,EACZhD,KAAKmD,uBAAuB,GAC5BnD,KAAK4P,YACL5P,KAAKkD,YAAY,IACjBlD,KAAKuC,UACP,CACAU,eAAAA,GACEjD,KAAKc,UAAUqB,MAAQ,GACvBnC,KAAK6C,KAAO,EACd,CACAU,kBAAAA,GACE,MAAMsM,EAAW7P,KAAK0B,GAAGoO,wBACzB,OAAQD,EAASE,KAAO,GACtBF,EAASG,MAAQ,GACjBH,EAASI,QAAUC,OAAOC,YAAcC,SAASC,gBAAgBrL,cACjE6K,EAASS,SAAWJ,OAAOK,aAAeH,SAASC,gBAAgBG,aACvE,CACAC,YAAAA,GACEzQ,KAAK0D,qBACL1D,KAAKS,0BAA0B4E,MACjC,CACAqL,MAAAA,GACE1Q,KAAKU,oBAAoB2E,MAC3B,CACAsL,aAAAA,GACE3Q,KAAKO,2BAA2B8E,MAClC,CACAuL,OAAAA,GACE5Q,KAAKQ,qBAAqB6E,MAC5B,CACA5B,gCAAAA,GACE,MAAM,cAAEzB,GAAkBhC,KACpB6Q,EAAuC,IAAzB7O,EAAcK,OAAe,EAAIrC,KAAK+B,MAAMyI,QAAQxI,EAAcA,EAAcK,OAAS,IAC7GrC,KAAKmD,sBAAsB0N,EAC7B,CACAC,QAAAA,CAASlJ,GACPA,EAAOjC,UAAUoL,IAAIC,EAAAA,EAAMC,cAC7B,CACAC,QAAAA,CAAStJ,GACPA,EAAOjC,UAAUwL,OAAOH,EAAAA,EAAMC,cAChC,CACAhJ,kBAAAA,CAAkBmJ,GAAmE,IAAlE,QAAE9J,EAAO,+BAAEQ,EAA8B,mBAAEzB,GAAqB+K,EACjF9J,EAAQgC,SAAS1B,IACf,GAAKA,EAAOsC,SAGP,CACH,MAAMmH,GAAc1K,EAAAA,EAAAA,GAAgBiB,GACpC,GAAIyJ,GAAeA,EAAcvJ,EAG/B,OAFAA,GAAkCuJ,EAAchL,OAChDrG,KAAKkR,SAAStJ,EAGlB,MATE5H,KAAK8Q,SAASlJ,GAUhB5H,KAAK8Q,SAASlJ,EAAO,GAEzB,CACAP,0BAAAA,CAA0BiK,GAA+F,IAA9F,mBAAEjL,EAAkB,qBAAEK,EAAoB,WAAEI,EAAU,kCAAEI,GAAoCoK,EACrH,MAAMC,EAAuBpK,KAAKY,MAAMb,EAAoCb,EAAqBS,KAC5F9G,KAAKwR,sBAAwBxR,KAAKwR,qBAAuBD,KAC5DvR,KAAKwR,qBAAuBD,GAE9BvR,KAAKwM,wBAA0B9F,EAAuB1G,KAAKwR,oBAC7D,CACAtJ,wBAAAA,CAAyBZ,GACvB,IAAImK,EAA+B,EACnCnK,EAAQgC,SAAS1B,IACXA,EAAOsC,WAAatC,EAAOjC,UAAUC,SAASoL,EAAAA,EAAMC,gBACtDQ,GACF,IAEEA,IAAiCzR,KAAKyM,4BACxCzM,KAAKyM,0BAA4BgF,GAEnC,MAAMC,EAA8B1R,KAAK+J,mBAAmB1H,OAASoP,EACjEC,IAAgC1R,KAAKgI,2BACvChI,KAAKgI,yBAA2B0J,EAEpC,CACA9M,oBAAAA,GACE,MAAM7C,EAAQ/B,KAAKqJ,oBAAoB1B,QAAQzF,IAAUA,EAAKqH,UACxD,SAAE0C,GAAajM,KACrB,IAAI2R,EAAiB,EACjBhN,EAAoB,EAYxB,OAXI5C,EAAMM,OAAS4J,GACjBlK,EAAMuH,SAASpH,IACb,GAAIyP,EAAiB1F,GAAYA,EAAW,EAAG,CAC7C,MAAMX,EAAStL,KAAKuL,0BAA0BrJ,GAC1CoJ,EAAS,IACX3G,GAAqB2G,EACrBqG,IAEJ,KAGGhN,CACT,CACA4G,yBAAAA,CAA0BrJ,GACxB,IAAKA,EACH,OAEF,IAAIoJ,EAASpJ,EAAKsJ,aAQlB,OANiBjE,MAAMC,KAAKtF,EAAKwF,iBAAiBkK,EAAAA,IAE/C3P,KAAK4P,GAAUA,GAAOrG,eACtBlC,SAASkC,IACVF,GAAUE,CAAY,IAEjBF,CACT,CACAjC,iBAAAA,GACE,MAAO,IAAIrJ,KAAK2K,cAAe3K,KAAK+B,MACtC,CACA+B,eAAAA,CAAgB5B,GAA8B,IAAxBC,EAAK2L,UAAAzL,OAAA,QAAAyJ,IAAAgC,UAAA,GAAAA,UAAA,IAAI5L,EAAKgI,UAC7BhI,GACqB,mBAAvBlC,KAAK+F,eAAsC7D,EAAKgI,UAAYhI,EAAKC,QAAUnC,KAAKmC,QAG/EnC,KAAKkE,WACPhC,EAAKgI,SAAW/H,EAChBnC,KAAK8R,gBAAgB5P,GACrBlC,KAAKgC,cAAgBhC,KAAK+J,mBAC1B/J,KAAK8J,qBACL9J,KAAK4P,YACL5P,KAAKkD,YAAY,MAGjBlD,KAAKuB,0BAA2B,EAChCvB,KAAK+B,MAAMuH,SAAS5H,GAAQA,EAAGwI,SAAWxI,IAAOQ,GAAOC,IACxDnC,KAAKuB,0BAA2B,EAChCvB,KAAKgC,cAAgBhC,KAAK+J,mBAC1B/J,KAAK8J,qBACD9J,KAAKc,YACPd,KAAKc,UAAUqB,MAAQD,EAAKgH,WAE9BlJ,KAAKgD,MAAO,EACZhD,KAAKmD,uBAAuB,GAC5BnD,KAAK4P,YACL5P,KAAKkD,YAAY,KAErB,CACA4O,eAAAA,CAAgB5P,GACd,GAA2B,cAAvBlC,KAAK+F,cACP,OAEF,MAAM2D,GAAYqI,EAAAA,EAAAA,GAAiB7P,GAC7BkJ,GAAW4G,EAAAA,EAAAA,GAAgB9P,GAC7BA,EAAKgI,SACPR,EAAUJ,SAAS5H,IACjBA,EAAGwI,UAAW,CAAI,KAIpBkB,EAAS9B,SAAS5H,GAAQA,EAAGwI,UAAW,IACxC,IAAIR,GAAWJ,SAAS5H,KACjByI,EAAAA,EAAAA,GAAkBzI,KACrBA,EAAGwI,UAAW,EAChB,IAGN,CACAN,gBAAAA,GACE,OAAO5J,KAAK+B,MAAM4F,QAAQzF,IAAUA,EAAKqH,QAC3C,CACAsB,OAAAA,GACE,OAAO7K,KAAK+B,MAAME,KAAKC,IAAI,CACzB+P,eAAgB/P,EAAK+P,eACrB9P,MAAOD,EAAKC,MACZvD,MAAOsD,EAAKgH,aAEhB,CACA6B,YAAAA,GACE,OAAOjF,EAAAA,EAAAA,GAAa9F,KAAK+F,gBAAkB/F,KAAK+B,MAAMyD,MAAMtD,GAASA,EAAK9C,MAC5E,CACAwQ,SAAAA,GACM5P,KAAKc,YACPd,KAAKc,UAAUqB,MAAQ,IAEzBnC,KAAK6C,KAAO,EACd,CACA6H,QAAAA,GAEE,OADcnD,MAAMC,KAAKxH,KAAK0B,GAAGgG,iBAAiBwK,EAAAA,IACrCvK,QAAQzF,IAAUA,EAAKxD,UACtC,CACAkM,aAAAA,GACE,OAAOrD,MAAMC,KAAKxH,KAAK0B,GAAGgG,iBAAiBuB,EAAAA,GAC7C,CACAnG,aAAAA,CAAcX,EAAOyJ,GACnB,MAAMuG,EAAenS,KAAK+B,MAAMqD,MAAM1D,GAAOA,EAAGwH,YAAc/G,IAC9D,GAAIgQ,EACFnS,KAAK8D,gBAAgBqO,GAAc,OAEhC,CACEnS,KAAKkE,WACRlE,KAAK8D,gBAAgB9D,KAAKgC,cAAchC,KAAKgC,cAAcK,OAAS,IAAI,GAE1E,MAAMH,EAAOkO,SAASgC,cAAcF,EAAAA,GACpChQ,EAAKC,MAAQA,EACbD,EAAKgH,UAAY/G,EACjBD,EAAKgI,UAAW,EAChBlK,KAAK0B,GAAG2Q,YAAYnQ,GACpBlC,KAAK4P,YACDhE,GACF5L,KAAKuC,WAEPvC,KAAKiB,cACLjB,KAAKkD,YAAY,IACjBlD,KAAK8J,oBACP,CACF,CACA/F,gBAAAA,GACE/D,KAAK8D,gBAAgB9D,KAAKgC,cAAchC,KAAK0C,kBAAkB,GAC/D1C,KAAKuC,UACP,CACA4B,cAAAA,GACEnE,KAAK8D,gBAAgB9D,KAAKgC,cAAchC,KAAKgC,cAAcK,OAAS,IAAI,GACxErC,KAAKuC,UACP,CACAa,YAAAA,GACE,GAAIpD,KAAK6C,KACP,OAEF,MAAMR,EAASrC,KAAKgC,cAAcK,OAAS,EACrCiQ,EAAStS,KAAK0C,gBACpB1C,KAAK0C,iBAA8B,IAAZ4P,EAAgBjQ,EAAS8E,KAAKC,IAAIkL,EAAS,EAAG,GACrEtS,KAAKmD,uBAAuB,GAC5BnD,KAAKuS,WACP,CACAlP,QAAAA,GACE,GAAIrD,KAAK6C,OAAkC,IAA1B7C,KAAK0C,gBACpB,OAEF,MAAM8P,EAAOxS,KAAKgC,cAAcK,OAAS,EACnCuL,EAAW5N,KAAK0C,gBAAkB,EACpCkL,EAAW4E,GACbxS,KAAK0C,iBAAmB,EACxB1C,KAAKuC,aAGLvC,KAAK0C,gBAAkBkL,EACvB5N,KAAKuS,aAEPvS,KAAKmD,uBAAuB,EAC9B,CACAoP,SAAAA,GACE,MAAMlR,EAAOrB,KAAKgC,cAAchC,KAAK0C,kBAAkBrB,KACjDoR,EAAOpR,EACTrB,KAAKyE,YAAYiO,cAAe,IAAGnT,IAAgB8B,KACnD,KACJoR,GAAMlQ,UACR,CACAe,oBAAAA,CAAqBqP,GACnB,MAAM,OAAEtQ,GAAWrC,KAAK2D,cAClBiK,GAAY5N,KAAK2C,gBAAkBN,EAASsQ,GAAStQ,EAC3DrC,KAAKmD,sBAAsByK,GAC3B5N,KAAK0D,oBACP,CACAP,qBAAAA,CAAsB8H,GACpBjL,KAAK2C,gBAAkBsI,EACvB,IAAIsB,EAAmB,KACvBvM,KAAK2D,cAAc2F,SAAQ,CAAC5H,EAAIkR,KAC1BA,IAAM3H,GACRvJ,EAAG4Q,QAAS,EACZ/F,EAAoB,GAAEjN,IAAgBoC,EAAGL,QAGzCK,EAAG4Q,QAAS,CACd,IAEFtS,KAAKuM,iBAAmBA,EACpBvM,KAAK2C,iBAAmB,IAC1B3C,KAAK0C,iBAAmB,EAE5B,CACAmQ,aAAAA,GACE,OAAO7S,KAAK0K,WAAWrI,SAAWrC,KAAK+J,mBAAmB1H,MAC5D,CACA6B,OAAAA,GACE,QAAQ4B,EAAAA,EAAAA,GAAa9F,KAAK+F,cAC5B,CAMA+M,WAAAA,GACE,MAAM,gBAAEpQ,EAAe,MAAE3D,EAAK,cAAEgH,EAAa,SAAEsG,GAAarM,KAC5D,OAAOA,KAAKgC,cAAcC,KAAI,CAACC,EAAM0Q,KACnC,MAAMG,EAAc,CAClBN,MAAM,EACN,eAAgB/P,IAAoBkQ,GAGhCI,EAAY,IADA,KAAIjB,EAAAA,EAAAA,GAAiB7P,IAAO+Q,UACb/Q,GAAMD,KAAKP,GAAOA,EAAGwH,YAChDtK,EAA0B,cAAlBmH,EAAgC7D,EAAKgH,UAAY8J,EAAUE,KAAK,OAC9E,OAAQlU,EAAAA,EAAAA,GAAE,eAAgB,CAAEC,MAAO8T,EAAalL,UAAU,EAAMzI,KAAM8C,EAAK9C,KAAM+T,YAAajR,EAAKiR,YAAaC,GAAIlR,EAAKb,KAAQ,GAAE9B,IAAgB2C,EAAKb,OAAS,KAAM1C,IAAKuD,EAAKgH,UAAWoD,iBAAkB,CAAE+G,aAAchH,EAASiH,WAAaC,mBAAoBA,IAAMvT,KAAKiF,wBAAwB/C,GAAOnD,MAAOA,EAAOmL,SAAUhI,EAAKgI,SAAUsJ,MAAO5U,EAAOuD,MAAOD,EAAKC,OAASvD,EAAM,GAEtY,CACA6U,8BAAAA,GACE,MAAM,wBAAEjH,EAAuB,MAAEzN,EAAK,0BAAE0N,EAAyB,8BAAE9D,GAAmC3I,KAChGpB,EAAQoB,KAAKqM,SAASqH,YAC5B,OAAQ1U,EAAAA,EAAAA,GAAE,eAAgB,CAAEC,MAAO,CAC/BwT,MAAM,EACN,CAACzB,EAAAA,EAAMC,iBAAkBjR,KAAK6S,kBAC3BpG,IACAD,IACFzN,MAAOA,EAAOyU,MAAO5U,EAAOuD,MAAO,GAEtCrD,IAAK6J,GAAiC/J,EAC1C,CACA+U,qCAAAA,GACE,MAAM,wBAAEnH,EAAuB,MAAEzN,EAAK,0BAAE0N,GAA8BzM,KAChEpB,EAAQoB,KAAKqM,SAASuH,KAAO,MACnC,OAAQ5U,EAAAA,EAAAA,GAAE,eAAgB,CAAEC,MAAO,CAC/BwT,MAAM,EACN,CAACzB,EAAAA,EAAMC,iBAAkBjR,KAAK6S,kBAC3BpG,GACDD,IACDzN,MAAOA,EAAOyU,MAAO5U,EAAOuD,MAAO,IAAMvD,EAChD,CACAiV,2BAAAA,GACE,MAAM,wBAAErH,EAAuB,iBAAEtG,EAAgB,iBAAE6D,EAAgB,MAAEhL,EAAK,yBAAEiJ,EAAwB,0BAAEyE,EAAyB,2BAAE7D,GAAgC5I,KACjK,IAAIiR,EACArS,EACJ,GAAI4N,EACFyE,GAAgB,OAGhB,GAAyB,WAArB/K,EAA+B,CACjC,MAAM4N,EAAqB/J,IAAmB1H,OAE5C4O,IADEjR,KAAK6S,mBAGAiB,EAAqB,GAM9BlV,EAAS,GAAEkV,KAAsB9T,KAAKqM,SAASnC,UACjD,KAC8B,QAArBhE,IACP+K,KAAoBjR,KAAK6S,iBAAiD,IAA9BpG,GACb,IAA7BzE,GACFpJ,EACE6N,EAA4B,EACvB,IAAGzE,IACH,GAAEA,KAA4BhI,KAAKqM,SAASnC,YAGvD,OAAQlL,EAAAA,EAAAA,GAAE,eAAgB,CAAEC,MAAO,CAC/BwT,MAAM,EACN,CAACzB,EAAAA,EAAMC,eAAgBA,GACtBlS,MAAOA,EAAOyU,MAAO5U,EAAOuD,MAAO,GAEtCrD,IAAK8J,GAA8BhK,EACvC,CACAmV,kCAAAA,GACE,MAAM,wBAAEvH,EAAuB,iBAAEtG,EAAgB,iBAAE6D,EAAgB,MAAEhL,EAAK,yBAAEiJ,GAA8BhI,KAC1G,IAAIiR,EACArS,EACJ,GAAI4N,EAAyB,CAC3B,MAAMsH,EAAqB/J,IAAmB1H,OAC1CrC,KAAK6S,gBACP5B,GAAgB,EAEY,QAArB/K,GACP+K,IAAkBjJ,EAA2B,GAC7CpJ,EAAS,GAAEoJ,GAA4B,KAEX,WAArB9B,IACP+K,IAAkB6C,EAAqB,GACvClV,EAAS,GAAEkV,IAEf,MAEE7C,GAAgB,EAElB,OAAQjS,EAAAA,EAAAA,GAAE,eAAgB,CAAEC,MAAO,CAC/BwT,MAAM,EACN,CAACzB,EAAAA,EAAMC,eAAgBA,GACtBlS,MAAOA,EAAOyU,MAAO5U,EAAOuD,MAAO,IAAMvD,EAChD,CACAoV,WAAAA,GACE,MAAM,KAAE3S,EAAI,SAAE3C,EAAQ,YAAEyH,EAAW,cAAEJ,EAAa,cAAE/D,EAAa,KAAEgB,GAAShD,KACtEiU,GAASnO,EAAAA,EAAAA,GAAaC,GACtBmO,EAAelS,EAAc,GAC7BmS,GAAanR,GAAQiR,KAAYC,EACvC,OAAQlV,EAAAA,EAAAA,GAAE,OAAQ,CAAEC,MAAO,CACvB,cAAc,EACd,qBAAsBgV,IACnBE,IAAcnV,EAAAA,EAAAA,GAAE,OAAQ,CAAEC,MAAO,CACpCL,OAAO,EACP,gBAAiBsV,GAAc9U,MAC9BT,IAAK,SAAWuV,EAAahL,YAAalK,EAAAA,EAAAA,GAAE,QAAS,CAAE,wBAAyBgB,KAAKuM,iBAAkB,oBAAqB,OAAQ,gBAAkB,GAAE9M,IAAmB4B,IAAQ,cAAc+S,EAAAA,EAAAA,GAAapU,MAAOf,MAAO,CAC7NoV,OAAO,EACP,iBAAiB,EACjB,qBAAsBrU,KAAK0C,iBAAmB,EAC9C,gBAAiByR,EACjB,gBAAiBnU,KAAK+L,iBACrBrN,SAAUA,EAAU0U,GAAK,GAAE1T,IAAiB2B,IAAQ1C,IAAK,QAAS2V,QAAStU,KAAK2L,qBAAsB4I,QAASvU,KAAK6I,aAAc1C,YAAaA,EAAahH,KAAM,OAErKL,IAAM4C,GAAQ1B,KAAKc,UAAYY,IACnC,CACA8S,oBAAAA,GACE,OAAOxU,KAAK2D,cAAc1B,KAAKC,IAAUlD,EAAAA,EAAAA,GAAE,KAAM,CAAE,iBAAiByV,EAAAA,EAAAA,GAAcvS,EAAKgI,UAAWkJ,GAAIlR,EAAKb,KAAQ,GAAE/B,IAAgB4C,EAAKb,OAAS,KAAMqT,KAAM,SAAUC,SAAU,MAAQzS,EAAKgH,YAClM,CACA0L,yBAAAA,GACE,MAAM,cAAEzM,EAAa,eAAEG,EAAc,KAAEtF,GAAShD,KAC1C6U,EAAU,CACd,CAAC7D,EAAAA,EAAM8D,gBAAgB,EACvB,CAACC,EAAAA,EAAYC,YAAY,EACzB,CAACD,EAAAA,EAAYE,iBAAkBjS,GAEjC,OAAQhE,EAAAA,EAAAA,GAAE,MAAO,CAAE,cAAe,OAAQC,MAAO,CAC7C,yBAAyB,EACzB,gCAAiC+D,GAGnClE,IAAKqJ,IAAiBnJ,EAAAA,EAAAA,GAAE,MAAO,CAAEC,MAAO4V,EAExC/V,IAAKwJ,IAAkBtJ,EAAAA,EAAAA,GAAE,KAAM,CAAEC,MAAO,CAAEiW,MAAM,EAAM,cAAelS,KAAUhE,EAAAA,EAAAA,GAAE,OAAQ,QAC7F,CACAmW,eAAAA,GACE,MAAM,cAAEnT,EAAa,gBAAE+J,EAAe,cAAEhG,EAAa,uBAAEiG,GAA2BhM,KAC5EkU,EAAelS,EAAc,GAC7BoT,EAAelB,GAAc9U,KAC7BiW,GAAsBvP,EAAAA,EAAAA,GAAaC,GAIzC,QAHqB/F,KAAKgD,MAAQkR,IAC5BkB,GAAgBC,IAChBrV,KAAK+L,mBAAqBmI,GAAgBmB,MACxBrW,EAAAA,EAAAA,GAAE,OAAQ,CAAEC,MAAO,eAAgBD,EAAAA,EAAAA,GAAE,eAAgB,CAAEC,MAAO,gBAAiBqW,QAAStV,KAAKgD,MAAQkR,EAAeA,EAAaf,YAAcnH,EAAwB5M,MAAOY,KAAKgD,MAAQkR,EAAekB,EAAerJ,EAAiBhN,OAAOM,EAAAA,EAAAA,GAAaW,KAAKjB,SAC7R,CACAwW,aAAAA,GACE,MAAM,KAAEvS,GAAShD,KACjB,OAAQhB,EAAAA,EAAAA,GAAE,OAAQ,CAAEC,MAAO,aAAcD,EAAAA,EAAAA,GAAE,eAAgB,CAAEI,KAAM4D,EAAO,aAAe,eAAgBjE,OAAOM,EAAAA,EAAAA,GAAaW,KAAKjB,SACpI,CACAyW,MAAAA,GACE,MAAM,iBAAEtP,EAAgB,KAAE7E,EAAI,MAAEzC,EAAK,KAAEoE,GAAShD,KAC1CqV,GAAsBvP,EAAAA,EAAAA,GAAa9F,KAAK+F,eACxC0P,EAA2C,QAArBvP,EACtBwP,EAA8C,WAArBxP,EACzByP,GAAuBN,GAA4C,QAArBnP,EAC9C0P,GAAe5V,KAAK4D,eAAiB5D,KAAKmC,OAAOE,OAAS,EAChE,OAAQrD,EAAAA,EAAAA,GAAE6W,EAAAA,GAAM,CAAEhX,QAASmB,KAAK2L,uBAAwB3M,EAAAA,EAAAA,GAAE,MAAO,CAAE,oBAAqB,OAAQ,gBAAkB,GAAES,IAAmB4B,IAAQ,iBAAiBoT,EAAAA,EAAAA,GAAczR,GAAO,gBAAiB,UAAW,cAAcoR,EAAAA,EAAAA,GAAapU,MAAO,YAAa,SAAU,YAAc,GAAEP,IAAmB4B,IAAQpC,MAAO,CACxT6W,SAAS,EACT,kBAAmBT,IAAwBrV,KAAKgC,cAAcK,OAC9D,kBAAmBW,GAClBnE,QAASmB,KAAKsF,aAAcyQ,UAAW/V,KAAKwC,eAAgBkS,KAAM,WAErE5V,IAAKkB,KAAK0I,iBAAkB1J,EAAAA,EAAAA,GAAE,MAAO,CAAEC,MAAO,CAC5C,cAAc,EACd,CAAC+R,EAAAA,EAAMgF,qBAAsBL,EAC7B,CAAC3E,EAAAA,EAAMiF,wBAAyBP,GAC/B5W,IAAKkB,KAAKyI,oBAAsBzI,KAAKmV,mBAAoBE,IAAwBK,GAA0B1V,KAAK8S,eAAgBuC,IAClII,GAAuB,CACxBzV,KAAK6T,8BACL7T,KAAK+T,qCACL/T,KAAKyT,iCACLzT,KAAK2T,0CACJ3U,EAAAA,EAAAA,GAAE,QAAS,CAAEC,MAAO,sBAAuBiX,QAAU,GAAExW,IAAiB2B,IAAQ+R,GAAK,GAAE5T,IAAiB6B,KAAUzC,GAAQoB,KAAKgU,eAAgB4B,GAAe5W,EAAAA,EAAAA,GAAER,EAAS,CAAEE,SAAUsB,KAAKtB,SAAUC,IAAK,eAAgBC,MAAOoB,KAAKqM,SAAS8J,MAAOpX,MAAOiB,KAAKjB,QAAY,KAAMiB,KAAKuV,kBAAkBvW,EAAAA,EAAAA,GAAE,KAAM,CAAE,kBAAoB,GAAEQ,IAAiB6B,IAAQ,uBAAwB,OAAQpC,MAAO,sBAAuBmU,GAAK,GAAE3T,IAAmB4B,IAAQqT,KAAM,UAAWxV,UAAW,GAAKc,KAAKwU,wBAAyBxU,KAAK4U,6BAA6B5V,EAAAA,EAAAA,GAAEoX,EAAAA,EAAqB,CAAEC,UAAWrW,OAC7kB,CACA,qBAAWsW,GAAe,MAAO,CAAC,SAAW,CAC7C,MAAI5U,GAAO,OAAO1B,IAAM,CACxB,mBAAWuW,GAAa,MAAO,CAC7B,KAAQ,CAAC,eACT,SAAY,CAAC,wBACb,SAAY,CAAC,mBACb,mBAAsB,CAAC,6BACvB,cAAiB,CAAC,qBAClB,MAAS,CAAC,qBACV,MAAS,CAAC,gBACV,iBAAoB,CAAC,oBACrB,eAAkB,CAAC,yBACnB,cAAiB,CAAC,wBAClB,KAAQ,CAAC,eACT,gBAAmB,CAAC,yBACnB,CACH,gBAAW1R,GAAU,MA7hCH,yuNA6hCuB,GACxC,CAAC,EAAG,mBAAoB,CACvB,cAAiB,CAAC,IAAK,kBACvB,iBAAoB,CAAC,IAAK,qBAC1B,KAAQ,CAAC,MACT,SAAY,CAAC,KACb,KAAQ,CAAC,KACT,MAAS,CAAC,GACV,YAAe,CAAC,GAChB,gBAAmB,CAAC,IAAK,oBACzB,uBAA0B,CAAC,IAAK,6BAChC,SAAY,CAAC,IAAK,aAClB,KAAQ,CAAC,KACT,kBAAqB,CAAC,IAAK,uBAC3B,mBAAsB,CAAC,IAAK,uBAC5B,SAAY,CAAC,KACb,cAAiB,CAAC,IAAK,kBACvB,MAAS,CAAC,KACV,MAAS,CAAC,MACV,eAAkB,CAAC,IACnB,SAAY,CAAC,MACb,iBAAoB,CAAC,MACrB,cAAiB,CAAC,MAClB,cAAiB,CAAC,MAClB,MAAS,CAAC,IACV,WAAc,CAAC,IACf,UAAa,CAAC,IACd,gBAAmB,CAAC,IACpB,gBAAmB,CAAC,IACpB,iBAAoB,CAAC,IACrB,wBAA2B,CAAC,IAC5B,yBAA4B,CAAC,IAC7B,0BAA6B,CAAC,IAC9B,KAAQ,CAAC,IACT,gBAAmB,CAAC,IACpB,gBAAmB,CAAC,IACpB,WAAc,CAAC,IACf,SAAY,CAAC,KACZ,CAAC,CAAC,EAAG,cAAe,wBAAyB,CAAC,EAAG,4BAA6B,uCACnF,SAAS2R,IACP,GAA8B,qBAAnBC,eACT,OAEiB,CAAC,mBAAoB,eAAgB,gBAC7CnN,SAAQ5D,IAAa,OAAQA,GACtC,IAAK,mBACE+Q,eAAeC,IAAIhR,IACtB+Q,eAAeE,OAAOjR,EAAS/F,GAEjC,MACF,IAAK,eACE8W,eAAeC,IAAIhR,KACtBkR,EAAAA,EAAAA,KAEF,MACF,IAAK,eACEH,eAAeC,IAAIhR,KACtBmR,EAAAA,EAAAA,KAGN,GACF,CACAL,wICtnCA,MAAMtE,EAAe,wBACfjJ,EAAoB,8BACpB2I,EAAyB,GAAEM,MAAiBjJ,IAC5C1K,EAAM,CACV0S,cAAe,kBACf+E,oBAAqB,wBACrBC,uBAAwB,2BACxBnB,cAAe,kBAGjB,SAASgC,EAAaC,GACpB,MAAMvN,EAASuN,EAAQC,eAAeC,QAAQrF,GACxCnI,EAAcD,GAAQwN,eAAeC,QAAQrF,GACnD,MAAO,CAACpI,EAAQC,GAAa9B,QAAQjG,GAAOA,GAC9C,CACA,SAASqQ,EAAiB7P,GACxB,OAAQA,EAAKwH,WAAW/B,QAAQjG,GAAuB,0BAAhBA,EAAGwV,YAAyC,EACrF,CACA,SAASlF,EAAgB9P,GACvB,OAAOiV,EAAAA,EAAAA,GAAgBjV,EAAKwF,iBAAiB,yBAC/C,CACA,SAASyC,EAAkB1E,GAEzB,OADc0R,EAAAA,EAAAA,GAAgB1R,EAAKiC,iBAAiB,0BACvCC,QAAQzF,GAASA,EAAKgI,WAAU7H,OAAS,CACxD,CACA,SAAS+U,EAASL,GAChB,IAAKM,EAAAA,GAAMC,UACT,OAAO,EAGT,OADelH,SAASmH,SAAS,0EAA2ER,EAAS,KAAMS,YAAYC,6BAA8B,MACvJC,cAChB,CACA,SAAS5R,EAAaC,GACpB,OAAOA,EAAcqH,SAAS,SAChC","sources":["../node_modules/@esri/calcite-components-react/node_modules/@esri/calcite-components/dist/components/calcite-headless.js","../node_modules/@esri/calcite-components-react/node_modules/@esri/calcite-components/dist/components/combobox.js","../node_modules/@esri/calcite-components-react/node_modules/@esri/calcite-components/dist/components/utils2.js"],"sourcesContent":["/*!\n * All material copyright ESRI, All Rights Reserved, unless otherwise specified.\n * See https://github.com/Esri/calcite-design-system/blob/main/LICENSE.md for details.\n * v1.11.0\n */\n/**\n * Do not edit directly\n * Generated on Tue, 21 Nov 2023 22:52:13 GMT\n */\nconst CoreSizing15 = \"48px\";\nconst CoreBreakpointWidthDefaultXxs = \"320px\";\nconst CoreBreakpointWidthDefaultXs = \"476px\";\nconst CoreBreakpointWidthDefaultSm = \"768px\";\nconst CoreBreakpointWidthDefaultMd = \"1152px\";\nconst CoreBreakpointWidthDefaultLg = \"1440px\";\n\nexport { CoreSizing15 as C, CoreBreakpointWidthDefaultMd as a, CoreBreakpointWidthDefaultSm as b, CoreBreakpointWidthDefaultXs as c, CoreBreakpointWidthDefaultXxs as d, CoreBreakpointWidthDefaultLg as e };\n","/*!\n * All material copyright ESRI, All Rights Reserved, unless otherwise specified.\n * See https://github.com/Esri/calcite-design-system/blob/main/LICENSE.md for details.\n * v1.11.0\n */\nimport { h, proxyCustomElement, HTMLElement, createEvent, Host } from '@stencil/core/internal/client/index.js';\nimport { f as filter } from './filter2.js';\nimport { u as getElementWidth, v as getTextWidth, j as isPrimaryPointerButton, t as toAriaBoolean } from './dom.js';\nimport { d as defaultMenuPlacement, f as filterComputedPlacements, c as connectFloatingUI, r as reposition, a as disconnectFloatingUI, F as FloatingCSS } from './floating-ui.js';\nimport { s as submitForm, c as connectForm, a as afterConnectDefaultValueSet, d as disconnectForm, H as HiddenFormInputSlot } from './form.js';\nimport { g as guid } from './guid.js';\nimport { c as connectInteractive, u as updateHostInteraction, d as disconnectInteractive } from './interactive.js';\nimport { c as connectLabel, d as disconnectLabel, g as getLabelText } from './label2.js';\nimport { b as componentLoaded, c as componentFocusable, a as setUpLoadableComponent, s as setComponentLoaded } from './loadable.js';\nimport { c as connectLocalized, d as disconnectLocalized } from './locale.js';\nimport { c as createObserver } from './observers.js';\nimport { o as onToggleOpenCloseComponent } from './openCloseComponent.js';\nimport { c as connectMessages, s as setUpMessages, d as disconnectMessages, u as updateMessages } from './t9n.js';\nimport { i as isSingleLike, h as hasActiveChildren, C as CSS$1, b as ComboboxChildSelector, c as getItemAncestors, d as getItemChildren, e as ComboboxItem, f as ComboboxItemGroup } from './utils2.js';\nimport { g as getIconScale } from './component.js';\nimport { C as CoreSizing15 } from './calcite-headless.js';\nimport { d as defineCustomElement$2 } from './chip.js';\nimport { d as defineCustomElement$1 } from './icon.js';\nimport { d as debounce } from './debounce.js';\n\nconst CSS = {\n  button: \"x-button\",\n};\nfunction XButton({ disabled, key, label, onClick, ref, scale, }) {\n  return (h(\"button\", { \"aria-label\": label, class: CSS.button, disabled: disabled, key: key, onClick: onClick, tabIndex: -1, type: \"button\", \n    // eslint-disable-next-line react/jsx-sort-props -- ref should be last so node attrs/props are in sync (see https://github.com/Esri/calcite-design-system/pull/6530)\n    ref: ref },\n    h(\"calcite-icon\", { icon: \"x\", scale: getIconScale(scale) })));\n}\n\nconst comboboxCss = \":host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{position:relative;display:block}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}:host([scale=s]) .x-button{inline-size:1rem;block-size:1rem}:host([scale=m]) .x-button{inline-size:1.5rem;block-size:1.5rem}:host([scale=l]) .x-button{inline-size:2rem;block-size:2rem}.x-button{margin:0px;display:flex;cursor:pointer;appearance:none;align-content:center;align-items:center;justify-content:center;align-self:center;border-width:2px;background-color:transparent;color:var(--calcite-ui-text-3);outline-color:transparent;transition:all var(--calcite-animation-timing) ease-in-out 0s, outline 0s, outline-offset 0s;border-radius:50%;border-color:transparent;background-color:var(--calcite-ui-foreground-2)}.x-button:active,.x-button:hover{color:var(--calcite-ui-text-1);background-color:var(--calcite-ui-foreground-3)}.x-button:active{border-style:solid;border-color:var(--calcite-ui-brand)}.x-button calcite-icon{color:inherit}:host([scale=s]){font-size:var(--calcite-font-size--2);--calcite-combobox-item-spacing-unit-l:0.5rem;--calcite-combobox-item-spacing-unit-s:0.25rem;--calcite-combobox-input-height:1rem;--calcite-internal-combobox-input-margin-block:calc(0.25rem - 1px)}:host([scale=s]) .x-button{margin-inline:0.5rem}:host([scale=m]){font-size:var(--calcite-font-size--1);--calcite-combobox-item-spacing-unit-l:0.75rem;--calcite-combobox-item-spacing-unit-s:0.5rem;--calcite-combobox-input-height:1rem;--calcite-internal-combobox-input-margin-block:calc(0.5rem - 1px)}:host([scale=m]) .x-button{margin-inline-end:0.75rem}:host([scale=l]){font-size:var(--calcite-font-size-0);--calcite-combobox-item-spacing-unit-l:1rem;--calcite-combobox-item-spacing-unit-s:0.75rem;--calcite-combobox-input-height:1.5rem;--calcite-internal-combobox-input-margin-block:calc(0.625rem - 1px)}:host([scale=l]) .x-button{margin-inline-end:1rem}.wrapper{display:flex;border-width:1px;border-style:solid;border-color:var(--calcite-ui-border-input);background-color:var(--calcite-ui-foreground-1);color:var(--calcite-ui-text-1);outline-color:transparent;padding-block:calc(var(--calcite-combobox-item-spacing-unit-s) / 4);padding-inline:var(--calcite-combobox-item-spacing-unit-l)}:host(:focus-within) .wrapper,.wrapper--active{outline:2px solid var(--calcite-ui-focus-color, var(--calcite-ui-brand));outline-offset:calc(\\n            -2px *\\n            calc(\\n              1 -\\n              2 * clamp(\\n                0,\\n                var(--calcite-ui-focus-offset-invert),\\n                1\\n              )\\n            )\\n          )}.wrapper--single{padding-block:0;padding-inline:var(--calcite-combobox-item-spacing-unit-l);cursor:pointer;flex-wrap:nowrap}.grid-input{position:relative;display:flex;flex-grow:1;flex-wrap:wrap;align-items:center;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;padding:0px;gap:var(--calcite-combobox-item-spacing-unit-s)}.grid-input.selection-display-fit,.grid-input.selection-display-single{flex-wrap:nowrap;overflow:hidden}.input{flex-grow:1;appearance:none;text-overflow:ellipsis;border-style:none;background-color:transparent;padding:0px;font-family:inherit;color:var(--calcite-ui-text-1);font-size:inherit;block-size:var(--calcite-combobox-input-height);line-height:var(--calcite-combobox-input-height);inline-size:100%;margin-block-end:var(--calcite-combobox-item-spacing-unit-s);min-inline-size:4.8125rem}.input:focus{outline:2px solid transparent;outline-offset:2px}.input:placeholder-shown{text-overflow:ellipsis}.input--transparent{opacity:0}.input--single{padding:0px;margin-block:var(--calcite-internal-combobox-input-margin-block)}.wrapper--active .input-single{cursor:text}.input--hidden{pointer-events:none;inline-size:0px;min-inline-size:0px;opacity:0}.input--icon{padding-block:0;padding-inline:var(--calcite-combobox-item-spacing-unit-s)}:host([scale=m]) .input--icon,:host([scale=l]) .input--icon{padding-inline:0.25rem}.input-wrap{display:flex;flex-grow:1;align-items:center}.input-wrap--single{flex:1 1 0%;overflow:hidden}.label{pointer-events:none;display:flex;max-inline-size:100%;flex:1 1 auto;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;padding:0px;font-weight:var(--calcite-font-weight-normal);block-size:var(--calcite-combobox-input-height);line-height:var(--calcite-combobox-input-height)}.label--icon{padding-inline:var(--calcite-combobox-item-spacing-unit-l)}.icon-end,.icon-start{display:flex;cursor:pointer;align-items:center}.icon-end{flex:none}.floating-ui-container{--calcite-floating-ui-z-index:var(--calcite-app-z-index-dropdown);display:block;position:absolute;z-index:var(--calcite-floating-ui-z-index);visibility:hidden}.floating-ui-container .calcite-floating-ui-anim{position:relative;transition:var(--calcite-floating-ui-transition);transition-property:transform, visibility, opacity;opacity:0;box-shadow:0 0 16px 0 rgba(0, 0, 0, 0.16);z-index:var(--calcite-app-z-index);border-radius:0.25rem}.floating-ui-container[data-placement^=bottom] .calcite-floating-ui-anim{transform:translateY(-5px)}.floating-ui-container[data-placement^=top] .calcite-floating-ui-anim{transform:translateY(5px)}.floating-ui-container[data-placement^=left] .calcite-floating-ui-anim{transform:translateX(5px)}.floating-ui-container[data-placement^=right] .calcite-floating-ui-anim{transform:translateX(-5px)}.floating-ui-container[data-placement] .calcite-floating-ui-anim--active{opacity:1;transform:translate(0)}.floating-ui-container--active{visibility:visible}@media (forced-colors: active){.wrapper,.floating-ui-container--active{border:1px solid canvasText}}.screen-readers-only{position:absolute;inline-size:1px;block-size:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border-width:0}.list-container{max-block-size:45vh;overflow-y:auto;background-color:var(--calcite-ui-foreground-1);inline-size:var(--calcite-dropdown-width)}.list{margin:0px;display:block;padding:0px}.list--hide{block-size:0px;overflow:hidden}calcite-chip{--calcite-animation-timing:0}.chip{margin-block:calc(var(--calcite-combobox-item-spacing-unit-s) / 4);max-inline-size:100%}.chip--active{background-color:var(--calcite-ui-foreground-3)}.chip--invisible{visibility:hidden;position:absolute}.item{display:block}::slotted(input[slot=hidden-form-input]){margin:0 !important;opacity:0 !important;outline:none !important;padding:0 !important;position:absolute !important;inset:0 !important;transform:none !important;-webkit-appearance:none !important;z-index:-1 !important}:host([hidden]){display:none}[hidden]{display:none}::slotted(calcite-combobox-item-group:not(:first-child)){padding-block-start:var(--calcite-combobox-item-spacing-unit-l)}\";\n\nconst isGroup = (el) => el.tagName === ComboboxItemGroup;\nconst itemUidPrefix = \"combobox-item-\";\nconst chipUidPrefix = \"combobox-chip-\";\nconst labelUidPrefix = \"combobox-label-\";\nconst listboxUidPrefix = \"combobox-listbox-\";\nconst inputUidPrefix = \"combobox-input-\";\nconst Combobox = /*@__PURE__*/ proxyCustomElement(class extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n    this.__attachShadow();\n    this.calciteComboboxChange = createEvent(this, \"calciteComboboxChange\", 6);\n    this.calciteComboboxFilterChange = createEvent(this, \"calciteComboboxFilterChange\", 6);\n    this.calciteComboboxChipClose = createEvent(this, \"calciteComboboxChipClose\", 6);\n    this.calciteComboboxBeforeClose = createEvent(this, \"calciteComboboxBeforeClose\", 6);\n    this.calciteComboboxClose = createEvent(this, \"calciteComboboxClose\", 6);\n    this.calciteComboboxBeforeOpen = createEvent(this, \"calciteComboboxBeforeOpen\", 6);\n    this.calciteComboboxOpen = createEvent(this, \"calciteComboboxOpen\", 6);\n    this.placement = defaultMenuPlacement;\n    this.internalValueChangeFlag = false;\n    this.textInput = null;\n    this.mutationObserver = createObserver(\"mutation\", () => this.updateItems());\n    this.resizeObserver = createObserver(\"resize\", () => {\n      this.setMaxScrollerHeight();\n      this.refreshSelectionDisplay();\n    });\n    this.guid = guid();\n    this.inputHeight = 0;\n    this.ignoreSelectedEventsFlag = false;\n    this.openTransitionProp = \"opacity\";\n    this.setFilteredPlacements = () => {\n      const { el, flipPlacements } = this;\n      this.filteredFlipPlacements = flipPlacements\n        ? filterComputedPlacements(flipPlacements, el)\n        : null;\n    };\n    this.getValue = () => {\n      const items = this.selectedItems.map((item) => item?.value?.toString());\n      return items?.length ? (items.length > 1 ? items : items[0]) : \"\";\n    };\n    this.onLabelClick = () => {\n      this.setFocus();\n    };\n    this.keyDownHandler = (event) => {\n      const { key } = event;\n      switch (key) {\n        case \"Tab\":\n          this.activeChipIndex = -1;\n          this.activeItemIndex = -1;\n          if (this.allowCustomValues && this.text) {\n            this.addCustomChip(this.text, true);\n            event.preventDefault();\n          }\n          else if (this.open) {\n            this.open = false;\n            event.preventDefault();\n          }\n          else if (!this.allowCustomValues && this.text) {\n            this.clearInputValue();\n            this.filterItems(\"\");\n            this.updateActiveItemIndex(-1);\n          }\n          break;\n        case \"ArrowLeft\":\n          this.previousChip();\n          event.preventDefault();\n          break;\n        case \"ArrowRight\":\n          this.nextChip();\n          event.preventDefault();\n          break;\n        case \"ArrowUp\":\n          event.preventDefault();\n          if (this.open) {\n            this.shiftActiveItemIndex(-1);\n          }\n          if (!this.comboboxInViewport()) {\n            this.el.scrollIntoView();\n          }\n          break;\n        case \"ArrowDown\":\n          event.preventDefault();\n          if (this.open) {\n            this.shiftActiveItemIndex(1);\n          }\n          else {\n            this.open = true;\n            this.ensureRecentSelectedItemIsActive();\n          }\n          if (!this.comboboxInViewport()) {\n            this.el.scrollIntoView();\n          }\n          break;\n        case \" \":\n          if (!this.textInput.value) {\n            if (!this.open) {\n              this.open = true;\n              this.shiftActiveItemIndex(1);\n            }\n            event.preventDefault();\n          }\n          break;\n        case \"Home\":\n          if (!this.open) {\n            return;\n          }\n          event.preventDefault();\n          this.updateActiveItemIndex(0);\n          this.scrollToActiveItem();\n          if (!this.comboboxInViewport()) {\n            this.el.scrollIntoView();\n          }\n          break;\n        case \"End\":\n          if (!this.open) {\n            return;\n          }\n          event.preventDefault();\n          this.updateActiveItemIndex(this.filteredItems.length - 1);\n          this.scrollToActiveItem();\n          if (!this.comboboxInViewport()) {\n            this.el.scrollIntoView();\n          }\n          break;\n        case \"Escape\":\n          if (!this.clearDisabled && !this.open) {\n            this.clearValue();\n          }\n          this.open = false;\n          event.preventDefault();\n          break;\n        case \"Enter\":\n          if (this.activeItemIndex > -1) {\n            this.toggleSelection(this.filteredItems[this.activeItemIndex]);\n            event.preventDefault();\n          }\n          else if (this.activeChipIndex > -1) {\n            this.removeActiveChip();\n            event.preventDefault();\n          }\n          else if (this.allowCustomValues && this.text) {\n            this.addCustomChip(this.text, true);\n            event.preventDefault();\n          }\n          else if (!event.defaultPrevented) {\n            if (submitForm(this)) {\n              event.preventDefault();\n            }\n          }\n          break;\n        case \"Delete\":\n        case \"Backspace\":\n          if (this.activeChipIndex > -1) {\n            event.preventDefault();\n            this.removeActiveChip();\n          }\n          else if (!this.text && this.isMulti()) {\n            event.preventDefault();\n            this.removeLastChip();\n          }\n          break;\n      }\n    };\n    this.toggleCloseEnd = () => {\n      this.open = false;\n      this.el.removeEventListener(\"calciteComboboxClose\", this.toggleCloseEnd);\n    };\n    this.toggleOpenEnd = () => {\n      this.open = false;\n      this.el.removeEventListener(\"calciteComboboxOpen\", this.toggleOpenEnd);\n    };\n    this.setMaxScrollerHeight = async () => {\n      const { listContainerEl, open, referenceEl } = this;\n      if (!listContainerEl || !open) {\n        return;\n      }\n      await this.reposition(true);\n      const maxScrollerHeight = this.getMaxScrollerHeight();\n      listContainerEl.style.maxHeight = maxScrollerHeight > 0 ? `${maxScrollerHeight}px` : \"\";\n      listContainerEl.style.minWidth = `${referenceEl.clientWidth}px`;\n      await this.reposition(true);\n    };\n    this.calciteChipCloseHandler = (comboboxItem) => {\n      this.open = false;\n      const selection = this.items.find((item) => item === comboboxItem);\n      if (selection) {\n        this.toggleSelection(selection, false);\n      }\n      this.calciteComboboxChipClose.emit();\n    };\n    this.clickHandler = (event) => {\n      const composedPath = event.composedPath();\n      if (composedPath.some((node) => node.tagName === \"CALCITE-CHIP\")) {\n        this.open = false;\n        event.preventDefault();\n        return;\n      }\n      if (composedPath.some((node) => node.classList?.contains(CSS.button))) {\n        this.clearValue();\n        event.preventDefault();\n        return;\n      }\n      this.open = !this.open;\n      this.ensureRecentSelectedItemIsActive();\n    };\n    this.refreshSelectionDisplay = async () => {\n      await componentLoaded(this);\n      if (isSingleLike(this.selectionMode)) {\n        return;\n      }\n      if (!this.textInput) {\n        return;\n      }\n      const { allSelectedIndicatorChipEl, chipContainerEl, selectionDisplay, placeholder, selectedIndicatorChipEl, textInput, } = this;\n      const chipContainerElGap = parseInt(getComputedStyle(chipContainerEl).gap.replace(\"px\", \"\"));\n      const chipContainerElWidth = getElementWidth(chipContainerEl);\n      const { fontSize, fontFamily } = getComputedStyle(textInput);\n      const inputTextWidth = getTextWidth(placeholder, `${fontSize} ${fontFamily}`);\n      const inputWidth = (inputTextWidth || parseInt(CoreSizing15)) + chipContainerElGap;\n      const allSelectedIndicatorChipElWidth = getElementWidth(allSelectedIndicatorChipEl);\n      const selectedIndicatorChipElWidth = getElementWidth(selectedIndicatorChipEl);\n      const largestSelectedIndicatorChipWidth = Math.max(allSelectedIndicatorChipElWidth, selectedIndicatorChipElWidth);\n      this.setCompactSelectionDisplay({\n        chipContainerElGap,\n        chipContainerElWidth,\n        inputWidth,\n        largestSelectedIndicatorChipWidth,\n      });\n      if (selectionDisplay === \"fit\") {\n        const chipEls = Array.from(this.el.shadowRoot.querySelectorAll(\"calcite-chip\")).filter((chipEl) => chipEl.closable);\n        const availableHorizontalChipElSpace = Math.round(chipContainerElWidth -\n          ((this.selectedHiddenChipsCount > 0 ? selectedIndicatorChipElWidth : 0) +\n            chipContainerElGap +\n            inputWidth +\n            chipContainerElGap));\n        this.refreshChipDisplay({ availableHorizontalChipElSpace, chipContainerElGap, chipEls });\n        this.setVisibleAndHiddenChips(chipEls);\n      }\n    };\n    this.setFloatingEl = (el) => {\n      this.floatingEl = el;\n      connectFloatingUI(this, this.referenceEl, this.floatingEl);\n    };\n    this.setContainerEl = (el) => {\n      this.resizeObserver.observe(el);\n      this.listContainerEl = el;\n      this.transitionEl = el;\n    };\n    this.setChipContainerEl = (el) => {\n      this.resizeObserver.observe(el);\n      this.chipContainerEl = el;\n    };\n    this.setReferenceEl = (el) => {\n      this.referenceEl = el;\n      connectFloatingUI(this, this.referenceEl, this.floatingEl);\n    };\n    this.setAllSelectedIndicatorChipEl = (el) => {\n      this.allSelectedIndicatorChipEl = el;\n    };\n    this.setSelectedIndicatorChipEl = (el) => {\n      this.selectedIndicatorChipEl = el;\n    };\n    this.inputHandler = (event) => {\n      const value = event.target.value;\n      this.text = value;\n      this.filterItems(value);\n      if (value) {\n        this.activeChipIndex = -1;\n      }\n    };\n    this.filterItems = (() => {\n      const find = (item, filteredData) => item &&\n        filteredData.some(({ label, value }) => isGroup(item) ? label === item.label : value === item.value && label === item.textLabel);\n      return debounce((text) => {\n        const filteredData = filter(this.data, text);\n        const itemsAndGroups = this.getItemsAndGroups();\n        itemsAndGroups.forEach((item) => {\n          const hidden = !find(item, filteredData);\n          item.hidden = hidden;\n          const [parent, grandparent] = item.ancestors;\n          if (find(parent, filteredData) || find(grandparent, filteredData)) {\n            item.hidden = false;\n          }\n          if (!hidden) {\n            item.ancestors.forEach((ancestor) => (ancestor.hidden = false));\n          }\n        });\n        this.filteredItems = this.getFilteredItems();\n        this.calciteComboboxFilterChange.emit();\n      }, 100);\n    })();\n    this.internalComboboxChangeEvent = () => {\n      this.calciteComboboxChange.emit();\n    };\n    this.emitComboboxChange = debounce(this.internalComboboxChangeEvent, 0);\n    this.getSelectedItems = () => {\n      if (!this.isMulti()) {\n        const match = this.items.find(({ selected }) => selected);\n        return match ? [match] : [];\n      }\n      return (this.items\n        .filter((item) => item.selected && (this.selectionMode !== \"ancestors\" || !hasActiveChildren(item)))\n        /** Preserve order of entered tags */\n        .sort((a, b) => {\n        const aIdx = this.selectedItems.indexOf(a);\n        const bIdx = this.selectedItems.indexOf(b);\n        if (aIdx > -1 && bIdx > -1) {\n          return aIdx - bIdx;\n        }\n        return bIdx - aIdx;\n      }));\n    };\n    this.updateItems = () => {\n      this.items = this.getItems();\n      this.groupItems = this.getGroupItems();\n      this.data = this.getData();\n      this.selectedItems = this.getSelectedItems();\n      this.filteredItems = this.getFilteredItems();\n      this.needsIcon = this.getNeedsIcon();\n      this.items.forEach((item) => {\n        item.selectionMode = this.selectionMode;\n        item.scale = this.scale;\n      });\n      if (!this.allowCustomValues) {\n        this.setMaxScrollerHeight();\n      }\n      this.groupItems.forEach((groupItem, index, items) => {\n        if (index === 0) {\n          groupItem.afterEmptyGroup = false;\n        }\n        const nextGroupItem = items[index + 1];\n        if (nextGroupItem) {\n          nextGroupItem.afterEmptyGroup = groupItem.children.length === 0;\n        }\n      });\n    };\n    this.scrollToActiveItem = () => {\n      const activeItem = this.filteredItems[this.activeItemIndex];\n      if (!activeItem) {\n        return;\n      }\n      const height = this.calculateSingleItemHeight(activeItem);\n      const { offsetHeight, scrollTop } = this.listContainerEl;\n      if (offsetHeight + scrollTop < activeItem.offsetTop + height) {\n        this.listContainerEl.scrollTop = activeItem.offsetTop - offsetHeight + height;\n      }\n      else if (activeItem.offsetTop < scrollTop) {\n        this.listContainerEl.scrollTop = activeItem.offsetTop;\n      }\n    };\n    this.comboboxFocusHandler = () => {\n      if (this.disabled) {\n        return;\n      }\n      this.textInput?.focus();\n    };\n    this.clearDisabled = false;\n    this.selectionDisplay = \"all\";\n    this.open = false;\n    this.disabled = false;\n    this.form = undefined;\n    this.label = undefined;\n    this.placeholder = undefined;\n    this.placeholderIcon = undefined;\n    this.placeholderIconFlipRtl = false;\n    this.maxItems = 0;\n    this.name = undefined;\n    this.allowCustomValues = undefined;\n    this.overlayPositioning = \"absolute\";\n    this.required = false;\n    this.selectionMode = \"multiple\";\n    this.scale = \"m\";\n    this.value = null;\n    this.flipPlacements = undefined;\n    this.messages = undefined;\n    this.messageOverrides = undefined;\n    this.selectedItems = [];\n    this.filteredItems = [];\n    this.items = [];\n    this.groupItems = [];\n    this.needsIcon = undefined;\n    this.activeItemIndex = -1;\n    this.activeChipIndex = -1;\n    this.activeDescendant = \"\";\n    this.compactSelectionDisplay = false;\n    this.selectedHiddenChipsCount = 0;\n    this.selectedVisibleChipsCount = 0;\n    this.text = \"\";\n    this.effectiveLocale = undefined;\n    this.defaultMessages = undefined;\n  }\n  openHandler() {\n    onToggleOpenCloseComponent(this);\n    if (this.disabled) {\n      this.open = false;\n      return;\n    }\n    this.setMaxScrollerHeight();\n  }\n  handleDisabledChange(value) {\n    if (!value) {\n      this.open = false;\n    }\n  }\n  maxItemsHandler() {\n    this.setMaxScrollerHeight();\n  }\n  overlayPositioningHandler() {\n    this.reposition(true);\n  }\n  handlePropsChange() {\n    this.updateItems();\n  }\n  valueHandler(value) {\n    if (!this.internalValueChangeFlag) {\n      const items = this.getItems();\n      if (Array.isArray(value)) {\n        items.forEach((item) => (item.selected = value.includes(item.value)));\n      }\n      else if (value) {\n        items.forEach((item) => (item.selected = value === item.value));\n      }\n      else {\n        items.forEach((item) => (item.selected = false));\n      }\n      this.updateItems();\n    }\n  }\n  onMessagesChange() {\n    /*  wired up by t9n util */\n  }\n  flipPlacementsHandler() {\n    this.setFilteredPlacements();\n    this.reposition(true);\n  }\n  selectedItemsHandler() {\n    this.internalValueChangeFlag = true;\n    this.value = this.getValue();\n    this.internalValueChangeFlag = false;\n  }\n  //--------------------------------------------------------------------------\n  //\n  //  Event Listeners\n  //\n  //--------------------------------------------------------------------------\n  documentClickHandler(event) {\n    if (this.disabled || !isPrimaryPointerButton(event)) {\n      return;\n    }\n    const composedPath = event.composedPath();\n    if (composedPath.includes(this.el) || composedPath.includes(this.referenceEl)) {\n      return;\n    }\n    if (!this.allowCustomValues && this.textInput.value) {\n      this.clearInputValue();\n      this.filterItems(\"\");\n      this.updateActiveItemIndex(-1);\n    }\n    if (this.allowCustomValues && this.text.trim().length) {\n      this.addCustomChip(this.text);\n    }\n    this.open = false;\n  }\n  calciteComboboxItemChangeHandler(event) {\n    if (this.ignoreSelectedEventsFlag) {\n      return;\n    }\n    const target = event.target;\n    const newIndex = this.filteredItems.indexOf(target);\n    this.updateActiveItemIndex(newIndex);\n    this.toggleSelection(target, target.selected);\n  }\n  //--------------------------------------------------------------------------\n  //\n  //  Public Methods\n  //\n  //--------------------------------------------------------------------------\n  /**\n   * Updates the position of the component.\n   *\n   * @param delayed Reposition the component after a delay\n   * @returns Promise\n   */\n  async reposition(delayed = false) {\n    const { floatingEl, referenceEl, placement, overlayPositioning, filteredFlipPlacements } = this;\n    return reposition(this, {\n      floatingEl,\n      referenceEl,\n      overlayPositioning,\n      placement,\n      flipPlacements: filteredFlipPlacements,\n      type: \"menu\",\n    }, delayed);\n  }\n  /** Sets focus on the component. */\n  async setFocus() {\n    await componentFocusable(this);\n    this.textInput?.focus();\n    this.activeChipIndex = -1;\n    this.activeItemIndex = -1;\n  }\n  // --------------------------------------------------------------------------\n  //\n  //  Lifecycle\n  //\n  // --------------------------------------------------------------------------\n  connectedCallback() {\n    connectInteractive(this);\n    connectLocalized(this);\n    connectMessages(this);\n    connectLabel(this);\n    connectForm(this);\n    this.internalValueChangeFlag = true;\n    this.value = this.getValue();\n    this.internalValueChangeFlag = false;\n    this.mutationObserver?.observe(this.el, { childList: true, subtree: true });\n    this.updateItems();\n    this.setFilteredPlacements();\n    this.reposition(true);\n    if (this.open) {\n      this.openHandler();\n      onToggleOpenCloseComponent(this);\n    }\n  }\n  async componentWillLoad() {\n    setUpLoadableComponent(this);\n    this.updateItems();\n    await setUpMessages(this);\n  }\n  componentDidLoad() {\n    afterConnectDefaultValueSet(this, this.getValue());\n    this.reposition(true);\n    setComponentLoaded(this);\n  }\n  componentDidRender() {\n    if (this.el.offsetHeight !== this.inputHeight) {\n      this.reposition(true);\n      this.inputHeight = this.el.offsetHeight;\n    }\n    updateHostInteraction(this);\n  }\n  componentDidUpdate() {\n    this.refreshSelectionDisplay();\n  }\n  disconnectedCallback() {\n    this.mutationObserver?.disconnect();\n    this.resizeObserver?.disconnect();\n    disconnectInteractive(this);\n    disconnectLabel(this);\n    disconnectForm(this);\n    disconnectFloatingUI(this, this.referenceEl, this.floatingEl);\n    disconnectLocalized(this);\n    disconnectMessages(this);\n  }\n  /** when search text is cleared, reset active to  */\n  textHandler() {\n    this.updateActiveItemIndex(-1);\n  }\n  effectiveLocaleChange() {\n    updateMessages(this, this.effectiveLocale);\n  }\n  // --------------------------------------------------------------------------\n  //\n  //  Private Methods\n  //\n  // --------------------------------------------------------------------------\n  clearValue() {\n    this.ignoreSelectedEventsFlag = true;\n    this.items.forEach((el) => (el.selected = false));\n    this.ignoreSelectedEventsFlag = false;\n    this.selectedItems = [];\n    this.emitComboboxChange();\n    this.open = false;\n    this.updateActiveItemIndex(-1);\n    this.resetText();\n    this.filterItems(\"\");\n    this.setFocus();\n  }\n  clearInputValue() {\n    this.textInput.value = \"\";\n    this.text = \"\";\n  }\n  comboboxInViewport() {\n    const bounding = this.el.getBoundingClientRect();\n    return (bounding.top >= 0 &&\n      bounding.left >= 0 &&\n      bounding.right <= (window.innerWidth || document.documentElement.clientWidth) &&\n      bounding.bottom <= (window.innerHeight || document.documentElement.clientHeight));\n  }\n  onBeforeOpen() {\n    this.scrollToActiveItem();\n    this.calciteComboboxBeforeOpen.emit();\n  }\n  onOpen() {\n    this.calciteComboboxOpen.emit();\n  }\n  onBeforeClose() {\n    this.calciteComboboxBeforeClose.emit();\n  }\n  onClose() {\n    this.calciteComboboxClose.emit();\n  }\n  ensureRecentSelectedItemIsActive() {\n    const { selectedItems } = this;\n    const targetIndex = selectedItems.length === 0 ? 0 : this.items.indexOf(selectedItems[selectedItems.length - 1]);\n    this.updateActiveItemIndex(targetIndex);\n  }\n  hideChip(chipEl) {\n    chipEl.classList.add(CSS$1.chipInvisible);\n  }\n  showChip(chipEl) {\n    chipEl.classList.remove(CSS$1.chipInvisible);\n  }\n  refreshChipDisplay({ chipEls, availableHorizontalChipElSpace, chipContainerElGap, }) {\n    chipEls.forEach((chipEl) => {\n      if (!chipEl.selected) {\n        this.hideChip(chipEl);\n      }\n      else {\n        const chipElWidth = getElementWidth(chipEl);\n        if (chipElWidth && chipElWidth < availableHorizontalChipElSpace) {\n          availableHorizontalChipElSpace -= chipElWidth + chipContainerElGap;\n          this.showChip(chipEl);\n          return;\n        }\n      }\n      this.hideChip(chipEl);\n    });\n  }\n  setCompactSelectionDisplay({ chipContainerElGap, chipContainerElWidth, inputWidth, largestSelectedIndicatorChipWidth, }) {\n    const newCompactBreakpoint = Math.round(largestSelectedIndicatorChipWidth + chipContainerElGap + inputWidth);\n    if (!this.maxCompactBreakpoint || this.maxCompactBreakpoint < newCompactBreakpoint) {\n      this.maxCompactBreakpoint = newCompactBreakpoint;\n    }\n    this.compactSelectionDisplay = chipContainerElWidth < this.maxCompactBreakpoint;\n  }\n  setVisibleAndHiddenChips(chipEls) {\n    let newSelectedVisibleChipsCount = 0;\n    chipEls.forEach((chipEl) => {\n      if (chipEl.selected && !chipEl.classList.contains(CSS$1.chipInvisible)) {\n        newSelectedVisibleChipsCount++;\n      }\n    });\n    if (newSelectedVisibleChipsCount !== this.selectedVisibleChipsCount) {\n      this.selectedVisibleChipsCount = newSelectedVisibleChipsCount;\n    }\n    const newSelectedHiddenChipsCount = this.getSelectedItems().length - newSelectedVisibleChipsCount;\n    if (newSelectedHiddenChipsCount !== this.selectedHiddenChipsCount) {\n      this.selectedHiddenChipsCount = newSelectedHiddenChipsCount;\n    }\n  }\n  getMaxScrollerHeight() {\n    const items = this.getItemsAndGroups().filter((item) => !item.hidden);\n    const { maxItems } = this;\n    let itemsToProcess = 0;\n    let maxScrollerHeight = 0;\n    if (items.length > maxItems) {\n      items.forEach((item) => {\n        if (itemsToProcess < maxItems && maxItems > 0) {\n          const height = this.calculateSingleItemHeight(item);\n          if (height > 0) {\n            maxScrollerHeight += height;\n            itemsToProcess++;\n          }\n        }\n      });\n    }\n    return maxScrollerHeight;\n  }\n  calculateSingleItemHeight(item) {\n    if (!item) {\n      return;\n    }\n    let height = item.offsetHeight;\n    // if item has children items, don't count their height twice\n    const children = Array.from(item.querySelectorAll(ComboboxChildSelector));\n    children\n      .map((child) => child?.offsetHeight)\n      .forEach((offsetHeight) => {\n      height -= offsetHeight;\n    });\n    return height;\n  }\n  getItemsAndGroups() {\n    return [...this.groupItems, ...this.items];\n  }\n  toggleSelection(item, value = !item.selected) {\n    if (!item ||\n      (this.selectionMode === \"single-persist\" && item.selected && item.value === this.value)) {\n      return;\n    }\n    if (this.isMulti()) {\n      item.selected = value;\n      this.updateAncestors(item);\n      this.selectedItems = this.getSelectedItems();\n      this.emitComboboxChange();\n      this.resetText();\n      this.filterItems(\"\");\n    }\n    else {\n      this.ignoreSelectedEventsFlag = true;\n      this.items.forEach((el) => (el.selected = el === item ? value : false));\n      this.ignoreSelectedEventsFlag = false;\n      this.selectedItems = this.getSelectedItems();\n      this.emitComboboxChange();\n      if (this.textInput) {\n        this.textInput.value = item.textLabel;\n      }\n      this.open = false;\n      this.updateActiveItemIndex(-1);\n      this.resetText();\n      this.filterItems(\"\");\n    }\n  }\n  updateAncestors(item) {\n    if (this.selectionMode !== \"ancestors\") {\n      return;\n    }\n    const ancestors = getItemAncestors(item);\n    const children = getItemChildren(item);\n    if (item.selected) {\n      ancestors.forEach((el) => {\n        el.selected = true;\n      });\n    }\n    else {\n      children.forEach((el) => (el.selected = false));\n      [...ancestors].forEach((el) => {\n        if (!hasActiveChildren(el)) {\n          el.selected = false;\n        }\n      });\n    }\n  }\n  getFilteredItems() {\n    return this.items.filter((item) => !item.hidden);\n  }\n  getData() {\n    return this.items.map((item) => ({\n      filterDisabled: item.filterDisabled,\n      value: item.value,\n      label: item.textLabel,\n    }));\n  }\n  getNeedsIcon() {\n    return isSingleLike(this.selectionMode) && this.items.some((item) => item.icon);\n  }\n  resetText() {\n    if (this.textInput) {\n      this.textInput.value = \"\";\n    }\n    this.text = \"\";\n  }\n  getItems() {\n    const items = Array.from(this.el.querySelectorAll(ComboboxItem));\n    return items.filter((item) => !item.disabled);\n  }\n  getGroupItems() {\n    return Array.from(this.el.querySelectorAll(ComboboxItemGroup));\n  }\n  addCustomChip(value, focus) {\n    const existingItem = this.items.find((el) => el.textLabel === value);\n    if (existingItem) {\n      this.toggleSelection(existingItem, true);\n    }\n    else {\n      if (!this.isMulti()) {\n        this.toggleSelection(this.selectedItems[this.selectedItems.length - 1], false);\n      }\n      const item = document.createElement(ComboboxItem);\n      item.value = value;\n      item.textLabel = value;\n      item.selected = true;\n      this.el.appendChild(item);\n      this.resetText();\n      if (focus) {\n        this.setFocus();\n      }\n      this.updateItems();\n      this.filterItems(\"\");\n      this.emitComboboxChange();\n    }\n  }\n  removeActiveChip() {\n    this.toggleSelection(this.selectedItems[this.activeChipIndex], false);\n    this.setFocus();\n  }\n  removeLastChip() {\n    this.toggleSelection(this.selectedItems[this.selectedItems.length - 1], false);\n    this.setFocus();\n  }\n  previousChip() {\n    if (this.text) {\n      return;\n    }\n    const length = this.selectedItems.length - 1;\n    const active = this.activeChipIndex;\n    this.activeChipIndex = active === -1 ? length : Math.max(active - 1, 0);\n    this.updateActiveItemIndex(-1);\n    this.focusChip();\n  }\n  nextChip() {\n    if (this.text || this.activeChipIndex === -1) {\n      return;\n    }\n    const last = this.selectedItems.length - 1;\n    const newIndex = this.activeChipIndex + 1;\n    if (newIndex > last) {\n      this.activeChipIndex = -1;\n      this.setFocus();\n    }\n    else {\n      this.activeChipIndex = newIndex;\n      this.focusChip();\n    }\n    this.updateActiveItemIndex(-1);\n  }\n  focusChip() {\n    const guid = this.selectedItems[this.activeChipIndex]?.guid;\n    const chip = guid\n      ? this.referenceEl.querySelector(`#${chipUidPrefix}${guid}`)\n      : null;\n    chip?.setFocus();\n  }\n  shiftActiveItemIndex(delta) {\n    const { length } = this.filteredItems;\n    const newIndex = (this.activeItemIndex + length + delta) % length;\n    this.updateActiveItemIndex(newIndex);\n    this.scrollToActiveItem();\n  }\n  updateActiveItemIndex(index) {\n    this.activeItemIndex = index;\n    let activeDescendant = null;\n    this.filteredItems.forEach((el, i) => {\n      if (i === index) {\n        el.active = true;\n        activeDescendant = `${itemUidPrefix}${el.guid}`;\n      }\n      else {\n        el.active = false;\n      }\n    });\n    this.activeDescendant = activeDescendant;\n    if (this.activeItemIndex > -1) {\n      this.activeChipIndex = -1;\n    }\n  }\n  isAllSelected() {\n    return this.getItems().length === this.getSelectedItems().length;\n  }\n  isMulti() {\n    return !isSingleLike(this.selectionMode);\n  }\n  //--------------------------------------------------------------------------\n  //\n  //  Render Methods\n  //\n  //--------------------------------------------------------------------------\n  renderChips() {\n    const { activeChipIndex, scale, selectionMode, messages } = this;\n    return this.selectedItems.map((item, i) => {\n      const chipClasses = {\n        chip: true,\n        \"chip--active\": activeChipIndex === i,\n      };\n      const ancestors = [...getItemAncestors(item)].reverse();\n      const pathLabel = [...ancestors, item].map((el) => el.textLabel);\n      const label = selectionMode !== \"ancestors\" ? item.textLabel : pathLabel.join(\" / \");\n      return (h(\"calcite-chip\", { class: chipClasses, closable: true, icon: item.icon, iconFlipRtl: item.iconFlipRtl, id: item.guid ? `${chipUidPrefix}${item.guid}` : null, key: item.textLabel, messageOverrides: { dismissLabel: messages.removeTag }, onCalciteChipClose: () => this.calciteChipCloseHandler(item), scale: scale, selected: item.selected, title: label, value: item.value }, label));\n    });\n  }\n  renderAllSelectedIndicatorChip() {\n    const { compactSelectionDisplay, scale, selectedVisibleChipsCount, setAllSelectedIndicatorChipEl, } = this;\n    const label = this.messages.allSelected;\n    return (h(\"calcite-chip\", { class: {\n        chip: true,\n        [CSS$1.chipInvisible]: !(this.isAllSelected() &&\n          !selectedVisibleChipsCount &&\n          !compactSelectionDisplay),\n      }, scale: scale, title: label, value: \"\",\n      // eslint-disable-next-line react/jsx-sort-props -- ref should be last so node attrs/props are in sync (see https://github.com/Esri/calcite-design-system/pull/6530)\n      ref: setAllSelectedIndicatorChipEl }, label));\n  }\n  renderAllSelectedIndicatorChipCompact() {\n    const { compactSelectionDisplay, scale, selectedVisibleChipsCount } = this;\n    const label = this.messages.all || \"All\";\n    return (h(\"calcite-chip\", { class: {\n        chip: true,\n        [CSS$1.chipInvisible]: !(this.isAllSelected() &&\n          !selectedVisibleChipsCount &&\n          compactSelectionDisplay),\n      }, scale: scale, title: label, value: \"\" }, label));\n  }\n  renderSelectedIndicatorChip() {\n    const { compactSelectionDisplay, selectionDisplay, getSelectedItems, scale, selectedHiddenChipsCount, selectedVisibleChipsCount, setSelectedIndicatorChipEl, } = this;\n    let chipInvisible;\n    let label;\n    if (compactSelectionDisplay) {\n      chipInvisible = true;\n    }\n    else {\n      if (selectionDisplay === \"single\") {\n        const selectedItemsCount = getSelectedItems().length;\n        if (this.isAllSelected()) {\n          chipInvisible = true;\n        }\n        else if (selectedItemsCount > 0) {\n          chipInvisible = false;\n        }\n        else {\n          chipInvisible = true;\n        }\n        label = `${selectedItemsCount} ${this.messages.selected}`;\n      }\n      else if (selectionDisplay === \"fit\") {\n        chipInvisible = !!((this.isAllSelected() && selectedVisibleChipsCount === 0) ||\n          selectedHiddenChipsCount === 0);\n        label =\n          selectedVisibleChipsCount > 0\n            ? `+${selectedHiddenChipsCount}`\n            : `${selectedHiddenChipsCount} ${this.messages.selected}`;\n      }\n    }\n    return (h(\"calcite-chip\", { class: {\n        chip: true,\n        [CSS$1.chipInvisible]: chipInvisible,\n      }, scale: scale, title: label, value: \"\",\n      // eslint-disable-next-line react/jsx-sort-props -- ref should be last so node attrs/props are in sync (see https://github.com/Esri/calcite-design-system/pull/6530)\n      ref: setSelectedIndicatorChipEl }, label));\n  }\n  renderSelectedIndicatorChipCompact() {\n    const { compactSelectionDisplay, selectionDisplay, getSelectedItems, scale, selectedHiddenChipsCount, } = this;\n    let chipInvisible;\n    let label;\n    if (compactSelectionDisplay) {\n      const selectedItemsCount = getSelectedItems().length;\n      if (this.isAllSelected()) {\n        chipInvisible = true;\n      }\n      else if (selectionDisplay === \"fit\") {\n        chipInvisible = !(selectedHiddenChipsCount > 0);\n        label = `${selectedHiddenChipsCount || 0}`;\n      }\n      else if (selectionDisplay === \"single\") {\n        chipInvisible = !(selectedItemsCount > 0);\n        label = `${selectedItemsCount}`;\n      }\n    }\n    else {\n      chipInvisible = true;\n    }\n    return (h(\"calcite-chip\", { class: {\n        chip: true,\n        [CSS$1.chipInvisible]: chipInvisible,\n      }, scale: scale, title: label, value: \"\" }, label));\n  }\n  renderInput() {\n    const { guid, disabled, placeholder, selectionMode, selectedItems, open } = this;\n    const single = isSingleLike(selectionMode);\n    const selectedItem = selectedItems[0];\n    const showLabel = !open && single && !!selectedItem;\n    return (h(\"span\", { class: {\n        \"input-wrap\": true,\n        \"input-wrap--single\": single,\n      } }, showLabel && (h(\"span\", { class: {\n        label: true,\n        \"label--icon\": !!selectedItem?.icon,\n      }, key: \"label\" }, selectedItem.textLabel)), h(\"input\", { \"aria-activedescendant\": this.activeDescendant, \"aria-autocomplete\": \"list\", \"aria-controls\": `${listboxUidPrefix}${guid}`, \"aria-label\": getLabelText(this), class: {\n        input: true,\n        \"input--single\": true,\n        \"input--transparent\": this.activeChipIndex > -1,\n        \"input--hidden\": showLabel,\n        \"input--icon\": !!this.placeholderIcon,\n      }, disabled: disabled, id: `${inputUidPrefix}${guid}`, key: \"input\", onFocus: this.comboboxFocusHandler, onInput: this.inputHandler, placeholder: placeholder, type: \"text\",\n      // eslint-disable-next-line react/jsx-sort-props -- ref should be last so node attrs/props are in sync (see https://github.com/Esri/calcite-design-system/pull/6530)\n      ref: (el) => (this.textInput = el) })));\n  }\n  renderListBoxOptions() {\n    return this.filteredItems.map((item) => (h(\"li\", { \"aria-selected\": toAriaBoolean(item.selected), id: item.guid ? `${itemUidPrefix}${item.guid}` : null, role: \"option\", tabindex: \"-1\" }, item.textLabel)));\n  }\n  renderFloatingUIContainer() {\n    const { setFloatingEl, setContainerEl, open } = this;\n    const classes = {\n      [CSS$1.listContainer]: true,\n      [FloatingCSS.animation]: true,\n      [FloatingCSS.animationActive]: open,\n    };\n    return (h(\"div\", { \"aria-hidden\": \"true\", class: {\n        \"floating-ui-container\": true,\n        \"floating-ui-container--active\": open,\n      },\n      // eslint-disable-next-line react/jsx-sort-props -- ref should be last so node attrs/props are in sync (see https://github.com/Esri/calcite-design-system/pull/6530)\n      ref: setFloatingEl }, h(\"div\", { class: classes,\n      // eslint-disable-next-line react/jsx-sort-props -- ref should be last so node attrs/props are in sync (see https://github.com/Esri/calcite-design-system/pull/6530)\n      ref: setContainerEl }, h(\"ul\", { class: { list: true, \"list--hide\": !open } }, h(\"slot\", null)))));\n  }\n  renderIconStart() {\n    const { selectedItems, placeholderIcon, selectionMode, placeholderIconFlipRtl } = this;\n    const selectedItem = selectedItems[0];\n    const selectedIcon = selectedItem?.icon;\n    const singleSelectionMode = isSingleLike(selectionMode);\n    const iconAtStart = !this.open && selectedItem\n      ? !!selectedIcon && singleSelectionMode\n      : !!this.placeholderIcon && (!selectedItem || singleSelectionMode);\n    return (iconAtStart && (h(\"span\", { class: \"icon-start\" }, h(\"calcite-icon\", { class: \"selected-icon\", flipRtl: this.open && selectedItem ? selectedItem.iconFlipRtl : placeholderIconFlipRtl, icon: !this.open && selectedItem ? selectedIcon : placeholderIcon, scale: getIconScale(this.scale) }))));\n  }\n  renderIconEnd() {\n    const { open } = this;\n    return (h(\"span\", { class: \"icon-end\" }, h(\"calcite-icon\", { icon: open ? \"chevron-up\" : \"chevron-down\", scale: getIconScale(this.scale) })));\n  }\n  render() {\n    const { selectionDisplay, guid, label, open } = this;\n    const singleSelectionMode = isSingleLike(this.selectionMode);\n    const allSelectionDisplay = selectionDisplay === \"all\";\n    const singleSelectionDisplay = selectionDisplay === \"single\";\n    const fitSelectionDisplay = !singleSelectionMode && selectionDisplay === \"fit\";\n    const isClearable = !this.clearDisabled && this.value?.length > 0;\n    return (h(Host, { onClick: this.comboboxFocusHandler }, h(\"div\", { \"aria-autocomplete\": \"list\", \"aria-controls\": `${listboxUidPrefix}${guid}`, \"aria-expanded\": toAriaBoolean(open), \"aria-haspopup\": \"listbox\", \"aria-label\": getLabelText(this), \"aria-live\": \"polite\", \"aria-owns\": `${listboxUidPrefix}${guid}`, class: {\n        wrapper: true,\n        \"wrapper--single\": singleSelectionMode || !this.selectedItems.length,\n        \"wrapper--active\": open,\n      }, onClick: this.clickHandler, onKeyDown: this.keyDownHandler, role: \"combobox\",\n      // eslint-disable-next-line react/jsx-sort-props -- ref should be last so node attrs/props are in sync (see https://github.com/Esri/calcite-design-system/pull/6530)\n      ref: this.setReferenceEl }, h(\"div\", { class: {\n        \"grid-input\": true,\n        [CSS$1.selectionDisplayFit]: fitSelectionDisplay,\n        [CSS$1.selectionDisplaySingle]: singleSelectionDisplay,\n      }, ref: this.setChipContainerEl }, this.renderIconStart(), !singleSelectionMode && !singleSelectionDisplay && this.renderChips(), !singleSelectionMode &&\n      !allSelectionDisplay && [\n      this.renderSelectedIndicatorChip(),\n      this.renderSelectedIndicatorChipCompact(),\n      this.renderAllSelectedIndicatorChip(),\n      this.renderAllSelectedIndicatorChipCompact(),\n    ], h(\"label\", { class: \"screen-readers-only\", htmlFor: `${inputUidPrefix}${guid}`, id: `${labelUidPrefix}${guid}` }, label), this.renderInput()), isClearable ? (h(XButton, { disabled: this.disabled, key: \"close-button\", label: this.messages.clear, scale: this.scale })) : null, this.renderIconEnd()), h(\"ul\", { \"aria-labelledby\": `${labelUidPrefix}${guid}`, \"aria-multiselectable\": \"true\", class: \"screen-readers-only\", id: `${listboxUidPrefix}${guid}`, role: \"listbox\", tabIndex: -1 }, this.renderListBoxOptions()), this.renderFloatingUIContainer(), h(HiddenFormInputSlot, { component: this })));\n  }\n  static get assetsDirs() { return [\"assets\"]; }\n  get el() { return this; }\n  static get watchers() { return {\n    \"open\": [\"openHandler\"],\n    \"disabled\": [\"handleDisabledChange\"],\n    \"maxItems\": [\"maxItemsHandler\"],\n    \"overlayPositioning\": [\"overlayPositioningHandler\"],\n    \"selectionMode\": [\"handlePropsChange\"],\n    \"scale\": [\"handlePropsChange\"],\n    \"value\": [\"valueHandler\"],\n    \"messageOverrides\": [\"onMessagesChange\"],\n    \"flipPlacements\": [\"flipPlacementsHandler\"],\n    \"selectedItems\": [\"selectedItemsHandler\"],\n    \"text\": [\"textHandler\"],\n    \"effectiveLocale\": [\"effectiveLocaleChange\"]\n  }; }\n  static get style() { return comboboxCss; }\n}, [1, \"calcite-combobox\", {\n    \"clearDisabled\": [516, \"clear-disabled\"],\n    \"selectionDisplay\": [513, \"selection-display\"],\n    \"open\": [1540],\n    \"disabled\": [516],\n    \"form\": [513],\n    \"label\": [1],\n    \"placeholder\": [1],\n    \"placeholderIcon\": [513, \"placeholder-icon\"],\n    \"placeholderIconFlipRtl\": [516, \"placeholder-icon-flip-rtl\"],\n    \"maxItems\": [514, \"max-items\"],\n    \"name\": [513],\n    \"allowCustomValues\": [516, \"allow-custom-values\"],\n    \"overlayPositioning\": [513, \"overlay-positioning\"],\n    \"required\": [516],\n    \"selectionMode\": [513, \"selection-mode\"],\n    \"scale\": [513],\n    \"value\": [1025],\n    \"flipPlacements\": [16],\n    \"messages\": [1040],\n    \"messageOverrides\": [1040],\n    \"selectedItems\": [1040],\n    \"filteredItems\": [1040],\n    \"items\": [32],\n    \"groupItems\": [32],\n    \"needsIcon\": [32],\n    \"activeItemIndex\": [32],\n    \"activeChipIndex\": [32],\n    \"activeDescendant\": [32],\n    \"compactSelectionDisplay\": [32],\n    \"selectedHiddenChipsCount\": [32],\n    \"selectedVisibleChipsCount\": [32],\n    \"text\": [32],\n    \"effectiveLocale\": [32],\n    \"defaultMessages\": [32],\n    \"reposition\": [64],\n    \"setFocus\": [64]\n  }, [[5, \"pointerdown\", \"documentClickHandler\"], [0, \"calciteComboboxItemChange\", \"calciteComboboxItemChangeHandler\"]]]);\nfunction defineCustomElement() {\n  if (typeof customElements === \"undefined\") {\n    return;\n  }\n  const components = [\"calcite-combobox\", \"calcite-chip\", \"calcite-icon\"];\n  components.forEach(tagName => { switch (tagName) {\n    case \"calcite-combobox\":\n      if (!customElements.get(tagName)) {\n        customElements.define(tagName, Combobox);\n      }\n      break;\n    case \"calcite-chip\":\n      if (!customElements.get(tagName)) {\n        defineCustomElement$2();\n      }\n      break;\n    case \"calcite-icon\":\n      if (!customElements.get(tagName)) {\n        defineCustomElement$1();\n      }\n      break;\n  } });\n}\ndefineCustomElement();\n\nexport { Combobox as C, defineCustomElement as d };\n","/*!\n * All material copyright ESRI, All Rights Reserved, unless otherwise specified.\n * See https://github.com/Esri/calcite-design-system/blob/main/LICENSE.md for details.\n * v1.11.0\n */\nimport { o as nodeListToArray } from './dom.js';\nimport { Build } from '@stencil/core/internal/client/index.js';\n\nconst ComboboxItem = \"CALCITE-COMBOBOX-ITEM\";\nconst ComboboxItemGroup = \"CALCITE-COMBOBOX-ITEM-GROUP\";\nconst ComboboxChildSelector = `${ComboboxItem}, ${ComboboxItemGroup}`;\nconst CSS = {\n  chipInvisible: \"chip--invisible\",\n  selectionDisplayFit: \"selection-display-fit\",\n  selectionDisplaySingle: \"selection-display-single\",\n  listContainer: \"list-container\",\n};\n\nfunction getAncestors(element) {\n  const parent = element.parentElement?.closest(ComboboxChildSelector);\n  const grandparent = parent?.parentElement?.closest(ComboboxChildSelector);\n  return [parent, grandparent].filter((el) => el);\n}\nfunction getItemAncestors(item) {\n  return (item.ancestors?.filter((el) => el.nodeName === \"CALCITE-COMBOBOX-ITEM\") || []);\n}\nfunction getItemChildren(item) {\n  return nodeListToArray(item.querySelectorAll(\"calcite-combobox-item\"));\n}\nfunction hasActiveChildren(node) {\n  const items = nodeListToArray(node.querySelectorAll(\"calcite-combobox-item\"));\n  return items.filter((item) => item.selected).length > 0;\n}\nfunction getDepth(element) {\n  if (!Build.isBrowser) {\n    return 0;\n  }\n  const result = document.evaluate(\"ancestor::calcite-combobox-item | ancestor::calcite-combobox-item-group\", element, null, XPathResult.UNORDERED_NODE_SNAPSHOT_TYPE, null);\n  return result.snapshotLength;\n}\nfunction isSingleLike(selectionMode) {\n  return selectionMode.includes(\"single\");\n}\n\nexport { CSS as C, getDepth as a, ComboboxChildSelector as b, getItemAncestors as c, getItemChildren as d, ComboboxItem as e, ComboboxItemGroup as f, getAncestors as g, hasActiveChildren as h, isSingleLike as i };\n"],"names":["CoreSizing15","CoreBreakpointWidthDefaultXxs","CoreBreakpointWidthDefaultXs","CoreBreakpointWidthDefaultSm","CoreBreakpointWidthDefaultMd","CoreBreakpointWidthDefaultLg","CSS","XButton","_ref","disabled","key","label","onClick","ref","scale","h","class","tabIndex","type","icon","getIconScale","itemUidPrefix","chipUidPrefix","labelUidPrefix","listboxUidPrefix","inputUidPrefix","Combobox","proxyCustomElement","HTMLElement","constructor","super","this","__registerHost","__attachShadow","calciteComboboxChange","createEvent","calciteComboboxFilterChange","calciteComboboxChipClose","calciteComboboxBeforeClose","calciteComboboxClose","calciteComboboxBeforeOpen","calciteComboboxOpen","placement","defaultMenuPlacement","internalValueChangeFlag","textInput","mutationObserver","createObserver","updateItems","resizeObserver","setMaxScrollerHeight","refreshSelectionDisplay","guid","inputHeight","ignoreSelectedEventsFlag","openTransitionProp","setFilteredPlacements","el","flipPlacements","filteredFlipPlacements","filterComputedPlacements","getValue","items","selectedItems","map","item","value","toString","length","onLabelClick","setFocus","keyDownHandler","event","activeChipIndex","activeItemIndex","allowCustomValues","text","addCustomChip","preventDefault","open","clearInputValue","filterItems","updateActiveItemIndex","previousChip","nextChip","shiftActiveItemIndex","comboboxInViewport","scrollIntoView","ensureRecentSelectedItemIsActive","scrollToActiveItem","filteredItems","clearDisabled","clearValue","toggleSelection","removeActiveChip","defaultPrevented","submitForm","isMulti","removeLastChip","toggleCloseEnd","removeEventListener","toggleOpenEnd","async","listContainerEl","referenceEl","reposition","maxScrollerHeight","getMaxScrollerHeight","style","maxHeight","minWidth","clientWidth","calciteChipCloseHandler","comboboxItem","selection","find","emit","clickHandler","composedPath","some","node","tagName","classList","contains","componentLoaded","isSingleLike","selectionMode","allSelectedIndicatorChipEl","chipContainerEl","selectionDisplay","placeholder","selectedIndicatorChipEl","chipContainerElGap","parseInt","getComputedStyle","gap","replace","chipContainerElWidth","getElementWidth","fontSize","fontFamily","inputWidth","getTextWidth","allSelectedIndicatorChipElWidth","selectedIndicatorChipElWidth","largestSelectedIndicatorChipWidth","Math","max","setCompactSelectionDisplay","chipEls","Array","from","shadowRoot","querySelectorAll","filter","chipEl","closable","availableHorizontalChipElSpace","round","selectedHiddenChipsCount","refreshChipDisplay","setVisibleAndHiddenChips","setFloatingEl","floatingEl","connectFloatingUI","setContainerEl","observe","transitionEl","setChipContainerEl","setReferenceEl","setAllSelectedIndicatorChipEl","setSelectedIndicatorChipEl","inputHandler","target","filteredData","_ref2","ComboboxItemGroup","textLabel","debounce","data","getItemsAndGroups","forEach","hidden","parent","grandparent","ancestors","ancestor","getFilteredItems","internalComboboxChangeEvent","emitComboboxChange","getSelectedItems","match","_ref3","selected","hasActiveChildren","sort","a","b","aIdx","indexOf","bIdx","getItems","groupItems","getGroupItems","getData","needsIcon","getNeedsIcon","groupItem","index","afterEmptyGroup","nextGroupItem","children","activeItem","height","calculateSingleItemHeight","offsetHeight","scrollTop","offsetTop","comboboxFocusHandler","focus","form","undefined","placeholderIcon","placeholderIconFlipRtl","maxItems","name","overlayPositioning","required","messages","messageOverrides","activeDescendant","compactSelectionDisplay","selectedVisibleChipsCount","effectiveLocale","defaultMessages","openHandler","onToggleOpenCloseComponent","handleDisabledChange","maxItemsHandler","overlayPositioningHandler","handlePropsChange","valueHandler","isArray","includes","onMessagesChange","flipPlacementsHandler","selectedItemsHandler","documentClickHandler","isPrimaryPointerButton","trim","calciteComboboxItemChangeHandler","newIndex","delayed","arguments","componentFocusable","connectedCallback","connectInteractive","connectLocalized","connectMessages","connectLabel","connectForm","childList","subtree","componentWillLoad","setUpLoadableComponent","setUpMessages","componentDidLoad","afterConnectDefaultValueSet","setComponentLoaded","componentDidRender","updateHostInteraction","componentDidUpdate","disconnectedCallback","disconnect","disconnectInteractive","disconnectLabel","disconnectForm","disconnectFloatingUI","disconnectLocalized","disconnectMessages","textHandler","effectiveLocaleChange","updateMessages","resetText","bounding","getBoundingClientRect","top","left","right","window","innerWidth","document","documentElement","bottom","innerHeight","clientHeight","onBeforeOpen","onOpen","onBeforeClose","onClose","targetIndex","hideChip","add","CSS$1","chipInvisible","showChip","remove","_ref4","chipElWidth","_ref5","newCompactBreakpoint","maxCompactBreakpoint","newSelectedVisibleChipsCount","newSelectedHiddenChipsCount","itemsToProcess","ComboboxChildSelector","child","updateAncestors","getItemAncestors","getItemChildren","filterDisabled","ComboboxItem","existingItem","createElement","appendChild","active","focusChip","last","chip","querySelector","delta","i","isAllSelected","renderChips","chipClasses","pathLabel","reverse","join","iconFlipRtl","id","dismissLabel","removeTag","onCalciteChipClose","title","renderAllSelectedIndicatorChip","allSelected","renderAllSelectedIndicatorChipCompact","all","renderSelectedIndicatorChip","selectedItemsCount","renderSelectedIndicatorChipCompact","renderInput","single","selectedItem","showLabel","getLabelText","input","onFocus","onInput","renderListBoxOptions","toAriaBoolean","role","tabindex","renderFloatingUIContainer","classes","listContainer","FloatingCSS","animation","animationActive","list","renderIconStart","selectedIcon","singleSelectionMode","flipRtl","renderIconEnd","render","allSelectionDisplay","singleSelectionDisplay","fitSelectionDisplay","isClearable","Host","wrapper","onKeyDown","selectionDisplayFit","selectionDisplaySingle","htmlFor","clear","HiddenFormInputSlot","component","assetsDirs","watchers","defineCustomElement","customElements","get","define","defineCustomElement$2","defineCustomElement$1","getAncestors","element","parentElement","closest","nodeName","nodeListToArray","getDepth","Build","isBrowser","evaluate","XPathResult","UNORDERED_NODE_SNAPSHOT_TYPE","snapshotLength"],"sourceRoot":""}