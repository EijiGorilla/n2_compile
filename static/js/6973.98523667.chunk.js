"use strict";(self.webpackChunkn2_compile=self.webpackChunkn2_compile||[]).push([[6973],{26973:(t,e,s)=>{s.r(e),s.d(e,{default:()=>X});var i=s(72791),a=s(36801),r=s(59181),n=s(97304),h=s(66817),o=s(56343),l=s(70565),u=s(12657),d=s(54797),p=s(95494),c=s(3387),g=s(83258),m=s(37919),b=s(47835),f=s(53446),_=s(66683),v=s(14628);class w extends m.W{constructor(){super(...arguments),Object.defineProperty(this,"thumb",{enumerable:!0,configurable:!0,writable:!0,value:this._makeThumb()}),Object.defineProperty(this,"startGrip",{enumerable:!0,configurable:!0,writable:!0,value:this._makeButton()}),Object.defineProperty(this,"endGrip",{enumerable:!0,configurable:!0,writable:!0,value:this._makeButton()}),Object.defineProperty(this,"_thumbBusy",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_startDown",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_endDown",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_thumbDown",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_gripDown",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_addOrientationClass(){this._settings.themeTags=v.Fy(this._settings.themeTags,["scrollbar",this._settings.orientation]),this._settings.background||(this._settings.background=g.c.new(this._root,{themeTags:v.Fy(this._settings.themeTags,["main","background"])}))}_makeButton(){return this.children.push(f.z.new(this._root,{themeTags:["resize","button",this.get("orientation")],icon:b.T.new(this._root,{themeTags:["icon"]})}))}_makeThumb(){return this.children.push(g.c.new(this._root,{themeTags:["thumb",this.get("orientation")]}))}_handleAnimation(t){t&&this._disposers.push(t.events.on("stopped",(()=>{this.setPrivateRaw("isBusy",!1),this._thumbBusy=!1})))}_afterNew(){this._addOrientationClass(),super._afterNew();const t=this.startGrip,e=this.endGrip,s=this.thumb,i=this.get("background");i&&this._disposers.push(i.events.on("click",(t=>{this.setPrivateRaw("isBusy",!0);const e=this._display.toLocal(t.point),i=this.width(),a=this.height(),r=this.get("orientation");let n,h,o;n="vertical"==r?(e.y-s.height()/2)/a:(e.x-s.width()/2)/i,"vertical"==r?(h=n*a,o="y"):(h=n*i,o="x");const l=this.get("animationDuration",0);l>0?(this._thumbBusy=!0,this._handleAnimation(this.thumb.animate({key:o,to:h,duration:l,easing:this.get("animationEasing")}))):(this.thumb.set(o,h),this._root.events.once("frameended",(()=>{this.setPrivateRaw("isBusy",!1)})))}))),this._disposers.push(s.events.on("dblclick",(t=>{if(!v.sp(t.originalEvent,this))return;const e=this.get("animationDuration",0),s=this.get("animationEasing");this.animate({key:"start",to:0,duration:e,easing:s}),this.animate({key:"end",to:1,duration:e,easing:s})}))),this._disposers.push(t.events.on("pointerdown",(()=>{this.setPrivateRaw("isBusy",!0),this._startDown=!0,this._gripDown="start"}))),this._disposers.push(e.events.on("pointerdown",(()=>{this.setPrivateRaw("isBusy",!0),this._endDown=!0,this._gripDown="end"}))),this._disposers.push(s.events.on("pointerdown",(()=>{this.setPrivateRaw("isBusy",!0),this._thumbDown=!0,this._gripDown=void 0}))),this._disposers.push(t.events.on("globalpointerup",(()=>{this._startDown&&this.setPrivateRaw("isBusy",!1),this._startDown=!1}))),this._disposers.push(e.events.on("globalpointerup",(()=>{this._endDown&&this.setPrivateRaw("isBusy",!1),this._endDown=!1}))),this._disposers.push(s.events.on("globalpointerup",(()=>{this._thumbDown&&this.setPrivateRaw("isBusy",!1),this._thumbDown=!1}))),this._disposers.push(t.on("x",(()=>{this._updateThumb()}))),this._disposers.push(e.on("x",(()=>{this._updateThumb()}))),this._disposers.push(t.on("y",(()=>{this._updateThumb()}))),this._disposers.push(e.on("y",(()=>{this._updateThumb()}))),this._disposers.push(s.events.on("positionchanged",(()=>{this._updateGripsByThumb()}))),"vertical"==this.get("orientation")?(t.set("x",0),e.set("x",0),this._disposers.push(s.adapters.add("y",(t=>Math.max(Math.min(Number(t),this.height()-s.height()),0)))),this._disposers.push(s.adapters.add("x",(t=>this.width()/2))),this._disposers.push(t.adapters.add("x",(t=>this.width()/2))),this._disposers.push(e.adapters.add("x",(t=>this.width()/2))),this._disposers.push(t.adapters.add("y",(t=>Math.max(Math.min(Number(t),this.height()),0)))),this._disposers.push(e.adapters.add("y",(t=>Math.max(Math.min(Number(t),this.height()),0))))):(t.set("y",0),e.set("y",0),this._disposers.push(s.adapters.add("x",(t=>Math.max(Math.min(Number(t),this.width()-s.width()),0)))),this._disposers.push(s.adapters.add("y",(t=>this.height()/2))),this._disposers.push(t.adapters.add("y",(t=>this.height()/2))),this._disposers.push(e.adapters.add("y",(t=>this.height()/2))),this._disposers.push(t.adapters.add("x",(t=>Math.max(Math.min(Number(t),this.width()),0)))),this._disposers.push(e.adapters.add("x",(t=>Math.max(Math.min(Number(t),this.width()),0)))))}_updateChildren(){super._updateChildren(),(this.isDirty("end")||this.isDirty("start")||this._sizeDirty)&&this.updateGrips()}_changed(){if(super._changed(),this.isDirty("start")||this.isDirty("end")){const t="rangechanged";this.events.isEnabled(t)&&this.events.dispatch(t,{type:t,target:this,start:this.get("start",0),end:this.get("end",1),grip:this._gripDown})}}updateGrips(){const t=this.startGrip,e=this.endGrip,s=this.get("orientation"),i=this.height(),a=this.width();"vertical"==s?(t.set("y",i*this.get("start",0)),e.set("y",i*this.get("end",1))):(t.set("x",a*this.get("start",0)),e.set("x",a*this.get("end",1)));const r=this.getPrivate("positionTextFunction"),n=Math.round(100*this.get("start",0)),h=Math.round(100*this.get("end",0));let o,l;r?(o=r.call(this,this.get("start",0)),l=r.call(this,this.get("end",0))):(o=n+"%",l=h+"%"),t.set("ariaLabel",this._t("From %1",void 0,o)),t.set("ariaValueNow",""+n),t.set("ariaValueText",n+"%"),t.set("ariaValueMin","0"),t.set("ariaValueMax","100"),e.set("ariaLabel",this._t("To %1",void 0,l)),e.set("ariaValueNow",""+h),e.set("ariaValueText",h+"%"),e.set("ariaValueMin","0"),e.set("ariaValueMax","100")}_updateThumb(){const t=this.thumb,e=this.startGrip,s=this.endGrip,i=this.height(),a=this.width();let r=e.x(),n=s.x(),h=e.y(),o=s.y(),l=0,u=1;"vertical"==this.get("orientation")?_.hj(h)&&_.hj(o)&&(this._thumbBusy||t.isDragging()||(t.set("height",o-h),t.set("y",h)),l=h/i,u=o/i):_.hj(r)&&_.hj(n)&&(this._thumbBusy||t.isDragging()||(t.set("width",n-r),t.set("x",r)),l=r/a,u=n/a),!this.getPrivate("isBusy")||this.get("start")==l&&this.get("end")==u||(this.set("start",l),this.set("end",u));const d=this.getPrivate("positionTextFunction"),p=Math.round(100*this.get("start",0)),c=Math.round(100*this.get("end",0));let g,m;d?(g=d.call(this,this.get("start",0)),m=d.call(this,this.get("end",0))):(g=p+"%",m=c+"%"),t.set("ariaLabel",this._t("From %1 to %2",void 0,g,m)),t.set("ariaValueNow",""+p),t.set("ariaValueText",p+"%")}_updateGripsByThumb(){const t=this.thumb,e=this.startGrip,s=this.endGrip;if("vertical"==this.get("orientation")){const i=t.height();e.set("y",t.y()),s.set("y",t.y()+i)}else{const i=t.width();e.set("x",t.x()),s.set("x",t.x()+i)}}}Object.defineProperty(w,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Scrollbar"}),Object.defineProperty(w,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:m.W.classNames.concat([w.className])});class y extends w{constructor(){super(...arguments),Object.defineProperty(this,"chart",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(c.z.new(this._root,{themeTags:["chart"],interactive:!1,interactiveChildren:!1,panX:!1,panY:!1,wheelX:"none",wheelY:"none"}))}),Object.defineProperty(this,"overlay",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(b.T.new(this._root,{themeTags:["overlay"],interactive:!1}))})}_afterNew(){this._addOrientationClass(),this._settings.themeTags=v.Fy(this._settings.themeTags,["scrollbar","xy","chart",this._settings.orientation]);const t=this.children;t.moveValue(this.thumb),t.moveValue(this.startGrip),t.moveValue(this.endGrip),this.thumb.set("opacity",0),this.thumb.states.create("hover",{opacity:.2});const e=this.chart.plotContainer;e.set("interactive",!1),e.remove("background"),e.children.removeValue(this.chart.zoomOutButton),super._afterNew()}_updateThumb(){super._updateThumb(),this.overlay.set("draw",(t=>{const e=this.startGrip,s=this.endGrip;let i=e.x(),a=e.y(),r=s.x(),n=s.y();const h=this.height(),o=this.width();i>r&&([i,r]=[r,i]),a>n&&([a,n]=[n,a]),"horizontal"===this.get("orientation")?(t.moveTo(0,0),t.lineTo(i,0),t.lineTo(i,h),t.lineTo(0,h),t.lineTo(0,0),t.moveTo(r,0),t.lineTo(o,0),t.lineTo(o,h),t.lineTo(r,h),t.lineTo(r,0)):(t.moveTo(0,0),t.lineTo(0,a),t.lineTo(o,a),t.lineTo(o,0),t.lineTo(0,0),t.moveTo(0,n),t.lineTo(0,h),t.lineTo(o,h),t.lineTo(o,n),t.lineTo(0,n))}))}}Object.defineProperty(y,"className",{enumerable:!0,configurable:!0,writable:!0,value:"XYChartScrollbar"}),Object.defineProperty(y,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:w.classNames.concat([y.className])});var x=s(62973),T=s(39286),D=s(65523),N=s(38487),A=s(71570),k=s(97873),P=s(80659),j=s(91934),B=s(44520),M=s(93510),O=s(80849),G=s(21149),C=s(18661),z=s(26706),V=s(26877),F=s(31957),R=s(80184);const X=()=>{const{cpValueSelected:t}=(0,z.DM)(),{superUrgentSelected:e}=(0,F.sV)(),s=(0,i.useRef)({}),g=(0,i.useRef)({}),m=(0,i.useRef)({}),b=(0,i.useRef)({}),[f,_]=(0,i.useState)([]),v="lot-progress";return(0,i.useEffect)((()=>{(0,B.up)(t,e).then((t=>{_(t)}))}),[t,e]),(0,i.useEffect)((()=>{var i,_,w;w=v,a.S6(r.i_.rootElements,(function(t){t.dom.id===w&&t.dispose()}));var z=n.f.new(v);z.container.children.clear(),null===(i=z._logo)||void 0===i||i.dispose(),z.setThemes([P.Z.new(z),j.Z.new(z)]);var F=z.container.children.push(c.z.new(z,{panX:!1,panY:!1,wheelX:"panX",wheelY:"zoomX",paddingBottom:35,layout:z.verticalLayout}));b.current=F;let R=y.new(z,{orientation:"vertical"});R.startGrip.set("scale",.7),R.endGrip.set("scale",.7),F.set("scrollbarY",R);let X=F.get("scrollbarY");null===X||void 0===X||null===(_=X.get("background"))||void 0===_||_.setAll({fill:h.$_("#ffffff"),fillOpacity:.2}),F.children.unshift(o._.new(z,{text:"Monthly Progress & Target Schedule of Handed Over Lots",fontSize:14,fontWeight:"bold",textAlign:"center",fill:h.$_("#ffffff"),x:l.aQ(50),centerX:l.aQ(50),paddingTop:0,marginBottom:10})),F.set("cursor",x.L.new(z,{behavior:"zoomX"})).lineY.set("visible",!1);var Y=T.n.new(z,{strokeOpacity:1,strokeWidth:1,stroke:h.$_("#ffffff")}),S=F.xAxes.push(D.S.new(z,{maxDeviation:0,groupData:!0,baseInterval:{timeUnit:"day",count:1},groupIntervals:[{timeUnit:"month",count:1}],renderer:Y,tooltip:u.u.new(z,{})})),$=F.yAxes.push(N.m.new(z,{min:0,strictMinMax:!0,renderer:A.j.new(z,{minGridDistance:60,strokeOpacity:1,strokeWidth:1,stroke:h.$_("#ffffff")})}));S.get("renderer").labels.template.setAll({textAlign:"center",fill:h.$_("#ffffff"),fontSize:12}),$.get("renderer").labels.template.setAll({textAlign:"center",fill:h.$_("#ffffff"),fontSize:12}),g.current=S,m.current=$,$.children.unshift(o._.new(z,{rotation:-90,y:l.CI,centerX:l.CI,fill:h.$_("#ffffff"),fontSize:11}));var E=F.children.push(d.D.new(z,{centerX:l.CI,centerY:l.aQ(50),x:l.CI,y:l.aQ(108),marginTop:-20}));function I(s,i,a){var r,n=F.series.push(k.d.new(z,{name:s,stacked:!0,xAxis:S,yAxis:$,valueYField:i,valueXField:"date",categoryXField:"date",fill:a,stroke:a}));n.columns.template.events.on("click",(s=>{var a;const n=null===(a=s.target.dataItem)||void 0===a?void 0:a.dataContext,h=new Date(null===n||void 0===n?void 0:n.date),o=(0,B._m)(new Date(h)),l="target"===i?`${V.N4} <= date'`+o+"'":`${V.kr} <= date'`+o+"'",u="target"===i?1:2,d=`${V.Rf} = `+u,p=`${V.gi} = '`+t+"'",c=V.Wx+" AND "+p;let g;var m=M.Aj.createQuery();e===V.NX[0]?"All"===t?(m.where="1=1 AND "+d+" AND "+l,g="1=1 AND "+d+" AND "+l):(m.where=p+" AND "+d+" AND "+l,g=p+" AND "+d+" AND "+l):e===V.NX[1]&&("All"===t?(m.where=V.Wx+" AND "+d+" AND "+l,g=V.Wx+" AND "+d+" AND "+l):(m.where=c+" AND "+d+" AND "+l,g=c+" AND "+d+" AND "+l)),O.ei.whenLayerView(M.Aj).then((t=>{M.Aj.queryFeatures(m).then((e=>{const s=e.features.length;let i=[];for(var a=0;a<s;a++){var n=e.features[a].attributes.OBJECTID;i.push(n)}var h=new G.Z({objectIds:i});M.Aj.queryExtent(h).then((function(t){t.extent&&O.ei.goTo(t.extent)})),r&&r.remove(),r=t.highlight(i),O.ei.on("click",(function(){t.filter=new C.Z({where:void 0}),r.remove()}))})),t.filter=new C.Z({where:g})}))})),n.columns.template.setAll({tooltipText:'{name}: {valueY} ({valueYTotalPercent.formatNumber("#.#")}%)',tooltipY:l.aQ(10)}),n.data.setAll(f),n.appear(),n.bullets.push((function(){return p.g.new(z,{sprite:o._.new(z,{text:"{valueY}",fill:z.interfaceColors.get("alternativeText"),centerY:l.CI,centerX:l.CI,populateText:!0})})})),E.data.push(n)}return s.current=E,E.labels.template.setAll({oversizedBehavior:"truncate",fill:h.$_("#ffffff"),fontSize:17,scale:.7}),I("Actual","actual",h.$_("#0096FF")),I("Target","target",h.$_("#FF5733")),F.appear(1e3,100),()=>{z.dispose()}}),[v,f]),(0,R.jsx)(R.Fragment,{children:(0,R.jsxs)("div",{id:v,style:{height:"40vh",width:"70%",backgroundColor:"#2b2b2b",color:"white",position:"fixed",zIndex:10,bottom:0,marginLeft:"auto",marginRight:"auto"},children:[" ",(0,R.jsx)("b",{style:{fontSize:"60px",opacity:"0.4",zIndex:"12",color:"gray",position:"fixed",bottom:"130px",left:"100px",transform:"rotate(10deg)"},children:"UNDER DEVELOPMENT"})]})})}}}]);
//# sourceMappingURL=6973.98523667.chunk.js.map